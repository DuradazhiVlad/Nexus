function rp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function np(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Hd={exports:{}},Ca={},Wd={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ei=Symbol.for("react.element"),ip=Symbol.for("react.portal"),ap=Symbol.for("react.fragment"),lp=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),cp=Symbol.for("react.provider"),up=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),fp=Symbol.for("react.suspense"),hp=Symbol.for("react.memo"),mp=Symbol.for("react.lazy"),eu=Symbol.iterator;function pp(e){return e===null||typeof e!="object"?null:(e=eu&&e[eu]||e["@@iterator"],typeof e=="function"?e:null)}var Gd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kd=Object.assign,Qd={};function Kn(e,t,r){this.props=e,this.context=t,this.refs=Qd,this.updater=r||Gd}Kn.prototype.isReactComponent={};Kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jd(){}Jd.prototype=Kn.prototype;function qo(e,t,r){this.props=e,this.context=t,this.refs=Qd,this.updater=r||Gd}var Ho=qo.prototype=new Jd;Ho.constructor=qo;Kd(Ho,Kn.prototype);Ho.isPureReactComponent=!0;var tu=Array.isArray,Xd=Object.prototype.hasOwnProperty,Wo={current:null},Yd={key:!0,ref:!0,__self:!0,__source:!0};function Zd(e,t,r){var n,s={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Xd.call(t,n)&&!Yd.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ei,type:e,key:i,ref:l,props:s,_owner:Wo.current}}function gp(e,t){return{$$typeof:ei,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Go(e){return typeof e=="object"&&e!==null&&e.$$typeof===ei}function yp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ru=/\/+/g;function el(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yp(""+e.key):t.toString(36)}function Ri(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ei:case ip:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+el(l,0):n,tu(s)?(r="",e!=null&&(r=e.replace(ru,"$&/")+"/"),Ri(s,t,r,"",function(d){return d})):s!=null&&(Go(s)&&(s=gp(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(ru,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",tu(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+el(i,o);l+=Ri(i,t,r,c,s)}else if(c=pp(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+el(i,o++),l+=Ri(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function di(e,t,r){if(e==null)return e;var n=[],s=0;return Ri(e,n,"","",function(i){return t.call(r,i,s++)}),n}function vp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},Li={transition:null},xp={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Li,ReactCurrentOwner:Wo};function ef(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:di,forEach:function(e,t,r){di(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return di(e,function(){t++}),t},toArray:function(e){return di(e,function(t){return t})||[]},only:function(e){if(!Go(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Kn;se.Fragment=ap;se.Profiler=op;se.PureComponent=qo;se.StrictMode=lp;se.Suspense=fp;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xp;se.act=ef;se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Kd({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Wo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Xd.call(t,c)&&!Yd.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:ei,type:e.type,key:s,ref:i,props:n,_owner:l}};se.createContext=function(e){return e={$$typeof:up,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cp,_context:e},e.Consumer=e};se.createElement=Zd;se.createFactory=function(e){var t=Zd.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:dp,render:e}};se.isValidElement=Go;se.lazy=function(e){return{$$typeof:mp,_payload:{_status:-1,_result:e},_init:vp}};se.memo=function(e,t){return{$$typeof:hp,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Li.transition;Li.transition={};try{e()}finally{Li.transition=t}};se.unstable_act=ef;se.useCallback=function(e,t){return tt.current.useCallback(e,t)};se.useContext=function(e){return tt.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};se.useEffect=function(e,t){return tt.current.useEffect(e,t)};se.useId=function(){return tt.current.useId()};se.useImperativeHandle=function(e,t,r){return tt.current.useImperativeHandle(e,t,r)};se.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return tt.current.useMemo(e,t)};se.useReducer=function(e,t,r){return tt.current.useReducer(e,t,r)};se.useRef=function(e){return tt.current.useRef(e)};se.useState=function(e){return tt.current.useState(e)};se.useSyncExternalStore=function(e,t,r){return tt.current.useSyncExternalStore(e,t,r)};se.useTransition=function(){return tt.current.useTransition()};se.version="18.3.1";Wd.exports=se;var y=Wd.exports;const jt=np(y),wp=rp({__proto__:null,default:jt},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=y,jp=Symbol.for("react.element"),_p=Symbol.for("react.fragment"),kp=Object.prototype.hasOwnProperty,Np=bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sp={key:!0,ref:!0,__self:!0,__source:!0};function tf(e,t,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)kp.call(t,n)&&!Sp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:jp,type:e,key:i,ref:l,props:s,_owner:Np.current}}Ca.Fragment=_p;Ca.jsx=tf;Ca.jsxs=tf;Hd.exports=Ca;var a=Hd.exports,rf={exports:{}},wt={},nf={exports:{}},sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,K){var Y=F.length;F.push(K);e:for(;0<Y;){var oe=Y-1>>>1,ce=F[oe];if(0<s(ce,K))F[oe]=K,F[Y]=ce,Y=oe;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var K=F[0],Y=F.pop();if(Y!==K){F[0]=Y;e:for(var oe=0,ce=F.length,Ue=ce>>>1;oe<Ue;){var S=2*(oe+1)-1,$=F[S],X=S+1,ne=F[X];if(0>s($,Y))X<ce&&0>s(ne,$)?(F[oe]=ne,F[X]=Y,oe=X):(F[oe]=$,F[S]=Y,oe=S);else if(X<ce&&0>s(ne,Y))F[oe]=ne,F[X]=Y,oe=X;else break e}}return K}function s(F,K){var Y=F.sortIndex-K.sortIndex;return Y!==0?Y:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,f=null,h=3,v=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(F){for(var K=r(d);K!==null;){if(K.callback===null)n(d);else if(K.startTime<=F)n(d),K.sortIndex=K.expirationTime,t(c,K);else break;K=r(d)}}function k(F){if(w=!1,g(F),!b)if(r(c)!==null)b=!0,le(E);else{var K=r(d);K!==null&&pe(k,K.startTime-F)}}function E(F,K){b=!1,w&&(w=!1,p(N),N=-1),v=!0;var Y=h;try{for(g(K),f=r(c);f!==null&&(!(f.expirationTime>K)||F&&!P());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var ce=oe(f.expirationTime<=K);K=e.unstable_now(),typeof ce=="function"?f.callback=ce:f===r(c)&&n(c),g(K)}else n(c);f=r(c)}if(f!==null)var Ue=!0;else{var S=r(d);S!==null&&pe(k,S.startTime-K),Ue=!1}return Ue}finally{f=null,h=Y,v=!1}}var z=!1,j=null,N=-1,L=5,T=-1;function P(){return!(e.unstable_now()-T<L)}function U(){if(j!==null){var F=e.unstable_now();T=F;var K=!0;try{K=j(!0,F)}finally{K?W():(z=!1,j=null)}}else z=!1}var W;if(typeof m=="function")W=function(){m(U)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ue=G.port2;G.port1.onmessage=U,W=function(){ue.postMessage(null)}}else W=function(){_(U,0)};function le(F){j=F,z||(z=!0,W())}function pe(F,K){N=_(function(){F(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,le(E))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var Y=h;h=K;try{return F()}finally{h=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=h;h=F;try{return K()}finally{h=Y}},e.unstable_scheduleCallback=function(F,K,Y){var oe=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?oe+Y:oe):Y=oe,F){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Y+ce,F={id:u++,callback:K,priorityLevel:F,startTime:Y,expirationTime:ce,sortIndex:-1},Y>oe?(F.sortIndex=Y,t(d,F),r(c)===null&&F===r(d)&&(w?(p(N),N=-1):w=!0,pe(k,Y-oe))):(F.sortIndex=ce,t(c,F),b||v||(b=!0,le(E))),F},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(F){var K=h;return function(){var Y=h;h=K;try{return F.apply(this,arguments)}finally{h=Y}}}})(sf);nf.exports=sf;var Cp=nf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep=y,xt=Cp;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var af=new Set,Os={};function un(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(Os[e]=t,e=0;e<t.length;e++)af.add(t[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ul=Object.prototype.hasOwnProperty,Pp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nu={},su={};function Tp(e){return Ul.call(su,e)?!0:Ul.call(nu,e)?!1:Pp.test(e)?su[e]=!0:(nu[e]=!0,!1)}function Op(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rp(e,t,r,n){if(t===null||typeof t>"u"||Op(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,r,n,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ko=/[\-:]([a-z])/g;function Qo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ko,Qo);He[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ko,Qo);He[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ko,Qo);He[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jo(e,t,r,n){var s=He.hasOwnProperty(t)?He[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rp(t,r,s,n)&&(r=null),n||s===null?Tp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ur=Ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fi=Symbol.for("react.element"),xn=Symbol.for("react.portal"),wn=Symbol.for("react.fragment"),Xo=Symbol.for("react.strict_mode"),Dl=Symbol.for("react.profiler"),lf=Symbol.for("react.provider"),of=Symbol.for("react.context"),Yo=Symbol.for("react.forward_ref"),zl=Symbol.for("react.suspense"),Il=Symbol.for("react.suspense_list"),Zo=Symbol.for("react.memo"),pr=Symbol.for("react.lazy"),cf=Symbol.for("react.offscreen"),iu=Symbol.iterator;function ts(e){return e===null||typeof e!="object"?null:(e=iu&&e[iu]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,tl;function fs(e){if(tl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);tl=t&&t[1]||""}return`
`+tl+e}var rl=!1;function nl(e,t){if(!e||rl)return"";rl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{rl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fs(e):""}function Lp(e){switch(e.tag){case 5:return fs(e.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 2:case 15:return e=nl(e.type,!1),e;case 11:return e=nl(e.type.render,!1),e;case 1:return e=nl(e.type,!0),e;default:return""}}function Fl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wn:return"Fragment";case xn:return"Portal";case Dl:return"Profiler";case Xo:return"StrictMode";case zl:return"Suspense";case Il:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case of:return(e.displayName||"Context")+".Consumer";case lf:return(e._context.displayName||"Context")+".Provider";case Yo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zo:return t=e.displayName||null,t!==null?t:Fl(e.type)||"Memo";case pr:t=e._payload,e=e._init;try{return Fl(e(t))}catch{}}return null}function $p(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fl(t);case 8:return t===Xo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ap(e){var t=uf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hi(e){e._valueTracker||(e._valueTracker=Ap(e))}function df(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=uf(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ml(e,t){var r=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function au(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$r(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ff(e,t){t=t.checked,t!=null&&Jo(e,"checked",t,!1)}function Bl(e,t){ff(e,t);var r=$r(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Vl(e,t.type,$r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Vl(e,t,r){(t!=="number"||Wi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hs=Array.isArray;function On(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$r(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ql(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ou(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(hs(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$r(r)}}function hf(e,t){var r=$r(t.value),n=$r(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function cu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mi,pf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mi=mi||document.createElement("div"),mi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Up=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(e){Up.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ys[t]=ys[e]})});function gf(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ys.hasOwnProperty(e)&&ys[e]?(""+t).trim():t+"px"}function yf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=gf(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Dp=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wl(e,t){if(t){if(Dp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Gl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=null;function ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ql=null,Rn=null,Ln=null;function uu(e){if(e=ni(e)){if(typeof Ql!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Ra(t),Ql(e.stateNode,e.type,t))}}function vf(e){Rn?Ln?Ln.push(e):Ln=[e]:Rn=e}function xf(){if(Rn){var e=Rn,t=Ln;if(Ln=Rn=null,uu(e),t)for(e=0;e<t.length;e++)uu(t[e])}}function wf(e,t){return e(t)}function bf(){}var sl=!1;function jf(e,t,r){if(sl)return e(t,r);sl=!0;try{return wf(e,t,r)}finally{sl=!1,(Rn!==null||Ln!==null)&&(bf(),xf())}}function Ls(e,t){var r=e.stateNode;if(r===null)return null;var n=Ra(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var Jl=!1;if(ar)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{Jl=!1}function zp(e,t,r,n,s,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var vs=!1,Gi=null,Ki=!1,Xl=null,Ip={onError:function(e){vs=!0,Gi=e}};function Fp(e,t,r,n,s,i,l,o,c){vs=!1,Gi=null,zp.apply(Ip,arguments)}function Mp(e,t,r,n,s,i,l,o,c){if(Fp.apply(this,arguments),vs){if(vs){var d=Gi;vs=!1,Gi=null}else throw Error(A(198));Ki||(Ki=!0,Xl=d)}}function dn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function du(e){if(dn(e)!==e)throw Error(A(188))}function Bp(e){var t=e.alternate;if(!t){if(t=dn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return du(s),e;if(i===n)return du(s),t;i=i.sibling}throw Error(A(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,n=i;break}if(o===n){l=!0,n=s,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=s;break}if(o===n){l=!0,n=i,r=s;break}o=o.sibling}if(!l)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function kf(e){return e=Bp(e),e!==null?Nf(e):null}function Nf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nf(e);if(t!==null)return t;e=e.sibling}return null}var Sf=xt.unstable_scheduleCallback,fu=xt.unstable_cancelCallback,Vp=xt.unstable_shouldYield,qp=xt.unstable_requestPaint,Ee=xt.unstable_now,Hp=xt.unstable_getCurrentPriorityLevel,tc=xt.unstable_ImmediatePriority,Cf=xt.unstable_UserBlockingPriority,Qi=xt.unstable_NormalPriority,Wp=xt.unstable_LowPriority,Ef=xt.unstable_IdlePriority,Ea=null,Kt=null;function Gp(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Ea,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Jp,Kp=Math.log,Qp=Math.LN2;function Jp(e){return e>>>=0,e===0?32:31-(Kp(e)/Qp|0)|0}var pi=64,gi=4194304;function ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ji(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?n=ms(o):(i&=l,i!==0&&(n=ms(i)))}else l=r&~s,l!==0?n=ms(l):i!==0&&(n=ms(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-zt(t),s=1<<r,n|=e[r],t&=~s;return n}function Xp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-zt(i),o=1<<l,c=s[l];c===-1?(!(o&r)||o&n)&&(s[l]=Xp(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Yl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pf(){var e=pi;return pi<<=1,!(pi&4194240)&&(pi=64),e}function il(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ti(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=r}function Zp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-zt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function rc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-zt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var fe=0;function Tf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Of,nc,Rf,Lf,$f,Zl=!1,yi=[],Nr=null,Sr=null,Cr=null,$s=new Map,As=new Map,vr=[],e0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hu(e,t){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":$s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(t.pointerId)}}function ns(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ni(t),t!==null&&nc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function t0(e,t,r,n,s){switch(t){case"focusin":return Nr=ns(Nr,e,t,r,n,s),!0;case"dragenter":return Sr=ns(Sr,e,t,r,n,s),!0;case"mouseover":return Cr=ns(Cr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return $s.set(i,ns($s.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,As.set(i,ns(As.get(i)||null,e,t,r,n,s)),!0}return!1}function Af(e){var t=Jr(e.target);if(t!==null){var r=dn(t);if(r!==null){if(t=r.tag,t===13){if(t=_f(r),t!==null){e.blockedOn=t,$f(e.priority,function(){Rf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $i(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Kl=n,r.target.dispatchEvent(n),Kl=null}else return t=ni(r),t!==null&&nc(t),e.blockedOn=r,!1;t.shift()}return!0}function mu(e,t,r){$i(e)&&r.delete(t)}function r0(){Zl=!1,Nr!==null&&$i(Nr)&&(Nr=null),Sr!==null&&$i(Sr)&&(Sr=null),Cr!==null&&$i(Cr)&&(Cr=null),$s.forEach(mu),As.forEach(mu)}function ss(e,t){e.blockedOn===t&&(e.blockedOn=null,Zl||(Zl=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,r0)))}function Us(e){function t(s){return ss(s,e)}if(0<yi.length){ss(yi[0],e);for(var r=1;r<yi.length;r++){var n=yi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Nr!==null&&ss(Nr,e),Sr!==null&&ss(Sr,e),Cr!==null&&ss(Cr,e),$s.forEach(t),As.forEach(t),r=0;r<vr.length;r++)n=vr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vr.length&&(r=vr[0],r.blockedOn===null);)Af(r),r.blockedOn===null&&vr.shift()}var $n=ur.ReactCurrentBatchConfig,Xi=!0;function n0(e,t,r,n){var s=fe,i=$n.transition;$n.transition=null;try{fe=1,sc(e,t,r,n)}finally{fe=s,$n.transition=i}}function s0(e,t,r,n){var s=fe,i=$n.transition;$n.transition=null;try{fe=4,sc(e,t,r,n)}finally{fe=s,$n.transition=i}}function sc(e,t,r,n){if(Xi){var s=eo(e,t,r,n);if(s===null)pl(e,t,n,Yi,r),hu(e,n);else if(t0(s,e,t,r,n))n.stopPropagation();else if(hu(e,n),t&4&&-1<e0.indexOf(e)){for(;s!==null;){var i=ni(s);if(i!==null&&Of(i),i=eo(e,t,r,n),i===null&&pl(e,t,n,Yi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else pl(e,t,n,null,r)}}var Yi=null;function eo(e,t,r,n){if(Yi=null,e=ec(n),e=Jr(e),e!==null)if(t=dn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_f(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yi=e,null}function Uf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hp()){case tc:return 1;case Cf:return 4;case Qi:case Wp:return 16;case Ef:return 536870912;default:return 16}default:return 16}}var jr=null,ic=null,Ai=null;function Df(){if(Ai)return Ai;var e,t=ic,r=t.length,n,s="value"in jr?jr.value:jr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[i-n];n++);return Ai=s.slice(e,1<n?1-n:void 0)}function Ui(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vi(){return!0}function pu(){return!1}function bt(e){function t(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vi:pu,this.isPropagationStopped=pu,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),t}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ac=bt(Qn),ri=Ne({},Qn,{view:0,detail:0}),i0=bt(ri),al,ll,is,Pa=Ne({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==is&&(is&&e.type==="mousemove"?(al=e.screenX-is.screenX,ll=e.screenY-is.screenY):ll=al=0,is=e),al)},movementY:function(e){return"movementY"in e?e.movementY:ll}}),gu=bt(Pa),a0=Ne({},Pa,{dataTransfer:0}),l0=bt(a0),o0=Ne({},ri,{relatedTarget:0}),ol=bt(o0),c0=Ne({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),u0=bt(c0),d0=Ne({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),f0=bt(d0),h0=Ne({},Qn,{data:0}),yu=bt(h0),m0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g0[e])?!!t[e]:!1}function lc(){return y0}var v0=Ne({},ri,{key:function(e){if(e.key){var t=m0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(e){return e.type==="keypress"?Ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),x0=bt(v0),w0=Ne({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=bt(w0),b0=Ne({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),j0=bt(b0),_0=Ne({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),k0=bt(_0),N0=Ne({},Pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S0=bt(N0),C0=[9,13,27,32],oc=ar&&"CompositionEvent"in window,xs=null;ar&&"documentMode"in document&&(xs=document.documentMode);var E0=ar&&"TextEvent"in window&&!xs,zf=ar&&(!oc||xs&&8<xs&&11>=xs),xu=" ",wu=!1;function If(e,t){switch(e){case"keyup":return C0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ff(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bn=!1;function P0(e,t){switch(e){case"compositionend":return Ff(t);case"keypress":return t.which!==32?null:(wu=!0,xu);case"textInput":return e=t.data,e===xu&&wu?null:e;default:return null}}function T0(e,t){if(bn)return e==="compositionend"||!oc&&If(e,t)?(e=Df(),Ai=ic=jr=null,bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zf&&t.locale!=="ko"?null:t.data;default:return null}}var O0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O0[e.type]:t==="textarea"}function Mf(e,t,r,n){vf(n),t=Zi(t,"onChange"),0<t.length&&(r=new ac("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ws=null,Ds=null;function R0(e){Yf(e,0)}function Ta(e){var t=kn(e);if(df(t))return e}function L0(e,t){if(e==="change")return t}var Bf=!1;if(ar){var cl;if(ar){var ul="oninput"in document;if(!ul){var ju=document.createElement("div");ju.setAttribute("oninput","return;"),ul=typeof ju.oninput=="function"}cl=ul}else cl=!1;Bf=cl&&(!document.documentMode||9<document.documentMode)}function _u(){ws&&(ws.detachEvent("onpropertychange",Vf),Ds=ws=null)}function Vf(e){if(e.propertyName==="value"&&Ta(Ds)){var t=[];Mf(t,Ds,e,ec(e)),jf(R0,t)}}function $0(e,t,r){e==="focusin"?(_u(),ws=t,Ds=r,ws.attachEvent("onpropertychange",Vf)):e==="focusout"&&_u()}function A0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ta(Ds)}function U0(e,t){if(e==="click")return Ta(t)}function D0(e,t){if(e==="input"||e==="change")return Ta(t)}function z0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:z0;function zs(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ul.call(t,s)||!Ft(e[s],t[s]))return!1}return!0}function ku(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nu(e,t){var r=ku(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ku(r)}}function qf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hf(){for(var e=window,t=Wi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wi(e.document)}return t}function cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function I0(e){var t=Hf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qf(r.ownerDocument.documentElement,r)){if(n!==null&&cc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Nu(r,i);var l=Nu(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var F0=ar&&"documentMode"in document&&11>=document.documentMode,jn=null,to=null,bs=null,ro=!1;function Su(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ro||jn==null||jn!==Wi(n)||(n=jn,"selectionStart"in n&&cc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bs&&zs(bs,n)||(bs=n,n=Zi(to,"onSelect"),0<n.length&&(t=new ac("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jn)))}function xi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _n={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},dl={},Wf={};ar&&(Wf=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function Oa(e){if(dl[e])return dl[e];if(!_n[e])return e;var t=_n[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Wf)return dl[e]=t[r];return e}var Gf=Oa("animationend"),Kf=Oa("animationiteration"),Qf=Oa("animationstart"),Jf=Oa("transitionend"),Xf=new Map,Cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Xf.set(e,t),un(t,[e])}for(var fl=0;fl<Cu.length;fl++){var hl=Cu[fl],M0=hl.toLowerCase(),B0=hl[0].toUpperCase()+hl.slice(1);Dr(M0,"on"+B0)}Dr(Gf,"onAnimationEnd");Dr(Kf,"onAnimationIteration");Dr(Qf,"onAnimationStart");Dr("dblclick","onDoubleClick");Dr("focusin","onFocus");Dr("focusout","onBlur");Dr(Jf,"onTransitionEnd");zn("onMouseEnter",["mouseout","mouseover"]);zn("onMouseLeave",["mouseout","mouseover"]);zn("onPointerEnter",["pointerout","pointerover"]);zn("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function Eu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Mp(n,t,void 0,e),e.currentTarget=null}function Yf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Eu(s,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Eu(s,o,d),i=c}}}if(Ki)throw e=Xl,Ki=!1,Xl=null,e}function ge(e,t){var r=t[lo];r===void 0&&(r=t[lo]=new Set);var n=e+"__bubble";r.has(n)||(Zf(t,e,2,!1),r.add(n))}function ml(e,t,r){var n=0;t&&(n|=4),Zf(r,e,n,t)}var wi="_reactListening"+Math.random().toString(36).slice(2);function Is(e){if(!e[wi]){e[wi]=!0,af.forEach(function(r){r!=="selectionchange"&&(V0.has(r)||ml(r,!1,e),ml(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wi]||(t[wi]=!0,ml("selectionchange",!1,t))}}function Zf(e,t,r,n){switch(Uf(t)){case 1:var s=n0;break;case 4:s=s0;break;default:s=sc}r=s.bind(null,t,r,e),s=void 0,!Jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function pl(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Jr(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}jf(function(){var d=i,u=ec(r),f=[];e:{var h=Xf.get(e);if(h!==void 0){var v=ac,b=e;switch(e){case"keypress":if(Ui(r)===0)break e;case"keydown":case"keyup":v=x0;break;case"focusin":b="focus",v=ol;break;case"focusout":b="blur",v=ol;break;case"beforeblur":case"afterblur":v=ol;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=l0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=j0;break;case Gf:case Kf:case Qf:v=u0;break;case Jf:v=k0;break;case"scroll":v=i0;break;case"wheel":v=S0;break;case"copy":case"cut":case"paste":v=f0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=vu}var w=(t&4)!==0,_=!w&&e==="scroll",p=w?h!==null?h+"Capture":null:h;w=[];for(var m=d,g;m!==null;){g=m;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,p!==null&&(k=Ls(m,p),k!=null&&w.push(Fs(m,k,g)))),_)break;m=m.return}0<w.length&&(h=new v(h,b,null,r,u),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&r!==Kl&&(b=r.relatedTarget||r.fromElement)&&(Jr(b)||b[lr]))break e;if((v||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,v?(b=r.relatedTarget||r.toElement,v=d,b=b?Jr(b):null,b!==null&&(_=dn(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=d),v!==b)){if(w=gu,k="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=vu,k="onPointerLeave",p="onPointerEnter",m="pointer"),_=v==null?h:kn(v),g=b==null?h:kn(b),h=new w(k,m+"leave",v,r,u),h.target=_,h.relatedTarget=g,k=null,Jr(u)===d&&(w=new w(p,m+"enter",b,r,u),w.target=g,w.relatedTarget=_,k=w),_=k,v&&b)t:{for(w=v,p=b,m=0,g=w;g;g=hn(g))m++;for(g=0,k=p;k;k=hn(k))g++;for(;0<m-g;)w=hn(w),m--;for(;0<g-m;)p=hn(p),g--;for(;m--;){if(w===p||p!==null&&w===p.alternate)break t;w=hn(w),p=hn(p)}w=null}else w=null;v!==null&&Pu(f,h,v,w,!1),b!==null&&_!==null&&Pu(f,_,b,w,!0)}}e:{if(h=d?kn(d):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var E=L0;else if(bu(h))if(Bf)E=D0;else{E=A0;var z=$0}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=U0);if(E&&(E=E(e,d))){Mf(f,E,r,u);break e}z&&z(e,h,d),e==="focusout"&&(z=h._wrapperState)&&z.controlled&&h.type==="number"&&Vl(h,"number",h.value)}switch(z=d?kn(d):window,e){case"focusin":(bu(z)||z.contentEditable==="true")&&(jn=z,to=d,bs=null);break;case"focusout":bs=to=jn=null;break;case"mousedown":ro=!0;break;case"contextmenu":case"mouseup":case"dragend":ro=!1,Su(f,r,u);break;case"selectionchange":if(F0)break;case"keydown":case"keyup":Su(f,r,u)}var j;if(oc)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else bn?If(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(zf&&r.locale!=="ko"&&(bn||N!=="onCompositionStart"?N==="onCompositionEnd"&&bn&&(j=Df()):(jr=u,ic="value"in jr?jr.value:jr.textContent,bn=!0)),z=Zi(d,N),0<z.length&&(N=new yu(N,e,null,r,u),f.push({event:N,listeners:z}),j?N.data=j:(j=Ff(r),j!==null&&(N.data=j)))),(j=E0?P0(e,r):T0(e,r))&&(d=Zi(d,"onBeforeInput"),0<d.length&&(u=new yu("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=j))}Yf(f,t)})}function Fs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ls(e,r),i!=null&&n.unshift(Fs(e,i,s)),i=Ls(e,t),i!=null&&n.push(Fs(e,i,s))),e=e.return}return n}function hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pu(e,t,r,n,s){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,s?(c=Ls(r,i),c!=null&&l.unshift(Fs(r,c,o))):s||(c=Ls(r,i),c!=null&&l.push(Fs(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var q0=/\r\n?/g,H0=/\u0000|\uFFFD/g;function Tu(e){return(typeof e=="string"?e:""+e).replace(q0,`
`).replace(H0,"")}function bi(e,t,r){if(t=Tu(t),Tu(e)!==t&&r)throw Error(A(425))}function ea(){}var no=null,so=null;function io(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ao=typeof setTimeout=="function"?setTimeout:void 0,W0=typeof clearTimeout=="function"?clearTimeout:void 0,Ou=typeof Promise=="function"?Promise:void 0,G0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ou<"u"?function(e){return Ou.resolve(null).then(e).catch(K0)}:ao;function K0(e){setTimeout(function(){throw e})}function gl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Us(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Us(t)}function Er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ru(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Jn,Ms="__reactProps$"+Jn,lr="__reactContainer$"+Jn,lo="__reactEvents$"+Jn,Q0="__reactListeners$"+Jn,J0="__reactHandles$"+Jn;function Jr(e){var t=e[Wt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[lr]||r[Wt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ru(e);e!==null;){if(r=e[Wt])return r;e=Ru(e)}return t}e=r,r=e.parentNode}return null}function ni(e){return e=e[Wt]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Ra(e){return e[Ms]||null}var oo=[],Nn=-1;function zr(e){return{current:e}}function ye(e){0>Nn||(e.current=oo[Nn],oo[Nn]=null,Nn--)}function me(e,t){Nn++,oo[Nn]=e.current,e.current=t}var Ar={},Qe=zr(Ar),ct=zr(!1),sn=Ar;function In(e,t){var r=e.type.contextTypes;if(!r)return Ar;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ut(e){return e=e.childContextTypes,e!=null}function ta(){ye(ct),ye(Qe)}function Lu(e,t,r){if(Qe.current!==Ar)throw Error(A(168));me(Qe,t),me(ct,r)}function eh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(A(108,$p(e)||"Unknown",s));return Ne({},r,n)}function ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,sn=Qe.current,me(Qe,e),me(ct,ct.current),!0}function $u(e,t,r){var n=e.stateNode;if(!n)throw Error(A(169));r?(e=eh(e,t,sn),n.__reactInternalMemoizedMergedChildContext=e,ye(ct),ye(Qe),me(Qe,e)):ye(ct),me(ct,r)}var er=null,La=!1,yl=!1;function th(e){er===null?er=[e]:er.push(e)}function X0(e){La=!0,th(e)}function Ir(){if(!yl&&er!==null){yl=!0;var e=0,t=fe;try{var r=er;for(fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}er=null,La=!1}catch(s){throw er!==null&&(er=er.slice(e+1)),Sf(tc,Ir),s}finally{fe=t,yl=!1}}return null}var Sn=[],Cn=0,na=null,sa=0,_t=[],kt=0,an=null,rr=1,nr="";function Wr(e,t){Sn[Cn++]=sa,Sn[Cn++]=na,na=e,sa=t}function rh(e,t,r){_t[kt++]=rr,_t[kt++]=nr,_t[kt++]=an,an=e;var n=rr;e=nr;var s=32-zt(n)-1;n&=~(1<<s),r+=1;var i=32-zt(t)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,rr=1<<32-zt(t)+s|r<<s|n,nr=i+e}else rr=1<<i|r<<s|n,nr=e}function uc(e){e.return!==null&&(Wr(e,1),rh(e,1,0))}function dc(e){for(;e===na;)na=Sn[--Cn],Sn[Cn]=null,sa=Sn[--Cn],Sn[Cn]=null;for(;e===an;)an=_t[--kt],_t[kt]=null,nr=_t[--kt],_t[kt]=null,rr=_t[--kt],_t[kt]=null}var vt=null,yt=null,we=!1,$t=null;function nh(e,t){var r=Nt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Au(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,yt=Er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=an!==null?{id:rr,overflow:nr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Nt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vt=e,yt=null,!0):!1;default:return!1}}function co(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uo(e){if(we){var t=yt;if(t){var r=t;if(!Au(e,t)){if(co(e))throw Error(A(418));t=Er(r.nextSibling);var n=vt;t&&Au(e,t)?nh(n,r):(e.flags=e.flags&-4097|2,we=!1,vt=e)}}else{if(co(e))throw Error(A(418));e.flags=e.flags&-4097|2,we=!1,vt=e}}}function Uu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function ji(e){if(e!==vt)return!1;if(!we)return Uu(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!io(e.type,e.memoizedProps)),t&&(t=yt)){if(co(e))throw sh(),Error(A(418));for(;t;)nh(e,t),t=Er(t.nextSibling)}if(Uu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yt=Er(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=vt?Er(e.stateNode.nextSibling):null;return!0}function sh(){for(var e=yt;e;)e=Er(e.nextSibling)}function Fn(){yt=vt=null,we=!1}function fc(e){$t===null?$t=[e]:$t.push(e)}var Y0=ur.ReactCurrentBatchConfig;function as(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function _i(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Du(e){var t=e._init;return t(e._payload)}function ih(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Rr(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,m,g,k){return m===null||m.tag!==6?(m=kl(g,p.mode,k),m.return=p,m):(m=s(m,g),m.return=p,m)}function c(p,m,g,k){var E=g.type;return E===wn?u(p,m,g.props.children,k,g.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pr&&Du(E)===m.type)?(k=s(m,g.props),k.ref=as(p,m,g),k.return=p,k):(k=Vi(g.type,g.key,g.props,null,p.mode,k),k.ref=as(p,m,g),k.return=p,k)}function d(p,m,g,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Nl(g,p.mode,k),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function u(p,m,g,k,E){return m===null||m.tag!==7?(m=tn(g,p.mode,k,E),m.return=p,m):(m=s(m,g),m.return=p,m)}function f(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=kl(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case fi:return g=Vi(m.type,m.key,m.props,null,p.mode,g),g.ref=as(p,null,m),g.return=p,g;case xn:return m=Nl(m,p.mode,g),m.return=p,m;case pr:var k=m._init;return f(p,k(m._payload),g)}if(hs(m)||ts(m))return m=tn(m,p.mode,g,null),m.return=p,m;_i(p,m)}return null}function h(p,m,g,k){var E=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:o(p,m,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fi:return g.key===E?c(p,m,g,k):null;case xn:return g.key===E?d(p,m,g,k):null;case pr:return E=g._init,h(p,m,E(g._payload),k)}if(hs(g)||ts(g))return E!==null?null:u(p,m,g,k,null);_i(p,g)}return null}function v(p,m,g,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(g)||null,o(m,p,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case fi:return p=p.get(k.key===null?g:k.key)||null,c(m,p,k,E);case xn:return p=p.get(k.key===null?g:k.key)||null,d(m,p,k,E);case pr:var z=k._init;return v(p,m,g,z(k._payload),E)}if(hs(k)||ts(k))return p=p.get(g)||null,u(m,p,k,E,null);_i(m,k)}return null}function b(p,m,g,k){for(var E=null,z=null,j=m,N=m=0,L=null;j!==null&&N<g.length;N++){j.index>N?(L=j,j=null):L=j.sibling;var T=h(p,j,g[N],k);if(T===null){j===null&&(j=L);break}e&&j&&T.alternate===null&&t(p,j),m=i(T,m,N),z===null?E=T:z.sibling=T,z=T,j=L}if(N===g.length)return r(p,j),we&&Wr(p,N),E;if(j===null){for(;N<g.length;N++)j=f(p,g[N],k),j!==null&&(m=i(j,m,N),z===null?E=j:z.sibling=j,z=j);return we&&Wr(p,N),E}for(j=n(p,j);N<g.length;N++)L=v(j,p,N,g[N],k),L!==null&&(e&&L.alternate!==null&&j.delete(L.key===null?N:L.key),m=i(L,m,N),z===null?E=L:z.sibling=L,z=L);return e&&j.forEach(function(P){return t(p,P)}),we&&Wr(p,N),E}function w(p,m,g,k){var E=ts(g);if(typeof E!="function")throw Error(A(150));if(g=E.call(g),g==null)throw Error(A(151));for(var z=E=null,j=m,N=m=0,L=null,T=g.next();j!==null&&!T.done;N++,T=g.next()){j.index>N?(L=j,j=null):L=j.sibling;var P=h(p,j,T.value,k);if(P===null){j===null&&(j=L);break}e&&j&&P.alternate===null&&t(p,j),m=i(P,m,N),z===null?E=P:z.sibling=P,z=P,j=L}if(T.done)return r(p,j),we&&Wr(p,N),E;if(j===null){for(;!T.done;N++,T=g.next())T=f(p,T.value,k),T!==null&&(m=i(T,m,N),z===null?E=T:z.sibling=T,z=T);return we&&Wr(p,N),E}for(j=n(p,j);!T.done;N++,T=g.next())T=v(j,p,N,T.value,k),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?N:T.key),m=i(T,m,N),z===null?E=T:z.sibling=T,z=T);return e&&j.forEach(function(U){return t(p,U)}),we&&Wr(p,N),E}function _(p,m,g,k){if(typeof g=="object"&&g!==null&&g.type===wn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case fi:e:{for(var E=g.key,z=m;z!==null;){if(z.key===E){if(E=g.type,E===wn){if(z.tag===7){r(p,z.sibling),m=s(z,g.props.children),m.return=p,p=m;break e}}else if(z.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pr&&Du(E)===z.type){r(p,z.sibling),m=s(z,g.props),m.ref=as(p,z,g),m.return=p,p=m;break e}r(p,z);break}else t(p,z);z=z.sibling}g.type===wn?(m=tn(g.props.children,p.mode,k,g.key),m.return=p,p=m):(k=Vi(g.type,g.key,g.props,null,p.mode,k),k.ref=as(p,m,g),k.return=p,p=k)}return l(p);case xn:e:{for(z=g.key;m!==null;){if(m.key===z)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=Nl(g,p.mode,k),m.return=p,p=m}return l(p);case pr:return z=g._init,_(p,m,z(g._payload),k)}if(hs(g))return b(p,m,g,k);if(ts(g))return w(p,m,g,k);_i(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,g),m.return=p,p=m):(r(p,m),m=kl(g,p.mode,k),m.return=p,p=m),l(p)):r(p,m)}return _}var Mn=ih(!0),ah=ih(!1),ia=zr(null),aa=null,En=null,hc=null;function mc(){hc=En=aa=null}function pc(e){var t=ia.current;ye(ia),e._currentValue=t}function fo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function An(e,t){aa=e,hc=En=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(hc!==e)if(e={context:e,memoizedValue:t,next:null},En===null){if(aa===null)throw Error(A(308));En=e,aa.dependencies={lanes:0,firstContext:e}}else En=En.next=e;return t}var Xr=null;function gc(e){Xr===null?Xr=[e]:Xr.push(e)}function lh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,gc(t)):(r.next=s.next,s.next=r),t.interleaved=r,or(e,n)}function or(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var gr=!1;function yc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,or(e,r)}return s=n.interleaved,s===null?(t.next=t,gc(n)):(t.next=s.next,s.next=t),n.interleaved=t,or(e,r)}function Di(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rc(e,r)}}function zu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function la(e,t,r,n){var s=e.updateQueue;gr=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;l=0,u=d=c=null,o=i;do{var h=o.lane,v=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=e,w=o;switch(h=t,v=r,w.tag){case 1:if(b=w.payload,typeof b=="function"){f=b.call(v,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,h=typeof b=="function"?b.call(v,f,h):b,h==null)break e;f=Ne({},f,h);break e;case 2:gr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else v={eventTime:v,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=v,c=f):u=u.next=v,l|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);on|=l,e.lanes=l,e.memoizedState=f}}function Iu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(A(191,s));s.call(n)}}}var si={},Qt=zr(si),Bs=zr(si),Vs=zr(si);function Yr(e){if(e===si)throw Error(A(174));return e}function vc(e,t){switch(me(Vs,t),me(Bs,e),me(Qt,si),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hl(t,e)}ye(Qt),me(Qt,t)}function Bn(){ye(Qt),ye(Bs),ye(Vs)}function ch(e){Yr(Vs.current);var t=Yr(Qt.current),r=Hl(t,e.type);t!==r&&(me(Bs,e),me(Qt,r))}function xc(e){Bs.current===e&&(ye(Qt),ye(Bs))}var _e=zr(0);function oa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vl=[];function wc(){for(var e=0;e<vl.length;e++)vl[e]._workInProgressVersionPrimary=null;vl.length=0}var zi=ur.ReactCurrentDispatcher,xl=ur.ReactCurrentBatchConfig,ln=0,ke=null,$e=null,Fe=null,ca=!1,js=!1,qs=0,Z0=0;function We(){throw Error(A(321))}function bc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ft(e[r],t[r]))return!1;return!0}function jc(e,t,r,n,s,i){if(ln=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zi.current=e===null||e.memoizedState===null?ng:sg,e=r(n,s),js){i=0;do{if(js=!1,qs=0,25<=i)throw Error(A(301));i+=1,Fe=$e=null,t.updateQueue=null,zi.current=ig,e=r(n,s)}while(js)}if(zi.current=ua,t=$e!==null&&$e.next!==null,ln=0,Fe=$e=ke=null,ca=!1,t)throw Error(A(300));return e}function _c(){var e=qs!==0;return qs=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ke.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Pt(){if($e===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Fe===null?ke.memoizedState:Fe.next;if(t!==null)Fe=t,$e=e;else{if(e===null)throw Error(A(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Fe===null?ke.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Hs(e,t){return typeof t=="function"?t(e):t}function wl(e){var t=Pt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=$e,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((ln&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=f,l=n):c=c.next=f,ke.lanes|=u,on|=u}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,Ft(n,t.memoizedState)||(ot=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ke.lanes|=i,on|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bl(e){var t=Pt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);Ft(i,t.memoizedState)||(ot=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function uh(){}function dh(e,t){var r=ke,n=Pt(),s=t(),i=!Ft(n.memoizedState,s);if(i&&(n.memoizedState=s,ot=!0),n=n.queue,kc(mh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Fe!==null&&Fe.memoizedState.tag&1){if(r.flags|=2048,Ws(9,hh.bind(null,r,n,s,t),void 0,null),Be===null)throw Error(A(349));ln&30||fh(r,t,s)}return s}function fh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hh(e,t,r,n){t.value=r,t.getSnapshot=n,ph(t)&&gh(e)}function mh(e,t,r){return r(function(){ph(t)&&gh(e)})}function ph(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ft(e,r)}catch{return!0}}function gh(e){var t=or(e,1);t!==null&&It(t,e,1,-1)}function Fu(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t.queue=e,e=e.dispatch=rg.bind(null,ke,e),[t.memoizedState,e]}function Ws(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function yh(){return Pt().memoizedState}function Ii(e,t,r,n){var s=qt();ke.flags|=e,s.memoizedState=Ws(1|t,r,void 0,n===void 0?null:n)}function $a(e,t,r,n){var s=Pt();n=n===void 0?null:n;var i=void 0;if($e!==null){var l=$e.memoizedState;if(i=l.destroy,n!==null&&bc(n,l.deps)){s.memoizedState=Ws(t,r,i,n);return}}ke.flags|=e,s.memoizedState=Ws(1|t,r,i,n)}function Mu(e,t){return Ii(8390656,8,e,t)}function kc(e,t){return $a(2048,8,e,t)}function vh(e,t){return $a(4,2,e,t)}function xh(e,t){return $a(4,4,e,t)}function wh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bh(e,t,r){return r=r!=null?r.concat([e]):null,$a(4,4,wh.bind(null,t,e),r)}function Nc(){}function jh(e,t){var r=Pt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _h(e,t){var r=Pt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function kh(e,t,r){return ln&21?(Ft(r,t)||(r=Pf(),ke.lanes|=r,on|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=r)}function eg(e,t){var r=fe;fe=r!==0&&4>r?r:4,e(!0);var n=xl.transition;xl.transition={};try{e(!1),t()}finally{fe=r,xl.transition=n}}function Nh(){return Pt().memoizedState}function tg(e,t,r){var n=Or(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sh(e))Ch(t,r);else if(r=lh(e,t,r,n),r!==null){var s=et();It(r,e,n,s),Eh(r,t,n)}}function rg(e,t,r){var n=Or(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sh(e))Ch(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(s.hasEagerState=!0,s.eagerState=o,Ft(o,l)){var c=t.interleaved;c===null?(s.next=s,gc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=lh(e,t,s,n),r!==null&&(s=et(),It(r,e,n,s),Eh(r,t,n))}}function Sh(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Ch(e,t){js=ca=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Eh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rc(e,r)}}var ua={readContext:Et,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},ng={readContext:Et,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:Mu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ii(4194308,4,wh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var r=qt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tg.bind(null,ke,e),[n.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:Fu,useDebugValue:Nc,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=Fu(!1),t=e[0];return e=eg.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ke,s=qt();if(we){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),Be===null)throw Error(A(349));ln&30||fh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Mu(mh.bind(null,n,i,e),[e]),n.flags|=2048,Ws(9,hh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=qt(),t=Be.identifierPrefix;if(we){var r=nr,n=rr;r=(n&~(1<<32-zt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Z0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sg={readContext:Et,useCallback:jh,useContext:Et,useEffect:kc,useImperativeHandle:bh,useInsertionEffect:vh,useLayoutEffect:xh,useMemo:_h,useReducer:wl,useRef:yh,useState:function(){return wl(Hs)},useDebugValue:Nc,useDeferredValue:function(e){var t=Pt();return kh(t,$e.memoizedState,e)},useTransition:function(){var e=wl(Hs)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:uh,useSyncExternalStore:dh,useId:Nh,unstable_isNewReconciler:!1},ig={readContext:Et,useCallback:jh,useContext:Et,useEffect:kc,useImperativeHandle:bh,useInsertionEffect:vh,useLayoutEffect:xh,useMemo:_h,useReducer:bl,useRef:yh,useState:function(){return bl(Hs)},useDebugValue:Nc,useDeferredValue:function(e){var t=Pt();return $e===null?t.memoizedState=e:kh(t,$e.memoizedState,e)},useTransition:function(){var e=bl(Hs)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:uh,useSyncExternalStore:dh,useId:Nh,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ho(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ne({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Aa={isMounted:function(e){return(e=e._reactInternals)?dn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=et(),s=Or(e),i=sr(n,s);i.payload=t,r!=null&&(i.callback=r),t=Pr(e,i,s),t!==null&&(It(t,e,s,n),Di(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=et(),s=Or(e),i=sr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Pr(e,i,s),t!==null&&(It(t,e,s,n),Di(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=et(),n=Or(e),s=sr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Pr(e,s,n),t!==null&&(It(t,e,n,r),Di(t,e,n))}};function Bu(e,t,r,n,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!zs(r,n)||!zs(s,i):!0}function Ph(e,t,r){var n=!1,s=Ar,i=t.contextType;return typeof i=="object"&&i!==null?i=Et(i):(s=ut(t)?sn:Qe.current,n=t.contextTypes,i=(n=n!=null)?In(e,s):Ar),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Aa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Vu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Aa.enqueueReplaceState(t,t.state,null)}function mo(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},yc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Et(i):(i=ut(t)?sn:Qe.current,s.context=In(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ho(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Aa.enqueueReplaceState(s,s.state,null),la(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vn(e,t){try{var r="",n=t;do r+=Lp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function jl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function po(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ag=typeof WeakMap=="function"?WeakMap:Map;function Th(e,t,r){r=sr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){fa||(fa=!0,No=n),po(e,t)},r}function Oh(e,t,r){r=sr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){po(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){po(e,t),typeof n!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function qu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ag;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=wg.bind(null,e,t,r),t.then(e,e))}function Hu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=sr(-1,1),t.tag=2,Pr(r,t,1))),r.lanes|=1),e)}var lg=ur.ReactCurrentOwner,ot=!1;function Ye(e,t,r,n){t.child=e===null?ah(t,null,r,n):Mn(t,e.child,r,n)}function Gu(e,t,r,n,s){r=r.render;var i=t.ref;return An(t,s),n=jc(e,t,r,n,i,s),r=_c(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cr(e,t,s)):(we&&r&&uc(t),t.flags|=1,Ye(e,t,n,s),t.child)}function Ku(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Lc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Rh(e,t,i,n,s)):(e=Vi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:zs,r(l,n)&&e.ref===t.ref)return cr(e,t,s)}return t.flags|=1,e=Rr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Rh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(zs(i,n)&&e.ref===t.ref)if(ot=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,cr(e,t,s)}return go(e,t,r,n,s)}function Lh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Tn,gt),gt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(Tn,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,me(Tn,gt),gt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,me(Tn,gt),gt|=n;return Ye(e,t,s,r),t.child}function $h(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function go(e,t,r,n,s){var i=ut(r)?sn:Qe.current;return i=In(t,i),An(t,s),r=jc(e,t,r,n,i,s),n=_c(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cr(e,t,s)):(we&&n&&uc(t),t.flags|=1,Ye(e,t,r,s),t.child)}function Qu(e,t,r,n,s){if(ut(r)){var i=!0;ra(t)}else i=!1;if(An(t,s),t.stateNode===null)Fi(e,t),Ph(t,r,n),mo(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=Et(d):(d=ut(r)?sn:Qe.current,d=In(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Vu(t,l,n,d),gr=!1;var h=t.memoizedState;l.state=h,la(t,n,l,s),c=t.memoizedState,o!==n||h!==c||ct.current||gr?(typeof u=="function"&&(ho(t,r,u,n),c=t.memoizedState),(o=gr||Bu(t,r,o,n,h,c,d))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,oh(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Ot(t.type,o),l.props=d,f=t.pendingProps,h=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Et(c):(c=ut(r)?sn:Qe.current,c=In(t,c));var v=r.getDerivedStateFromProps;(u=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||h!==c)&&Vu(t,l,n,c),gr=!1,h=t.memoizedState,l.state=h,la(t,n,l,s);var b=t.memoizedState;o!==f||h!==b||ct.current||gr?(typeof v=="function"&&(ho(t,r,v,n),b=t.memoizedState),(d=gr||Bu(t,r,d,n,h,b,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,b,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,b,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),l.props=n,l.state=b,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return yo(e,t,r,n,i,s)}function yo(e,t,r,n,s,i){$h(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&$u(t,r,!1),cr(e,t,i);n=t.stateNode,lg.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Mn(t,e.child,null,i),t.child=Mn(t,null,o,i)):Ye(e,t,o,i),t.memoizedState=n.state,s&&$u(t,r,!0),t.child}function Ah(e){var t=e.stateNode;t.pendingContext?Lu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lu(e,t.context,!1),vc(e,t.containerInfo)}function Ju(e,t,r,n,s){return Fn(),fc(s),t.flags|=256,Ye(e,t,r,n),t.child}var vo={dehydrated:null,treeContext:null,retryLane:0};function xo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uh(e,t,r){var n=t.pendingProps,s=_e.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),me(_e,s&1),e===null)return uo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=za(l,n,0,null),e=tn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=xo(r),t.memoizedState=vo,e):Sc(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return og(e,t,l,n,o,s,r);if(i){i=n.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Rr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Rr(o,i):(i=tn(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?xo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=vo,n}return i=e.child,e=i.sibling,n=Rr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Sc(e,t){return t=za({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ki(e,t,r,n){return n!==null&&fc(n),Mn(t,e.child,null,r),e=Sc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function og(e,t,r,n,s,i,l){if(r)return t.flags&256?(t.flags&=-257,n=jl(Error(A(422))),ki(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=za({mode:"visible",children:n.children},s,0,null),i=tn(i,s,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Mn(t,e.child,null,l),t.child.memoizedState=xo(l),t.memoizedState=vo,i);if(!(t.mode&1))return ki(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(A(419)),n=jl(i,n,void 0),ki(e,t,l,n)}if(o=(l&e.childLanes)!==0,ot||o){if(n=Be,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,or(e,s),It(n,e,s,-1))}return Rc(),n=jl(Error(A(421))),ki(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=bg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,yt=Er(s.nextSibling),vt=t,we=!0,$t=null,e!==null&&(_t[kt++]=rr,_t[kt++]=nr,_t[kt++]=an,rr=e.id,nr=e.overflow,an=t),t=Sc(t,n.children),t.flags|=4096,t)}function Xu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fo(e.return,t,r)}function _l(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Dh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ye(e,t,n.children,r),n=_e.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xu(e,r,t);else if(e.tag===19)Xu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(me(_e,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&oa(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),_l(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&oa(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}_l(t,!0,r,null,i);break;case"together":_l(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),on|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=Rr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Rr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cg(e,t,r){switch(t.tag){case 3:Ah(t),Fn();break;case 5:ch(t);break;case 1:ut(t.type)&&ra(t);break;case 4:vc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;me(ia,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(me(_e,_e.current&1),t.flags|=128,null):r&t.child.childLanes?Uh(e,t,r):(me(_e,_e.current&1),e=cr(e,t,r),e!==null?e.sibling:null);me(_e,_e.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Dh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(_e,_e.current),n)break;return null;case 22:case 23:return t.lanes=0,Lh(e,t,r)}return cr(e,t,r)}var zh,wo,Ih,Fh;zh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wo=function(){};Ih=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Yr(Qt.current);var i=null;switch(r){case"input":s=Ml(e,s),n=Ml(e,n),i=[];break;case"select":s=Ne({},s,{value:void 0}),n=Ne({},n,{value:void 0}),i=[];break;case"textarea":s=ql(e,s),n=ql(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ea)}Wl(r,n);var l;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Os.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Os.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ge("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Fh=function(e,t,r,n){r!==n&&(t.flags|=4)};function ls(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ug(e,t,r){var n=t.pendingProps;switch(dc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return ut(t.type)&&ta(),Ge(t),null;case 3:return n=t.stateNode,Bn(),ye(ct),ye(Qe),wc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ji(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(Eo($t),$t=null))),wo(e,t),Ge(t),null;case 5:xc(t);var s=Yr(Vs.current);if(r=t.type,e!==null&&t.stateNode!=null)Ih(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(A(166));return Ge(t),null}if(e=Yr(Qt.current),ji(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Wt]=t,n[Ms]=i,e=(t.mode&1)!==0,r){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(s=0;s<ps.length;s++)ge(ps[s],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":au(n,i),ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ge("invalid",n);break;case"textarea":ou(n,i),ge("invalid",n)}Wl(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&bi(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&bi(n.textContent,o,e),s=["children",""+o]):Os.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ge("scroll",n)}switch(r){case"input":hi(n),lu(n,i,!0);break;case"textarea":hi(n),cu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ea)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Wt]=t,e[Ms]=n,zh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Gl(r,n),r){case"dialog":ge("cancel",e),ge("close",e),s=n;break;case"iframe":case"object":case"embed":ge("load",e),s=n;break;case"video":case"audio":for(s=0;s<ps.length;s++)ge(ps[s],e);s=n;break;case"source":ge("error",e),s=n;break;case"img":case"image":case"link":ge("error",e),ge("load",e),s=n;break;case"details":ge("toggle",e),s=n;break;case"input":au(e,n),s=Ml(e,n),ge("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ne({},n,{value:void 0}),ge("invalid",e);break;case"textarea":ou(e,n),s=ql(e,n),ge("invalid",e);break;default:s=n}Wl(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?yf(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pf(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Rs(e,c):typeof c=="number"&&Rs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Os.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ge("scroll",e):c!=null&&Jo(e,i,c,l))}switch(r){case"input":hi(e),lu(e,n,!1);break;case"textarea":hi(e),cu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$r(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?On(e,!!n.multiple,i,!1):n.defaultValue!=null&&On(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ea)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)Fh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(A(166));if(r=Yr(Vs.current),Yr(Qt.current),ji(t)){if(n=t.stateNode,r=t.memoizedProps,n[Wt]=t,(i=n.nodeValue!==r)&&(e=vt,e!==null))switch(e.tag){case 3:bi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wt]=t,t.stateNode=n}return Ge(t),null;case 13:if(ye(_e),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&yt!==null&&t.mode&1&&!(t.flags&128))sh(),Fn(),t.flags|=98560,i=!1;else if(i=ji(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[Wt]=t}else Fn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),i=!1}else $t!==null&&(Eo($t),$t=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Ae===0&&(Ae=3):Rc())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return Bn(),wo(e,t),e===null&&Is(t.stateNode.containerInfo),Ge(t),null;case 10:return pc(t.type._context),Ge(t),null;case 17:return ut(t.type)&&ta(),Ge(t),null;case 19:if(ye(_e),i=t.memoizedState,i===null)return Ge(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)ls(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=oa(e),l!==null){for(t.flags|=128,ls(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return me(_e,_e.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ee()>qn&&(t.flags|=128,n=!0,ls(i,!1),t.lanes=4194304)}else{if(!n)if(e=oa(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ls(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!we)return Ge(t),null}else 2*Ee()-i.renderingStartTime>qn&&r!==1073741824&&(t.flags|=128,n=!0,ls(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ee(),t.sibling=null,r=_e.current,me(_e,n?r&1|2:r&1),t):(Ge(t),null);case 22:case 23:return Oc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?gt&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function dg(e,t){switch(dc(t),t.tag){case 1:return ut(t.type)&&ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bn(),ye(ct),ye(Qe),wc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xc(t),null;case 13:if(ye(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(_e),null;case 4:return Bn(),null;case 10:return pc(t.type._context),null;case 22:case 23:return Oc(),null;case 24:return null;default:return null}}var Ni=!1,Ke=!1,fg=typeof WeakSet=="function"?WeakSet:Set,H=null;function Pn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Se(e,t,n)}else r.current=null}function bo(e,t,r){try{r()}catch(n){Se(e,t,n)}}var Yu=!1;function hg(e,t){if(no=Xi,e=Hf(),cc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(o=l+s),f!==i||n!==0&&f.nodeType!==3||(c=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===r&&++d===s&&(o=l),h===i&&++u===n&&(c=l),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(so={focusedElem:e,selectionRange:r},Xi=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,_=b.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ot(t.type,w),_);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(k){Se(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return b=Yu,Yu=!1,b}function _s(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&bo(t,r,i)}s=s.next}while(s!==n)}}function Ua(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Mh(e){var t=e.alternate;t!==null&&(e.alternate=null,Mh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[Ms],delete t[lo],delete t[Q0],delete t[J0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bh(e){return e.tag===5||e.tag===3||e.tag===4}function Zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _o(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ea));else if(n!==4&&(e=e.child,e!==null))for(_o(e,t,r),e=e.sibling;e!==null;)_o(e,t,r),e=e.sibling}function ko(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ko(e,t,r),e=e.sibling;e!==null;)ko(e,t,r),e=e.sibling}var Ve=null,Rt=!1;function fr(e,t,r){for(r=r.child;r!==null;)Vh(e,t,r),r=r.sibling}function Vh(e,t,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Ea,r)}catch{}switch(r.tag){case 5:Ke||Pn(r,t);case 6:var n=Ve,s=Rt;Ve=null,fr(e,t,r),Ve=n,Rt=s,Ve!==null&&(Rt?(e=Ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(Rt?(e=Ve,r=r.stateNode,e.nodeType===8?gl(e.parentNode,r):e.nodeType===1&&gl(e,r),Us(e)):gl(Ve,r.stateNode));break;case 4:n=Ve,s=Rt,Ve=r.stateNode.containerInfo,Rt=!0,fr(e,t,r),Ve=n,Rt=s;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&bo(r,t,l),s=s.next}while(s!==n)}fr(e,t,r);break;case 1:if(!Ke&&(Pn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Se(r,t,o)}fr(e,t,r);break;case 21:fr(e,t,r);break;case 22:r.mode&1?(Ke=(n=Ke)||r.memoizedState!==null,fr(e,t,r),Ke=n):fr(e,t,r);break;default:fr(e,t,r)}}function ed(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fg),t.forEach(function(n){var s=jg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Tt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ve=o.stateNode,Rt=!1;break e;case 3:Ve=o.stateNode.containerInfo,Rt=!0;break e;case 4:Ve=o.stateNode.containerInfo,Rt=!0;break e}o=o.return}if(Ve===null)throw Error(A(160));Vh(i,l,s),Ve=null,Rt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Se(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qh(t,e),t=t.sibling}function qh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Bt(e),n&4){try{_s(3,e,e.return),Ua(3,e)}catch(w){Se(e,e.return,w)}try{_s(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:Tt(t,e),Bt(e),n&512&&r!==null&&Pn(r,r.return);break;case 5:if(Tt(t,e),Bt(e),n&512&&r!==null&&Pn(r,r.return),e.flags&32){var s=e.stateNode;try{Rs(s,"")}catch(w){Se(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&ff(s,i),Gl(o,l);var d=Gl(o,i);for(l=0;l<c.length;l+=2){var u=c[l],f=c[l+1];u==="style"?yf(s,f):u==="dangerouslySetInnerHTML"?pf(s,f):u==="children"?Rs(s,f):Jo(s,u,f,d)}switch(o){case"input":Bl(s,i);break;case"textarea":hf(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?On(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?On(s,!!i.multiple,i.defaultValue,!0):On(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ms]=i}catch(w){Se(e,e.return,w)}}break;case 6:if(Tt(t,e),Bt(e),n&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Se(e,e.return,w)}}break;case 3:if(Tt(t,e),Bt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Us(t.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:Tt(t,e),Bt(e);break;case 13:Tt(t,e),Bt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pc=Ee())),n&4&&ed(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ke=(d=Ke)||u,Tt(t,e),Ke=d):Tt(t,e),Bt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(H=e,u=e.child;u!==null;){for(f=H=u;H!==null;){switch(h=H,v=h.child,h.tag){case 0:case 11:case 14:case 15:_s(4,h,h.return);break;case 1:Pn(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){Se(n,r,w)}}break;case 5:Pn(h,h.return);break;case 22:if(h.memoizedState!==null){rd(f);continue}}v!==null?(v.return=h,H=v):rd(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=gf("display",l))}catch(w){Se(e,e.return,w)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(w){Se(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tt(t,e),Bt(e),n&4&&ed(e);break;case 21:break;default:Tt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bh(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Rs(s,""),n.flags&=-33);var i=Zu(e);ko(e,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Zu(e);_o(e,o,l);break;default:throw Error(A(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mg(e,t,r){H=e,Hh(e)}function Hh(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Ni;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Ke;o=Ni;var d=Ke;if(Ni=l,(Ke=c)&&!d)for(H=s;H!==null;)l=H,c=l.child,l.tag===22&&l.memoizedState!==null?nd(s):c!==null?(c.return=l,H=c):nd(s);for(;i!==null;)H=i,Hh(i),i=i.sibling;H=s,Ni=o,Ke=d}td(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):td(e)}}function td(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||Ua(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ke)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ot(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Iu(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Iu(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Us(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Ke||t.flags&512&&jo(t)}catch(h){Se(t,t.return,h)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function rd(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function nd(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ua(4,t)}catch(c){Se(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Se(t,s,c)}}var i=t.return;try{jo(t)}catch(c){Se(t,i,c)}break;case 5:var l=t.return;try{jo(t)}catch(c){Se(t,l,c)}}}catch(c){Se(t,t.return,c)}if(t===e){H=null;break}var o=t.sibling;if(o!==null){o.return=t.return,H=o;break}H=t.return}}var pg=Math.ceil,da=ur.ReactCurrentDispatcher,Cc=ur.ReactCurrentOwner,St=ur.ReactCurrentBatchConfig,ae=0,Be=null,Le=null,qe=0,gt=0,Tn=zr(0),Ae=0,Gs=null,on=0,Da=0,Ec=0,ks=null,at=null,Pc=0,qn=1/0,Yt=null,fa=!1,No=null,Tr=null,Si=!1,_r=null,ha=0,Ns=0,So=null,Mi=-1,Bi=0;function et(){return ae&6?Ee():Mi!==-1?Mi:Mi=Ee()}function Or(e){return e.mode&1?ae&2&&qe!==0?qe&-qe:Y0.transition!==null?(Bi===0&&(Bi=Pf()),Bi):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Uf(e.type)),e):1}function It(e,t,r,n){if(50<Ns)throw Ns=0,So=null,Error(A(185));ti(e,r,n),(!(ae&2)||e!==Be)&&(e===Be&&(!(ae&2)&&(Da|=r),Ae===4&&xr(e,qe)),dt(e,n),r===1&&ae===0&&!(t.mode&1)&&(qn=Ee()+500,La&&Ir()))}function dt(e,t){var r=e.callbackNode;Yp(e,t);var n=Ji(e,e===Be?qe:0);if(n===0)r!==null&&fu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&fu(r),t===1)e.tag===0?X0(sd.bind(null,e)):th(sd.bind(null,e)),G0(function(){!(ae&6)&&Ir()}),r=null;else{switch(Tf(n)){case 1:r=tc;break;case 4:r=Cf;break;case 16:r=Qi;break;case 536870912:r=Ef;break;default:r=Qi}r=Zh(r,Wh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Wh(e,t){if(Mi=-1,Bi=0,ae&6)throw Error(A(327));var r=e.callbackNode;if(Un()&&e.callbackNode!==r)return null;var n=Ji(e,e===Be?qe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ma(e,n);else{t=n;var s=ae;ae|=2;var i=Kh();(Be!==e||qe!==t)&&(Yt=null,qn=Ee()+500,en(e,t));do try{vg();break}catch(o){Gh(e,o)}while(!0);mc(),da.current=i,ae=s,Le!==null?t=0:(Be=null,qe=0,t=Ae)}if(t!==0){if(t===2&&(s=Yl(e),s!==0&&(n=s,t=Co(e,s))),t===1)throw r=Gs,en(e,0),xr(e,n),dt(e,Ee()),r;if(t===6)xr(e,n);else{if(s=e.current.alternate,!(n&30)&&!gg(s)&&(t=ma(e,n),t===2&&(i=Yl(e),i!==0&&(n=i,t=Co(e,i))),t===1))throw r=Gs,en(e,0),xr(e,n),dt(e,Ee()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(A(345));case 2:Gr(e,at,Yt);break;case 3:if(xr(e,n),(n&130023424)===n&&(t=Pc+500-Ee(),10<t)){if(Ji(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ao(Gr.bind(null,e,at,Yt),t);break}Gr(e,at,Yt);break;case 4:if(xr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-zt(n);i=1<<l,l=t[l],l>s&&(s=l),n&=~i}if(n=s,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pg(n/1960))-n,10<n){e.timeoutHandle=ao(Gr.bind(null,e,at,Yt),n);break}Gr(e,at,Yt);break;case 5:Gr(e,at,Yt);break;default:throw Error(A(329))}}}return dt(e,Ee()),e.callbackNode===r?Wh.bind(null,e):null}function Co(e,t){var r=ks;return e.current.memoizedState.isDehydrated&&(en(e,t).flags|=256),e=ma(e,t),e!==2&&(t=at,at=r,t!==null&&Eo(t)),e}function Eo(e){at===null?at=e:at.push.apply(at,e)}function gg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ft(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~Ec,t&=~Da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-zt(t),n=1<<r;e[r]=-1,t&=~n}}function sd(e){if(ae&6)throw Error(A(327));Un();var t=Ji(e,0);if(!(t&1))return dt(e,Ee()),null;var r=ma(e,t);if(e.tag!==0&&r===2){var n=Yl(e);n!==0&&(t=n,r=Co(e,n))}if(r===1)throw r=Gs,en(e,0),xr(e,t),dt(e,Ee()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gr(e,at,Yt),dt(e,Ee()),null}function Tc(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(qn=Ee()+500,La&&Ir())}}function cn(e){_r!==null&&_r.tag===0&&!(ae&6)&&Un();var t=ae;ae|=1;var r=St.transition,n=fe;try{if(St.transition=null,fe=1,e)return e()}finally{fe=n,St.transition=r,ae=t,!(ae&6)&&Ir()}}function Oc(){gt=Tn.current,ye(Tn)}function en(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,W0(r)),Le!==null)for(r=Le.return;r!==null;){var n=r;switch(dc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ta();break;case 3:Bn(),ye(ct),ye(Qe),wc();break;case 5:xc(n);break;case 4:Bn();break;case 13:ye(_e);break;case 19:ye(_e);break;case 10:pc(n.type._context);break;case 22:case 23:Oc()}r=r.return}if(Be=e,Le=e=Rr(e.current,null),qe=gt=t,Ae=0,Gs=null,Ec=Da=on=0,at=ks=null,Xr!==null){for(t=0;t<Xr.length;t++)if(r=Xr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}Xr=null}return e}function Gh(e,t){do{var r=Le;try{if(mc(),zi.current=ua,ca){for(var n=ke.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ca=!1}if(ln=0,Fe=$e=ke=null,js=!1,qs=0,Cc.current=null,r===null||r.return===null){Ae=1,Gs=t,Le=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=qe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=Hu(l);if(v!==null){v.flags&=-257,Wu(v,l,o,i,t),v.mode&1&&qu(i,d,t),t=v,c=d;var b=t.updateQueue;if(b===null){var w=new Set;w.add(c),t.updateQueue=w}else b.add(c);break e}else{if(!(t&1)){qu(i,d,t),Rc();break e}c=Error(A(426))}}else if(we&&o.mode&1){var _=Hu(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Wu(_,l,o,i,t),fc(Vn(c,o));break e}}i=c=Vn(c,o),Ae!==4&&(Ae=2),ks===null?ks=[i]:ks.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Th(i,c,t);zu(i,p);break e;case 1:o=c;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Tr===null||!Tr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Oh(i,o,t);zu(i,k);break e}}i=i.return}while(i!==null)}Jh(r)}catch(E){t=E,Le===r&&r!==null&&(Le=r=r.return);continue}break}while(!0)}function Kh(){var e=da.current;return da.current=ua,e===null?ua:e}function Rc(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Be===null||!(on&268435455)&&!(Da&268435455)||xr(Be,qe)}function ma(e,t){var r=ae;ae|=2;var n=Kh();(Be!==e||qe!==t)&&(Yt=null,en(e,t));do try{yg();break}catch(s){Gh(e,s)}while(!0);if(mc(),ae=r,da.current=n,Le!==null)throw Error(A(261));return Be=null,qe=0,Ae}function yg(){for(;Le!==null;)Qh(Le)}function vg(){for(;Le!==null&&!Vp();)Qh(Le)}function Qh(e){var t=Yh(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?Jh(e):Le=t,Cc.current=null}function Jh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=dg(r,t),r!==null){r.flags&=32767,Le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Le=null;return}}else if(r=ug(r,t,gt),r!==null){Le=r;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Ae===0&&(Ae=5)}function Gr(e,t,r){var n=fe,s=St.transition;try{St.transition=null,fe=1,xg(e,t,r,n)}finally{St.transition=s,fe=n}return null}function xg(e,t,r,n){do Un();while(_r!==null);if(ae&6)throw Error(A(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Zp(e,i),e===Be&&(Le=Be=null,qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Si||(Si=!0,Zh(Qi,function(){return Un(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=St.transition,St.transition=null;var l=fe;fe=1;var o=ae;ae|=4,Cc.current=null,hg(e,r),qh(r,e),I0(so),Xi=!!no,so=no=null,e.current=r,mg(r),qp(),ae=o,fe=l,St.transition=i}else e.current=r;if(Si&&(Si=!1,_r=e,ha=s),i=e.pendingLanes,i===0&&(Tr=null),Gp(r.stateNode),dt(e,Ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(fa)throw fa=!1,e=No,No=null,e;return ha&1&&e.tag!==0&&Un(),i=e.pendingLanes,i&1?e===So?Ns++:(Ns=0,So=e):Ns=0,Ir(),null}function Un(){if(_r!==null){var e=Tf(ha),t=St.transition,r=fe;try{if(St.transition=null,fe=16>e?16:e,_r===null)var n=!1;else{if(e=_r,_r=null,ha=0,ae&6)throw Error(A(331));var s=ae;for(ae|=4,H=e.current;H!==null;){var i=H,l=i.child;if(H.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(H=d;H!==null;){var u=H;switch(u.tag){case 0:case 11:case 15:_s(8,u,i)}var f=u.child;if(f!==null)f.return=u,H=f;else for(;H!==null;){u=H;var h=u.sibling,v=u.return;if(Mh(u),u===d){H=null;break}if(h!==null){h.return=v,H=h;break}H=v}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}H=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,H=l;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_s(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,H=p;break e}H=i.return}}var m=e.current;for(H=m;H!==null;){l=H;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,H=g;else e:for(l=m;H!==null;){if(o=H,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ua(9,o)}}catch(E){Se(o,o.return,E)}if(o===l){H=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,H=k;break e}H=o.return}}if(ae=s,Ir(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Ea,e)}catch{}n=!0}return n}finally{fe=r,St.transition=t}}return!1}function id(e,t,r){t=Vn(r,t),t=Th(e,t,1),e=Pr(e,t,1),t=et(),e!==null&&(ti(e,1,t),dt(e,t))}function Se(e,t,r){if(e.tag===3)id(e,e,r);else for(;t!==null;){if(t.tag===3){id(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Tr===null||!Tr.has(n))){e=Vn(r,e),e=Oh(t,e,1),t=Pr(t,e,1),e=et(),t!==null&&(ti(t,1,e),dt(t,e));break}}t=t.return}}function wg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&r,Be===e&&(qe&r)===r&&(Ae===4||Ae===3&&(qe&130023424)===qe&&500>Ee()-Pc?en(e,0):Ec|=r),dt(e,t)}function Xh(e,t){t===0&&(e.mode&1?(t=gi,gi<<=1,!(gi&130023424)&&(gi=4194304)):t=1);var r=et();e=or(e,t),e!==null&&(ti(e,t,r),dt(e,r))}function bg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Xh(e,r)}function jg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(t),Xh(e,r)}var Yh;Yh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ot=!1,cg(e,t,r);ot=!!(e.flags&131072)}else ot=!1,we&&t.flags&1048576&&rh(t,sa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fi(e,t),e=t.pendingProps;var s=In(t,Qe.current);An(t,r),s=jc(null,t,n,e,s,r);var i=_c();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(n)?(i=!0,ra(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yc(t),s.updater=Aa,t.stateNode=s,s._reactInternals=t,mo(t,n,e,r),t=yo(null,t,n,!0,i,r)):(t.tag=0,we&&i&&uc(t),Ye(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=kg(n),e=Ot(n,e),s){case 0:t=go(null,t,n,e,r);break e;case 1:t=Qu(null,t,n,e,r);break e;case 11:t=Gu(null,t,n,e,r);break e;case 14:t=Ku(null,t,n,Ot(n.type,e),r);break e}throw Error(A(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ot(n,s),go(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ot(n,s),Qu(e,t,n,s,r);case 3:e:{if(Ah(t),e===null)throw Error(A(387));n=t.pendingProps,i=t.memoizedState,s=i.element,oh(e,t),la(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Vn(Error(A(423)),t),t=Ju(e,t,n,r,s);break e}else if(n!==s){s=Vn(Error(A(424)),t),t=Ju(e,t,n,r,s);break e}else for(yt=Er(t.stateNode.containerInfo.firstChild),vt=t,we=!0,$t=null,r=ah(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fn(),n===s){t=cr(e,t,r);break e}Ye(e,t,n,r)}t=t.child}return t;case 5:return ch(t),e===null&&uo(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,io(n,s)?l=null:i!==null&&io(n,i)&&(t.flags|=32),$h(e,t),Ye(e,t,l,r),t.child;case 6:return e===null&&uo(t),null;case 13:return Uh(e,t,r);case 4:return vc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Mn(t,null,n,r):Ye(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ot(n,s),Gu(e,t,n,s,r);case 7:return Ye(e,t,t.pendingProps,r),t.child;case 8:return Ye(e,t,t.pendingProps.children,r),t.child;case 12:return Ye(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,me(ia,n._currentValue),n._currentValue=l,i!==null)if(Ft(i.value,l)){if(i.children===s.children&&!ct.current){t=cr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=sr(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),fo(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(A(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),fo(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ye(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,An(t,r),s=Et(s),n=n(s),t.flags|=1,Ye(e,t,n,r),t.child;case 14:return n=t.type,s=Ot(n,t.pendingProps),s=Ot(n.type,s),Ku(e,t,n,s,r);case 15:return Rh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ot(n,s),Fi(e,t),t.tag=1,ut(n)?(e=!0,ra(t)):e=!1,An(t,r),Ph(t,n,s),mo(t,n,s,r),yo(null,t,n,!0,e,r);case 19:return Dh(e,t,r);case 22:return Lh(e,t,r)}throw Error(A(156,t.tag))};function Zh(e,t){return Sf(e,t)}function _g(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,r,n){return new _g(e,t,r,n)}function Lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kg(e){if(typeof e=="function")return Lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yo)return 11;if(e===Zo)return 14}return 2}function Rr(e,t){var r=e.alternate;return r===null?(r=Nt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vi(e,t,r,n,s,i){var l=2;if(n=e,typeof e=="function")Lc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case wn:return tn(r.children,s,i,t);case Xo:l=8,s|=8;break;case Dl:return e=Nt(12,r,t,s|2),e.elementType=Dl,e.lanes=i,e;case zl:return e=Nt(13,r,t,s),e.elementType=zl,e.lanes=i,e;case Il:return e=Nt(19,r,t,s),e.elementType=Il,e.lanes=i,e;case cf:return za(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lf:l=10;break e;case of:l=9;break e;case Yo:l=11;break e;case Zo:l=14;break e;case pr:l=16,n=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=Nt(l,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function tn(e,t,r,n){return e=Nt(7,e,n,t),e.lanes=r,e}function za(e,t,r,n){return e=Nt(22,e,n,t),e.elementType=cf,e.lanes=r,e.stateNode={isHidden:!1},e}function kl(e,t,r){return e=Nt(6,e,null,t),e.lanes=r,e}function Nl(e,t,r){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ng(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $c(e,t,r,n,s,i,l,o,c){return e=new Ng(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Nt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yc(i),e}function Sg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function em(e){if(!e)return Ar;e=e._reactInternals;e:{if(dn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(ut(r))return eh(e,r,t)}return t}function tm(e,t,r,n,s,i,l,o,c){return e=$c(r,n,!0,e,s,i,l,o,c),e.context=em(null),r=e.current,n=et(),s=Or(r),i=sr(n,s),i.callback=t??null,Pr(r,i,s),e.current.lanes=s,ti(e,s,n),dt(e,n),e}function Ia(e,t,r,n){var s=t.current,i=et(),l=Or(s);return r=em(r),t.context===null?t.context=r:t.pendingContext=r,t=sr(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Pr(s,t,l),e!==null&&(It(e,s,l,i),Di(e,s,l)),l}function pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ad(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ac(e,t){ad(e,t),(e=e.alternate)&&ad(e,t)}function Cg(){return null}var rm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uc(e){this._internalRoot=e}Fa.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Ia(e,t,null,null)};Fa.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cn(function(){Ia(null,e,null,null)}),t[lr]=null}};function Fa(e){this._internalRoot=e}Fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vr.length&&t!==0&&t<vr[r].priority;r++);vr.splice(r,0,e),r===0&&Af(e)}};function Dc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ld(){}function Eg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=pa(l);i.call(d)}}var l=tm(t,n,e,0,null,!1,!1,"",ld);return e._reactRootContainer=l,e[lr]=l.current,Is(e.nodeType===8?e.parentNode:e),cn(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var d=pa(c);o.call(d)}}var c=$c(e,0,!1,null,null,!1,!1,"",ld);return e._reactRootContainer=c,e[lr]=c.current,Is(e.nodeType===8?e.parentNode:e),cn(function(){Ia(t,c,r,n)}),c}function Ba(e,t,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=pa(l);o.call(c)}}Ia(t,l,e,s)}else l=Eg(r,t,e,s,n);return pa(l)}Of=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ms(t.pendingLanes);r!==0&&(rc(t,r|1),dt(t,Ee()),!(ae&6)&&(qn=Ee()+500,Ir()))}break;case 13:cn(function(){var n=or(e,1);if(n!==null){var s=et();It(n,e,1,s)}}),Ac(e,1)}};nc=function(e){if(e.tag===13){var t=or(e,134217728);if(t!==null){var r=et();It(t,e,134217728,r)}Ac(e,134217728)}};Rf=function(e){if(e.tag===13){var t=Or(e),r=or(e,t);if(r!==null){var n=et();It(r,e,t,n)}Ac(e,t)}};Lf=function(){return fe};$f=function(e,t){var r=fe;try{return fe=e,t()}finally{fe=r}};Ql=function(e,t,r){switch(t){case"input":if(Bl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ra(n);if(!s)throw Error(A(90));df(n),Bl(n,s)}}}break;case"textarea":hf(e,r);break;case"select":t=r.value,t!=null&&On(e,!!r.multiple,t,!1)}};wf=Tc;bf=cn;var Pg={usingClientEntryPoint:!1,Events:[ni,kn,Ra,vf,xf,Tc]},os={findFiberByHostInstance:Jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tg={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kf(e),e===null?null:e.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||Cg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ci.isDisabled&&Ci.supportsFiber)try{Ea=Ci.inject(Tg),Kt=Ci}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pg;wt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dc(t))throw Error(A(200));return Sg(e,t,null,r)};wt.createRoot=function(e,t){if(!Dc(e))throw Error(A(299));var r=!1,n="",s=rm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$c(e,1,!1,null,null,r,!1,n,s),e[lr]=t.current,Is(e.nodeType===8?e.parentNode:e),new Uc(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=kf(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return cn(e)};wt.hydrate=function(e,t,r){if(!Ma(t))throw Error(A(200));return Ba(null,e,t,!0,r)};wt.hydrateRoot=function(e,t,r){if(!Dc(e))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=rm;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=tm(t,null,e,1,r??null,s,!1,i,l),e[lr]=t.current,Is(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Fa(t)};wt.render=function(e,t,r){if(!Ma(t))throw Error(A(200));return Ba(null,e,t,!1,r)};wt.unmountComponentAtNode=function(e){if(!Ma(e))throw Error(A(40));return e._reactRootContainer?(cn(function(){Ba(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1};wt.unstable_batchedUpdates=Tc;wt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ma(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Ba(e,t,r,!1,n)};wt.version="18.3.1-next-f1338f8080-20240426";function nm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nm)}catch(e){console.error(e)}}nm(),rf.exports=wt;var Og=rf.exports,sm,od=Og;sm=od.createRoot,od.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ks.apply(this,arguments)}var kr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(kr||(kr={}));const cd="popstate";function Rg(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:l,hash:o}=n.location;return Po("",{pathname:i,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ga(s)}return $g(t,r,null,e)}function Ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function im(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lg(){return Math.random().toString(36).substr(2,8)}function ud(e,t){return{usr:e.state,key:e.key,idx:t}}function Po(e,t,r,n){return r===void 0&&(r=null),Ks({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xn(t):t,{state:r,key:t&&t.key||n||Lg()})}function ga(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function $g(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,l=s.history,o=kr.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(Ks({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function f(){o=kr.Pop;let _=u(),p=_==null?null:_-d;d=_,c&&c({action:o,location:w.location,delta:p})}function h(_,p){o=kr.Push;let m=Po(w.location,_,p);d=u()+1;let g=ud(m,d),k=w.createHref(m);try{l.pushState(g,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(k)}i&&c&&c({action:o,location:w.location,delta:1})}function v(_,p){o=kr.Replace;let m=Po(w.location,_,p);d=u();let g=ud(m,d),k=w.createHref(m);l.replaceState(g,"",k),i&&c&&c({action:o,location:w.location,delta:0})}function b(_){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof _=="string"?_:ga(_);return m=m.replace(/ $/,"%20"),Ce(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let w={get action(){return o},get location(){return e(s,l)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cd,f),c=_,()=>{s.removeEventListener(cd,f),c=null}},createHref(_){return t(s,_)},createURL:b,encodeLocation(_){let p=b(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:v,go(_){return l.go(_)}};return w}var dd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dd||(dd={}));function Ag(e,t,r){return r===void 0&&(r="/"),Ug(e,t,r,!1)}function Ug(e,t,r,n){let s=typeof t=="string"?Xn(t):t,i=Hn(s.pathname||"/",r);if(i==null)return null;let l=am(e);Dg(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Kg(i);o=Wg(l[c],d,n)}return o}function am(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Ce(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Lr([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),am(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:qg(d,i.index),routesMeta:u})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let c of lm(i.path))s(i,l,c)}),t}function lm(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let l=lm(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Dg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Hg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zg=/^:[\w-]+$/,Ig=3,Fg=2,Mg=1,Bg=10,Vg=-2,fd=e=>e==="*";function qg(e,t){let r=e.split("/"),n=r.length;return r.some(fd)&&(n+=Vg),t&&(n+=Fg),r.filter(s=>!fd(s)).reduce((s,i)=>s+(zg.test(i)?Ig:i===""?Mg:Bg),n)}function Hg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Wg(e,t,r){let{routesMeta:n}=e,s={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=ya({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=ya({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),l.push({params:s,pathname:Lr([i,f.pathname]),pathnameBase:Yg(Lr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Lr([i,f.pathnameBase]))}return l}function ya(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Gg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:h,isOptional:v}=u;if(h==="*"){let w=o[f]||"";l=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=o[f];return v&&!b?d[h]=void 0:d[h]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function Gg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),im(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Kg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return im(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Qg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Xn(e):e;return{pathname:r?r.startsWith("/")?r:Jg(r,t):t,search:Zg(n),hash:ey(s)}}function Jg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Sl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function om(e,t){let r=Xg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function cm(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Xn(e):(s=Ks({},e),Ce(!s.pathname||!s.pathname.includes("?"),Sl("?","pathname","search",s)),Ce(!s.pathname||!s.pathname.includes("#"),Sl("#","pathname","hash",s)),Ce(!s.search||!s.search.includes("#"),Sl("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=r;else{let f=t.length-1;if(!n&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=Qg(s,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Lr=e=>e.join("/").replace(/\/\/+/g,"/"),Yg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Zg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ey=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ty(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const um=["post","put","patch","delete"];new Set(um);const ry=["get",...um];new Set(ry);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qs.apply(this,arguments)}const Va=y.createContext(null),dm=y.createContext(null),Fr=y.createContext(null),qa=y.createContext(null),Mr=y.createContext({outlet:null,matches:[],isDataRoute:!1}),fm=y.createContext(null);function ny(e,t){let{relative:r}=t===void 0?{}:t;ii()||Ce(!1);let{basename:n,navigator:s}=y.useContext(Fr),{hash:i,pathname:l,search:o}=Ha(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:Lr([n,l])),s.createHref({pathname:c,search:o,hash:i})}function ii(){return y.useContext(qa)!=null}function Yn(){return ii()||Ce(!1),y.useContext(qa).location}function hm(e){y.useContext(Fr).static||y.useLayoutEffect(e)}function Mt(){let{isDataRoute:e}=y.useContext(Mr);return e?yy():sy()}function sy(){ii()||Ce(!1);let e=y.useContext(Va),{basename:t,future:r,navigator:n}=y.useContext(Fr),{matches:s}=y.useContext(Mr),{pathname:i}=Yn(),l=JSON.stringify(om(s,r.v7_relativeSplatPath)),o=y.useRef(!1);return hm(()=>{o.current=!0}),y.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let f=cm(d,JSON.parse(l),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Lr([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,l,i,e])}function iy(){let{matches:e}=y.useContext(Mr),t=e[e.length-1];return t?t.params:{}}function Ha(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(Fr),{matches:s}=y.useContext(Mr),{pathname:i}=Yn(),l=JSON.stringify(om(s,n.v7_relativeSplatPath));return y.useMemo(()=>cm(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function ay(e,t){return ly(e,t)}function ly(e,t,r,n){ii()||Ce(!1);let{navigator:s,static:i}=y.useContext(Fr),{matches:l}=y.useContext(Mr),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let u=Yn(),f;if(t){var h;let p=typeof t=="string"?Xn(t):t;d==="/"||(h=p.pathname)!=null&&h.startsWith(d)||Ce(!1),f=p}else f=u;let v=f.pathname||"/",b=v;if(d!=="/"){let p=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(p.length).join("/")}let w=!i&&r&&r.matches&&r.matches.length>0?r.matches:Ag(e,{pathname:b}),_=fy(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:Lr([d,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:Lr([d,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),l,r,n);return t&&_?y.createElement(qa.Provider,{value:{location:Qs({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:kr.Pop}},_):_}function oy(){let e=gy(),t=ty(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:s},r):null,null)}const cy=y.createElement(oy,null);class uy extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Mr.Provider,{value:this.props.routeContext},y.createElement(fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dy(e){let{routeContext:t,match:r,children:n}=e,s=y.useContext(Va);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Mr.Provider,{value:t},n)}function fy(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let u=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Ce(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<l.length;u++){let f=l[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:v}=r,b=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,f,h)=>{let v,b=!1,w=null,_=null;r&&(v=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||cy,c&&(d<0&&h===0?(b=!0,_=null):d===h&&(b=!0,_=f.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,h+1)),m=()=>{let g;return v?g=w:b?g=_:f.route.Component?g=y.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=u,y.createElement(dy,{match:f,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(uy,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var mm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mm||{}),va=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(va||{});function hy(e){let t=y.useContext(Va);return t||Ce(!1),t}function my(e){let t=y.useContext(dm);return t||Ce(!1),t}function py(e){let t=y.useContext(Mr);return t||Ce(!1),t}function pm(e){let t=py(),r=t.matches[t.matches.length-1];return r.route.id||Ce(!1),r.route.id}function gy(){var e;let t=y.useContext(fm),r=my(va.UseRouteError),n=pm(va.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function yy(){let{router:e}=hy(mm.UseNavigateStable),t=pm(va.UseNavigateStable),r=y.useRef(!1);return hm(()=>{r.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Qs({fromRouteId:t},i)))},[e,t])}function vy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mt(e){Ce(!1)}function xy(e){let{basename:t="/",children:r=null,location:n,navigationType:s=kr.Pop,navigator:i,static:l=!1,future:o}=e;ii()&&Ce(!1);let c=t.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:i,static:l,future:Qs({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=Xn(n));let{pathname:u="/",search:f="",hash:h="",state:v=null,key:b="default"}=n,w=y.useMemo(()=>{let _=Hn(u,c);return _==null?null:{location:{pathname:_,search:f,hash:h,state:v,key:b},navigationType:s}},[c,u,f,h,v,b,s]);return w==null?null:y.createElement(Fr.Provider,{value:d},y.createElement(qa.Provider,{children:r,value:w}))}function wy(e){let{children:t,location:r}=e;return ay(To(t),r)}new Promise(()=>{});function To(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,s)=>{if(!y.isValidElement(n))return;let i=[...t,s];if(n.type===y.Fragment){r.push.apply(r,To(n.props.children,i));return}n.type!==mt&&Ce(!1),!n.props.index||!n.props.children||Ce(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=To(n.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xa.apply(this,arguments)}function gm(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function by(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jy(e,t){return e.button===0&&(!t||t==="_self")&&!by(e)}const _y=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ky=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ny="6";try{window.__reactRouterVersion=Ny}catch{}const Sy=y.createContext({isTransitioning:!1}),Cy="startTransition",hd=wp[Cy];function Ey(e){let{basename:t,children:r,future:n,window:s}=e,i=y.useRef();i.current==null&&(i.current=Rg({window:s,v5Compat:!0}));let l=i.current,[o,c]=y.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},u=y.useCallback(f=>{d&&hd?hd(()=>c(f)):c(f)},[c,d]);return y.useLayoutEffect(()=>l.listen(u),[l,u]),y.useEffect(()=>vy(n),[n]),y.createElement(xy,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const Py=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ty=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Js=y.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,h=gm(t,_y),{basename:v}=y.useContext(Fr),b,w=!1;if(typeof d=="string"&&Ty.test(d)&&(b=d,Py))try{let g=new URL(window.location.href),k=d.startsWith("//")?new URL(g.protocol+d):new URL(d),E=Hn(k.pathname,v);k.origin===g.origin&&E!=null?d=E+k.search+k.hash:w=!0}catch{}let _=ny(d,{relative:s}),p=Ry(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:s,viewTransition:f});function m(g){n&&n(g),g.defaultPrevented||p(g)}return y.createElement("a",xa({},h,{href:b||_,onClick:w||i?n:m,ref:r,target:c}))}),qr=y.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:d,children:u}=t,f=gm(t,ky),h=Ha(c,{relative:f.relative}),v=Yn(),b=y.useContext(dm),{navigator:w,basename:_}=y.useContext(Fr),p=b!=null&&Ly(h)&&d===!0,m=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,g=v.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(g=g.toLowerCase(),k=k?k.toLowerCase():null,m=m.toLowerCase()),k&&_&&(k=Hn(k,_)||k);const E=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let z=g===m||!l&&g.startsWith(m)&&g.charAt(E)==="/",j=k!=null&&(k===m||!l&&k.startsWith(m)&&k.charAt(m.length)==="/"),N={isActive:z,isPending:j,isTransitioning:p},L=z?n:void 0,T;typeof i=="function"?T=i(N):T=[i,z?"active":null,j?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(N):o;return y.createElement(Js,xa({},f,{"aria-current":L,className:T,ref:r,style:P,to:c,viewTransition:d}),typeof u=="function"?u(N):u)});var Oo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oo||(Oo={}));var md;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(md||(md={}));function Oy(e){let t=y.useContext(Va);return t||Ce(!1),t}function Ry(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=Mt(),d=Yn(),u=Ha(e,{relative:l});return y.useCallback(f=>{if(jy(f,r)){f.preventDefault();let h=n!==void 0?n:ga(d)===ga(u);c(e,{replace:h,state:s,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,n,s,r,e,i,l,o])}function Ly(e,t){t===void 0&&(t={});let r=y.useContext(Sy);r==null&&Ce(!1);let{basename:n}=Oy(Oo.useViewTransitionState),s=Ha(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Hn(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Hn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ya(s.pathname,l)!=null||ya(s.pathname,i)!=null}const $y="modulepreload",Ay=function(e){return"/Nexus/"+e},pd={},Wn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Ay(c),c in pd)return;pd[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":$y,d||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),d)return new Promise((h,v)=>{f.addEventListener("load",h),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},Uy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wn(async()=>{const{default:n}=await Promise.resolve().then(()=>Zn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class zc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Dy extends zc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zy extends zc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Iy extends zc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ro;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ro||(Ro={}));var Fy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class My{constructor(t,{headers:r={},customFetch:n,region:s=Ro.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Uy(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Fy(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let d;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(o["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(o["Content-Type"]="application/json",d=JSON.stringify(l)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(b=>{throw new Dy(b)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new zy(u);if(!u.ok)throw new Iy(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield u.json():h==="application/octet-stream"?v=yield u.blob():h==="text/event-stream"?v=u:h==="multipart/form-data"?v=yield u.formData():v=yield u.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var lt={},Ic={},Wa={},ai={},Ga={},Ka={},By=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gn=By();const Vy=Gn.fetch,ym=Gn.fetch.bind(Gn),vm=Gn.Headers,qy=Gn.Request,Hy=Gn.Response,Zn=Object.freeze(Object.defineProperty({__proto__:null,Headers:vm,Request:qy,Response:Hy,default:ym,fetch:Vy},Symbol.toStringTag,{value:"Module"})),Wy=sp(Zn);var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});let Gy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Qa.default=Gy;var xm=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ka,"__esModule",{value:!0});const Ky=xm(Wy),Qy=xm(Qa);let Jy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ky.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c;let d=null,u=null,f=null,h=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const w=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),_=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");w&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,v="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const w=await i.text();try{d=JSON.parse(w),Array.isArray(d)&&i.status===404&&(u=[],d=null,h=200,v="OK")}catch{i.status===404&&w===""?(h=204,v="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,h=200,v="OK"),d&&this.shouldThrowOnError)throw new Qy.default(d)}return{error:d,data:u,count:f,status:h,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ka.default=Jy;var Xy=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ga,"__esModule",{value:!0});const Yy=Xy(Ka);let Zy=class extends Yy.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${d}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ga.default=Zy;var ev=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ai,"__esModule",{value:!0});const tv=ev(Ga);let rv=class extends tv.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ai.default=rv;var nv=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wa,"__esModule",{value:!0});const cs=nv(ai);let sv=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new cs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new cs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new cs.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new cs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new cs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Wa.default=sv;var Ja={},Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.version=void 0;Xa.version="0.0.0-automated";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.DEFAULT_HEADERS=void 0;const iv=Xa;Ja.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${iv.version}`};var wm=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ic,"__esModule",{value:!0});const av=wm(Wa),lv=wm(ai),ov=Ja;let cv=class bm{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},ov.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new av.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let l;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{o.searchParams.append(u,f)})):(l="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new lv.default({method:l,url:o,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ic.default=cv;var es=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lt,"__esModule",{value:!0});lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const jm=es(Ic);lt.PostgrestClient=jm.default;const _m=es(Wa);lt.PostgrestQueryBuilder=_m.default;const km=es(ai);lt.PostgrestFilterBuilder=km.default;const Nm=es(Ga);lt.PostgrestTransformBuilder=Nm.default;const Sm=es(Ka);lt.PostgrestBuilder=Sm.default;const Cm=es(Qa);lt.PostgrestError=Cm.default;var uv=lt.default={PostgrestClient:jm.default,PostgrestQueryBuilder:_m.default,PostgrestFilterBuilder:km.default,PostgrestTransformBuilder:Nm.default,PostgrestBuilder:Sm.default,PostgrestError:Cm.default};const{PostgrestClient:dv,PostgrestQueryBuilder:v1,PostgrestFilterBuilder:x1,PostgrestTransformBuilder:w1,PostgrestBuilder:b1,PostgrestError:j1}=uv,fv="2.11.2",hv={"X-Client-Info":`realtime-js/${fv}`},mv="1.0.0",Em=1e4,pv=1e3;var Dn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dn||(Dn={}));var pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pt||(pt={}));var Lt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Lt||(Lt={}));var Lo;(function(e){e.websocket="websocket"})(Lo||(Lo={}));var Qr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qr||(Qr={}));class gv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+i));l=l+i;const d=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class Pm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(he||(he={}));const gd=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,l)=>(i[l]=yv(l,e,t,s),i),{})},yv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,l=r[e];return i&&!n.includes(i)?Tm(i,l):$o(l)},Tm=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return bv(t,r)}switch(e){case he.bool:return vv(t);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return xv(t);case he.json:case he.jsonb:return wv(t);case he.timestamp:return jv(t);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return $o(t);default:return $o(t)}},$o=e=>e,vv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},bv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>Tm(t,o))}return e},jv=e=>typeof e=="string"?e.replace(" ","T"):e,Om=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Cl{constructor(t,r,n={},s=Em){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yd||(yd={}));class Ss{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ss.syncState(this.state,s,i,l),this.pendingDiffs.forEach(c=>{this.state=Ss.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ss.syncDiff(this.state,s,i,l),o())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(i,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const f=i[d];if(f){const h=u.map(_=>_.presence_ref),v=f.map(_=>_.presence_ref),b=u.filter(_=>v.indexOf(_.presence_ref)<0),w=f.filter(_=>h.indexOf(_.presence_ref)<0);b.length>0&&(o[d]=b),w.length>0&&(c[d]=w)}else o[d]=u}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var d;const u=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),u.length>0){const f=t[o].map(v=>v.presence_ref),h=u.filter(v=>f.indexOf(v.presence_ref)<0);t[o].unshift(...h)}n(o,u,c)}),this.map(l,(o,c)=>{let d=t[o];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[o]=d,s(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vd||(vd={}));var xd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(xd||(xd={}));var Zt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zt||(Zt={}));class Fc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Cl(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new Pm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ss(this),this.broadcastEndpointURL=Om(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:l,private:o}}=this.params;this._onError(u=>t==null?void 0:t(Zt.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Zt.CLOSED));const c={},d={broadcast:i,presence:l,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(Zt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,v=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,b=[];for(let w=0;w<v;w++){const _=h[w],{filter:{event:p,schema:m,table:g,filter:k}}=_,E=u&&u[w];if(E&&E.event===p&&E.schema===m&&E.table===g&&E.filter===k)b.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),t==null||t(Zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Zt.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(Zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Cl(this,Lt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Cl(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=Lt;if(n&&[o,c,d,u].indexOf(l)>=0&&n!==this._joinRef())return;let h=this._onMessage(l,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var b,w,_;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(w=v.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(v=>v.callback(h,n)):(i=this.bindings[l])===null||i===void 0||i.filter(v=>{var b,w,_,p,m,g;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const k=v.id,E=(b=v.filter)===null||b===void 0?void 0:b.event;return k&&((w=r.ids)===null||w===void 0?void 0:w.includes(k))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(m=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return k==="*"||k===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:w,table:_,commit_timestamp:p,type:m,errors:g}=b;h=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(b))}v.callback(h,n)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Fc.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Lt.close,{},t)}_onError(t){this._on(Lt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=gd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=gd(t.columns,t.old_record)),r}}const _v=()=>{},kv=typeof WebSocket<"u",Nv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=hv,this.params={},this.timeout=Em,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=_v,this.conn=null,this.sendBuffer=[],this.serializer=new gv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...o)=>Wn(async()=>{const{default:c}=await Promise.resolve().then(()=>Zn);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${t}/${Lo.websocket}`,this.httpEndpoint=Om(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,l)=>l(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Pm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(kv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Cv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Wn(async()=>{const{default:t}=await import("./browser-Byi6WlDf.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mv}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dn.connecting:return Qr.Connecting;case Dn.open:return Qr.Open;case Dn.closing:return Qr.Closing;default:return Qr.Closed}}isConnected(){return this.connectionState()===Qr.Open}channel(t,r={config:{}}){const n=new Fc(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Lt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(pv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:l}=r;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${l&&"("+l+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Lt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Nv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Cv{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Dn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Mc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ie(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ev extends Mc{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ao extends Mc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Pv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const Rm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wn(async()=>{const{default:n}=await Promise.resolve().then(()=>Zn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Tv=()=>Pv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wn(()=>Promise.resolve().then(()=>Zn),void 0)).Response:Response}),Uo=e=>{if(Array.isArray(e))return e.map(r=>Uo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Uo(n)}),t};var fn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const El=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ov=(e,t,r)=>fn(void 0,void 0,void 0,function*(){const n=yield Tv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Ev(El(s),e.status||500))}).catch(s=>{t(new Ao(El(s),s))}):t(new Ao(El(e),e))}),Rv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function li(e,t,r,n,s,i){return fn(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,Rv(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>Ov(c,o,n))})})}function wa(e,t,r,n){return fn(this,void 0,void 0,function*(){return li(e,"GET",t,r,n)})}function yr(e,t,r,n,s){return fn(this,void 0,void 0,function*(){return li(e,"POST",t,n,s,r)})}function Lv(e,t,r,n,s){return fn(this,void 0,void 0,function*(){return li(e,"PUT",t,n,s,r)})}function $v(e,t,r,n){return fn(this,void 0,void 0,function*(){return li(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Lm(e,t,r,n,s){return fn(this,void 0,void 0,function*(){return li(e,"DELETE",t,n,s,r)})}var st=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const Av={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Uv{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Rm(s)}uploadOrUpdate(t,r,n,s){return st(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},wd),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),h=yield f.json();return f.ok?{data:{path:d,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}upload(t,r,n){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return st(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:wd.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Ie(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return st(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield yr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new Mc("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}update(t,r,n){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return st(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}copy(t,r,n){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield yr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return st(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield yr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return st(this,void 0,void 0,function*(){try{const s=yield yr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}download(t,r){return st(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield wa(this.fetch,`${this.url}/${s}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ie(o))return{data:null,error:o};throw o}})}info(t){return st(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield wa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Uo(n),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}exists(t){return st(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $v(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ie(n)&&n instanceof Ao){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(t){return st(this,void 0,void 0,function*(){try{return{data:yield Lm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}list(t,r,n){return st(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Av),r),{prefix:t||""});return{data:yield yr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Dv="2.7.1",zv={"X-Client-Info":`storage-js/${Dv}`};var mn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class Iv{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},zv),r),this.fetch=Rm(n)}listBuckets(){return mn(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ie(t))return{data:null,error:t};throw t}})}getBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return mn(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return mn(this,void 0,void 0,function*(){try{return{data:yield Lv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}emptyBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}deleteBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield Lm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}}class Fv extends Iv{constructor(t,r={},n){super(t,r,n)}from(t){return new Uv(this.url,this.headers,t,this.fetch)}}const Mv="2.49.4";let gs="";typeof Deno<"u"?gs="deno":typeof document<"u"?gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gs="react-native":gs="node";const Bv={"X-Client-Info":`supabase-js-${gs}/${Mv}`},Vv={headers:Bv},qv={schema:"public"},Hv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wv={};var Gv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const Kv=e=>{let t;return e?t=e:typeof fetch>"u"?t=ym:t=fetch,(...r)=>t(...r)},Qv=()=>typeof Headers>"u"?vm:Headers,Jv=(e,t,r)=>{const n=Kv(r),s=Qv();return(i,l)=>Gv(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let d=new s(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:d}))})};var Xv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};function Yv(e){return e.replace(/\/$/,"")}function Zv(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:l,auth:o,realtime:c,global:d}=t,u={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},d),i),accessToken:()=>Xv(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const $m="2.69.1",vn=30*1e3,Do=3,Pl=Do*vn,ex="http://localhost:9999",tx="supabase.auth.token",rx={"X-Client-Info":`gotrue-js/${$m}`},zo="X-Supabase-Api-Version",Am={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sx=6e5;class Bc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ix extends Bc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ax(e){return re(e)&&e.name==="AuthApiError"}class Um extends Bc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Br extends Bc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class hr extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lx(e){return re(e)&&e.name==="AuthSessionMissingError"}class Tl extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ei extends Br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Pi extends Br{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ox(e){return re(e)&&e.name==="AuthImplicitGrantRedirectError"}class bd extends Br{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Io extends Br{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ol(e){return re(e)&&e.name==="AuthRetryableFetchError"}class jd extends Br{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Cs extends Br{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kd=` 	
\r=`.split(""),cx=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kd.length;t+=1)e[kd[t].charCodeAt(0)]=-2;for(let t=0;t<_d.length;t+=1)e[_d[t].charCodeAt(0)]=t;return e})();function Dm(e,t,r){const n=cx[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Nd(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{fx(l,n,r)};for(let l=0;l<e.length;l+=1)Dm(e.charCodeAt(l),s,i);return t.join("")}function ux(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dx(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ux(n,t)}}function fx(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function hx(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Dm(e.charCodeAt(s),r,n);return new Uint8Array(t)}function mx(e){const t=[];return dx(e,r=>t.push(r)),new Uint8Array(t)}function px(e){return Math.round(Date.now()/1e3)+e}function gx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vt=()=>typeof window<"u"&&typeof document<"u",Hr={tested:!1,writable:!1},Es=()=>{if(!Vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hr.tested)return Hr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hr.tested=!0,Hr.writable=!0}catch{Hr.tested=!0,Hr.writable=!1}return Hr.writable};function yx(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const zm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wn(async()=>{const{default:n}=await Promise.resolve().then(()=>Zn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Im=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ti=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Oi=async(e,t)=>{await e.removeItem(t)};class Ya{constructor(){this.promise=new Ya.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ya.promiseConstructor=Promise;function Rl(e){const t=e.split(".");if(t.length!==3)throw new Cs("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!nx.test(t[n]))throw new Cs("JWT not in base64url format");return{header:JSON.parse(Nd(t[0])),payload:JSON.parse(Nd(t[1])),signature:hx(t[2]),raw:{header:t[0],payload:t[1]}}}async function xx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function wx(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){s(l);return}}})()})}function bx(e){return("0"+e.toString(16)).substr(-2)}function jx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,bx).join("")}async function _x(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function kx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await _x(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pn(e,t,r=!1){const n=jx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Im(e,`${t}-code-verifier`,s);const i=await kx(n);return[i,n===i?"plain":"s256"]}const Nx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sx(e){const t=e.headers.get(zo);if(!t||!t.match(Nx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Cx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ex(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Px=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Kr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tx=[502,503,504];async function Sd(e){var t;if(!vx(e))throw new Io(Kr(e),0);if(Tx.includes(e.status))throw new Io(Kr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Um(Kr(i),i)}let n;const s=Sx(e);if(s&&s.getTime()>=Am["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new jd(Kr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new hr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new jd(Kr(r),e.status,r.weak_password.reasons);throw new ix(Kr(r),e.status||500,n)}const Ox=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ie(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[zo]||(i[zo]=Am["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Rx(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Rx(e,t,r,n,s,i){const l=Ox(t,n,s,i);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new Io(Kr(c),0)}if(o.ok||await Sd(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Sd(c)}}function mr(e){var t;let r=null;Ux(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=px(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Cd(e){const t=mr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Lx(e){return{data:e,error:null}}function $x(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,l=Px(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function Ax(e){return e}function Ux(e){return e.access_token&&e.refresh_token&&e.expires_in}var Dx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class zx{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=zm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Dx(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$x,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wr})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ax});if(u.error)throw u.error;const f=await u.json(),h=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);d[`${_}Page`]=w}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(re(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wr})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:wr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:wr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}}const Ix={getItem:e=>Es()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Es()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Es()&&globalThis.localStorage.removeItem(e)}};function Ed(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Fx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gn={debug:!!(globalThis&&Es()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Mx extends Fm{}async function Bx(e,t,r){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),gn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Mx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Fx();const Vx={url:ex,storageKey:tx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pd(e,t,r){return await r()}class Xs{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xs.nextInstanceID,Xs.nextInstanceID+=1,this.instanceID>0&&Vt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Vx),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zm(s.fetch),this.lock=s.lock||Pd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Vt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Bx:this.lock=Pd,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Es()?this.storage=Ix:(this.memoryStorage={},this.storage=Ed(this.memoryStorage)):(this.memoryStorage={},this.storage=Ed(this.memoryStorage)),Vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$m}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=yx(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Vt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ox(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?{error:r}:{error:new Um("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:mr}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:f,options:h}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await pn(this.storage,this.storageKey)),i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:b},xform:mr})}else if("phone"in t){const{phone:u,password:f,options:h}=t;i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:mr})}else throw new Ei("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Cd})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Cd})}else throw new Ei("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Tl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Ti(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:l}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:mr});if(await Oi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Tl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(re(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:l}=t,o=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:mr}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Tl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,l;try{if("email"in t){const{email:o,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await pn(this.storage,this.storageKey));const{error:f}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:u}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Ei("You must provide either an email or phone number.")}catch(o){if(re(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:mr});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await pn(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:Lx})}catch(i){if(re(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new hr;const{error:s}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:l}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:l,error:o}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Ei("You must provide either an email or phone number and a type")}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Pl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wr}):await this._useSession(async r=>{var n,s,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hr}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:wr})})}catch(r){if(re(r))return lx(r)&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new hr;const l=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await pn(this.storage,this.storageKey));const{data:d,error:u}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:wr});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new hr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:l}=Rl(t.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(re(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new hr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Vt())throw new Pi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Pi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bd("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=t;if(!i||!o||!l||!d)throw new Pi("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let h=u+f;c&&(h=parseInt(c));const v=h-u;v*1e3<=vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const b=h-f;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,u);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:l,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(re(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ti(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(ax(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=gx(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await pn(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(re(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var l,o,c,d,u;const{data:f,error:h}=i;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Vt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(re(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)throw l;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await wx(async s=>(s>0&&await xx(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mr})),(s,i)=>{const l=200*Math.pow(2,s);return i&&Ol(i)&&Date.now()+l-n<vn})}catch(n){if(this._debug(r,"error",n),re(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Vt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ti(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Pl;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Pl}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ol(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ya;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new hr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),re(i)){const l={session:null,error:i};return Ol(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Im(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Oi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vn}ms, refresh threshold is ${Do} ticks`),s<=Do&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Fm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await pn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(re(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(re(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Rl(s.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+sx>Date.now()))return n;const{data:s,error:i}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Cs("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(l=>l.kid===t),!n)throw new Cs("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:b}=await this.getSession();if(b||!v.session)return{data:null,error:b};n=v.session.access_token}const{header:s,payload:i,signature:l,raw:{header:o,payload:c}}=Rl(n);if(Cx(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:l},error:null}}const d=Ex(s.alg),u=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,l,mx(`${o}.${c}`)))throw new Cs("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}}Xs.nextInstanceID=0;const qx=Xs;class Hx extends qx{constructor(t){super(t)}}var Wx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class Gx{constructor(t,r,n){var s,i,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Yv(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:qv,realtime:Wv,auth:Object.assign(Object.assign({},Hv),{storageKey:c}),global:Vv},u=Zv(n??{},d);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch),this.fetch=Jv(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new dv(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new My(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Fv(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Wx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:l,lock:o,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hx({url:this.authUrl,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Sv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kx=(e,t,r)=>new Gx(e,t,r),Qx="https://gtfgvqttfydelzgvgwly.supabase.co",Jx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0Zmd2cXR0ZnlkZWx6Z3Znd2x5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQwMjE0OTEsImV4cCI6MjA1OTU5NzQ5MX0.nBdVMHZ6LJ8ZvdSuXk_uDVMb6DxB5iTeFdc0dM7zolI",M=Kx(Qx,Jx);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>y.createElement("svg",{ref:u,...Xx,width:s,height:s,stroke:n,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Yx(e)}`,o].join(" "),...d},[...t.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Z("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Z("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Z("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Z("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Z("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Z("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Z("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=Z("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Z("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=Z("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Z("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=Z("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Z("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=Z("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=Z("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Z("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=Z("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function kw(){const[e,t]=y.useState(""),[r,n]=y.useState(""),[s,i]=y.useState(""),[l,o]=y.useState(!1),c=Mt(),d=async f=>{f.preventDefault(),i(""),o(!0);try{const{error:h}=await M.auth.signInWithPassword({email:e,password:r});if(h)throw h;c("/profile")}catch(h){console.error("Login error:",h),i(h.message||"Помилка входу")}finally{o(!1)}},u=async()=>{try{const{error:f}=await M.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}/profile`,queryParams:{access_type:"offline",prompt:"consent"}}});if(f)throw f}catch(f){console.error("GitHub login error:",f),i(f.message||"Помилка входу через GitHub")}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Вхід до аккаунту"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Або"," ",a.jsx(Js,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"створіть новий аккаунт"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[s&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:s}),a.jsxs("button",{onClick:u,className:"w-full flex justify-center items-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 mb-6",children:[a.jsx(ow,{size:20}),"Увійти через GitHub"]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Або увійдіть за допомогою email"})})]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(qc,{className:"absolute left-3 top-3 text-gray-400",size:20}),a.jsx("input",{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть email",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Пароль"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(Ur,{className:"absolute left-3 top-3 text-gray-400",size:20}),a.jsx("input",{id:"password",type:"password",value:r,onChange:f=>n(f.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть пароль",required:!0})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Завантаження...":"Увійти"})})]})]})})]})}function Nw(){const[e,t]=y.useState(""),[r,n]=y.useState(""),[s,i]=y.useState(""),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState(!1),h=Mt(),v=async b=>{b.preventDefault(),d(""),f(!0);try{const{data:w,error:_}=await M.auth.signUp({email:s,password:l});if(_)throw _;if(w.user){const{error:p}=await M.from("users").insert([{auth_user_id:w.user.id,name:e,lastName:r,email:s,date:new Date().toISOString()}]);if(p)throw p;h("/profile/confirm")}}catch(w){console.error("Registration error:",w),d(w.message||"Помилка реєстрації")}finally{f(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Створення нового аккаунту"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Або"," ",a.jsx(Js,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"увійдіть в існуючий аккаунт"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[c&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:c}),a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Ім'я"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(_a,{className:"absolute left-3 top-3 text-gray-400",size:20}),a.jsx("input",{id:"name",type:"text",value:e,onChange:b=>t(b.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть ім'я",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Прізвище"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(_a,{className:"absolute left-3 top-3 text-gray-400",size:20}),a.jsx("input",{id:"lastName",type:"text",value:r,onChange:b=>n(b.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть прізвище",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(qc,{className:"absolute left-3 top-3 text-gray-400",size:20}),a.jsx("input",{id:"email",type:"email",value:s,onChange:b=>i(b.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть email",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Пароль"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(Ur,{className:"absolute left-3 top-3 text-gray-400",size:20}),a.jsx("input",{id:"password",type:"password",value:l,onChange:b=>o(b.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть пароль",required:!0,minLength:6})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Завантаження...":"Зареєструватися"})})]})]})})]})}function Me(){const e=Mt(),t=async()=>{try{const{error:r}=await M.auth.signOut();if(r)throw r;e("/login")}catch(r){console.error("Error logging out:",r)}};return a.jsxs("div",{className:"w-64 bg-white h-screen fixed left-0 top-0 border-r border-gray-200",children:[a.jsx("div",{className:"p-4",children:a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Соціальна мережа"})}),a.jsxs("nav",{className:"mt-8",children:[a.jsxs(qr,{to:"/profile",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[a.jsx(ba,{className:"w-5 h-5 mr-3"}),"Профіль"]}),a.jsxs(qr,{to:"/people",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[a.jsx(nn,{className:"w-5 h-5 mr-3"}),"Люди"]}),a.jsxs(qr,{to:"/users",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[a.jsx(nn,{className:"w-5 h-5 mr-3"}),"Користувачі"]}),a.jsxs(qr,{to:"/messages",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[a.jsx(rn,{className:"w-5 h-5 mr-3"}),"Повідомлення"]}),a.jsxs(qr,{to:"/friends",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[a.jsx(nn,{className:"w-5 h-5 mr-3"}),"Друзі"]}),a.jsxs(qr,{to:"/groups",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[a.jsx(jw,{className:"w-5 h-5 mr-3"}),"Групи"]}),a.jsxs(qr,{to:"/settings",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[a.jsx(Hm,{className:"w-5 h-5 mr-3"}),"Налаштування"]})]}),a.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-200",children:a.jsxs("button",{onClick:t,className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 w-full",children:[a.jsx(hw,{className:"w-5 h-5 mr-3"}),"Вийти"]})})]})}class At{static async getCurrentUserProfile(){try{const{data:{user:t}}=await M.auth.getUser();if(!(t!=null&&t.email))return console.log("No authenticated user found"),null;const{data:r,error:n}=await M.from("users").select("*").eq("email",t.email).single();return n?n.code==="PGRST116"?await this.createUserProfile(t):(console.error("Error fetching user profile:",n),null):r}catch(t){return console.error("Error getting current user profile:",t),null}}static async createUserProfile(t){var r,n,s,i,l,o;try{const c={email:t.email,name:((r=t.user_metadata)==null?void 0:r.name)||((s=(n=t.user_metadata)==null?void 0:n.full_name)==null?void 0:s.split(" ")[0])||t.email.split("@")[0]||"User",lastName:((i=t.user_metadata)==null?void 0:i.lastName)||((o=(l=t.user_metadata)==null?void 0:l.full_name)==null?void 0:o.split(" ").slice(1).join(" "))||"",date:new Date().toISOString(),notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1}},{data:d,error:u}=await M.from("users").insert([c]).select().single();return u?(console.error("Error creating user profile:",u),null):d}catch(c){return console.error("Error creating user profile:",c),null}}static async searchUsers(t){try{if(t.length<2)return[];const{data:r,error:n}=await M.from("users").select("id, name, lastName, avatar, email").or(`name.ilike.%${t}%, lastName.ilike.%${t}%`).limit(10);if(n)throw n;return r||[]}catch(r){return console.error("Error searching users:",r),[]}}static async getUserFriends(){try{const t=await this.getCurrentUserProfile();if(!t)return[];const{data:r,error:n}=await M.from("friends").select(`
          friend_id,
          friend:users!friend_id (
            id,
            name,
            lastName,
            avatar,
            email
          )
        `).eq("user_id",t.id);if(n)throw n;return(r==null?void 0:r.map(s=>s.friend).filter(Boolean))||[]}catch(t){return console.error("Error fetching friends:",t),[]}}static async addFriend(t){try{const r=await this.getCurrentUserProfile();if(!r)return!1;const{error:n}=await M.from("friends").insert([{user_id:r.id,friend_id:t}]);if(n)throw n;return!0}catch(r){return console.error("Error adding friend:",r),!1}}static async updateUserProfile(t){try{const{data:{user:r}}=await M.auth.getUser();if(!(r!=null&&r.email))return!1;const{error:n}=await M.from("users").update(t).eq("email",r.email);if(n)throw n;return!0}catch(r){return console.error("Error updating user profile:",r),!1}}static async getUserMedia(){try{const t=await this.getCurrentUserProfile();if(!t)return[];const{data:r,error:n}=await M.from("media").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(t){return console.error("Error loading media:",t),[]}}static async createPost(t,r){try{const n=await this.getCurrentUserProfile();if(!n)return!1;const{error:s}=await M.from("posts").insert([{user_id:n.id,content:t,images:r,created_at:new Date().toISOString()}]);if(s)throw s;return!0}catch(n){return console.error("Error creating post:",n),!1}}}const Rd=[{name:"Оригінал",filter:"none",css:""},{name:"Сепія",filter:"sepia",css:"sepia(100%)"},{name:"Ч/Б",filter:"grayscale",css:"grayscale(100%)"},{name:"Інверсія",filter:"invert",css:"invert(100%)"},{name:"Яскравість",filter:"brightness",css:"brightness(150%)"},{name:"Контраст",filter:"contrast",css:"contrast(150%)"},{name:"Насиченість",filter:"saturate",css:"saturate(200%)"},{name:"Розмиття",filter:"blur",css:"blur(2px)"},{name:"Тепло",filter:"warm",css:"sepia(30%) saturate(120%) brightness(110%)"},{name:"Холод",filter:"cool",css:"hue-rotate(180deg) saturate(120%)"},{name:"Вінтаж",filter:"vintage",css:"sepia(50%) contrast(120%) brightness(90%)"},{name:"Драма",filter:"dramatic",css:"contrast(150%) brightness(90%) saturate(150%)"}];function Sw({imageUrl:e,onApplyFilter:t,onClose:r}){const n=y.useRef(null),[s,i]=y.useState("none"),[l,o]=y.useState(100),[c,d]=y.useState(100),[u,f]=y.useState(100),[h,v]=y.useState(0),[b,w]=y.useState(0),[_,p]=y.useState(0),m=()=>`
      brightness(${l}%) 
      contrast(${c}%) 
      saturate(${u}%) 
      blur(${h}px) 
      sepia(${b}%) 
      grayscale(${_}%)
    `.trim(),g=()=>{if(s==="custom")return m();const j=Rd.find(N=>N.filter===s);return j?j.css:""},k=async j=>{const N=n.current;if(!N)return null;const L=N.getContext("2d");return L?new Promise(T=>{const P=new Image;P.crossOrigin="anonymous",P.onload=()=>{N.width=P.width,N.height=P.height,L.filter=j,L.drawImage(P,0,0);const U=N.toDataURL("image/jpeg",.9);T(U)},P.src=e}):null},E=async()=>{const j=g(),N=await k(j);N&&t(N)},z=()=>{i("none"),o(100),d(100),f(100),v(0),w(0),p(0)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Редагування фото"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:z,className:"flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:[a.jsx(Vm,{size:18,className:"mr-1"}),"Скинути"]}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:"✕"})]})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-1 bg-gray-100 p-6 flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:e,alt:"Preview",className:"max-w-full max-h-96 object-contain rounded-lg",style:{filter:g()}}),a.jsx("canvas",{ref:n,className:"hidden"})]})}),a.jsxs("div",{className:"w-80 border-l border-gray-200 bg-gray-50 overflow-y-auto",children:[a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Фільтри"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Rd.map(j=>a.jsxs("button",{onClick:()=>i(j.filter),className:`relative p-2 rounded-lg border-2 transition-colors ${s===j.filter?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"w-full h-16 bg-gray-200 rounded mb-1 overflow-hidden",children:a.jsx("img",{src:e,alt:j.name,className:"w-full h-full object-cover",style:{filter:j.css}})}),a.jsx("span",{className:"text-xs text-gray-700",children:j.name}),s===j.filter&&a.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx(nw,{size:12,className:"text-white"})})]},j.filter))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Налаштування"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Яскравість: ",l,"%"]}),a.jsx("input",{type:"range",min:"50",max:"200",value:l,onChange:j=>{o(Number(j.target.value)),i("custom")},className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Контраст: ",c,"%"]}),a.jsx("input",{type:"range",min:"50",max:"200",value:c,onChange:j=>{d(Number(j.target.value)),i("custom")},className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Насиченість: ",u,"%"]}),a.jsx("input",{type:"range",min:"0",max:"300",value:u,onChange:j=>{f(Number(j.target.value)),i("custom")},className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Розмиття: ",h,"px"]}),a.jsx("input",{type:"range",min:"0",max:"10",value:h,onChange:j=>{v(Number(j.target.value)),i("custom")},className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Сепія: ",b,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:b,onChange:j=>{w(Number(j.target.value)),i("custom")},className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ч/Б: ",_,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:_,onChange:j=>{p(Number(j.target.value)),i("custom")},className:"w-full"})]})]})]})]}),a.jsx("div",{className:"border-t border-gray-200 p-4",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Скасувати"}),a.jsx("button",{onClick:E,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Застосувати"})]})})]})]})]})})}var ci=e=>e.type==="checkbox",Zr=e=>e instanceof Date,Ze=e=>e==null;const Gm=e=>typeof e=="object";var Pe=e=>!Ze(e)&&!Array.isArray(e)&&Gm(e)&&!Zr(e),Cw=e=>Pe(e)&&e.target?ci(e.target)?e.target.checked:e.target.value:e,Ew=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Pw=(e,t)=>e.has(Ew(t)),Tw=e=>{const t=e.constructor&&e.constructor.prototype;return Pe(t)&&t.hasOwnProperty("isPrototypeOf")},Wc=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ze(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Wc&&(e instanceof Blob||n))&&(r||Pe(e)))if(t=r?[]:{},!r&&!Tw(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=ze(e[s]));else return e;return t}var Za=e=>/^\w*$/.test(e),Re=e=>e===void 0,Gc=e=>Array.isArray(e)?e.filter(Boolean):[],Kc=e=>Gc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Q=(e,t,r)=>{if(!t||!Pe(e))return r;const n=(Za(t)?[t]:Kc(t)).reduce((s,i)=>Ze(s)?s:s[i],e);return Re(n)||n===e?Re(e[t])?r:e[t]:n},Ht=e=>typeof e=="boolean",xe=(e,t,r)=>{let n=-1;const s=Za(t)?[t]:Kc(t),i=s.length,l=i-1;for(;++n<i;){const o=s[n];let c=r;if(n!==l){const d=e[o];c=Pe(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const Ld={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ut={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ow=jt.createContext(null);Ow.displayName="HookFormContext";var Rw=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const l=i;return t._proxyFormState[l]!==Ut.all&&(t._proxyFormState[l]=!n||Ut.all),e[l]}});return s};const Lw=typeof window<"u"?y.useLayoutEffect:y.useEffect;var Gt=e=>typeof e=="string",$w=(e,t,r,n,s)=>Gt(e)?(n&&t.watch.add(e),Q(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Q(r,i))):(n&&(t.watchAll=!0),r),Aw=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Ps=e=>Array.isArray(e)?e:[e],$d=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Vo=e=>Ze(e)||!Gm(e);function br(e,t,r=new WeakSet){if(Vo(e)||Vo(t))return e===t;if(Zr(e)&&Zr(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const l=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Zr(l)&&Zr(o)||Pe(l)&&Pe(o)||Array.isArray(l)&&Array.isArray(o)?!br(l,o,r):l!==o)return!1}}return!0}var it=e=>Pe(e)&&!Object.keys(e).length,Qc=e=>e.type==="file",Dt=e=>typeof e=="function",ka=e=>{if(!Wc)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Km=e=>e.type==="select-multiple",Jc=e=>e.type==="radio",Uw=e=>Jc(e)||ci(e),Al=e=>ka(e)&&e.isConnected;function Dw(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Re(e)?n++:e[t[n++]];return e}function zw(e){for(const t in e)if(e.hasOwnProperty(t)&&!Re(e[t]))return!1;return!0}function Oe(e,t){const r=Array.isArray(t)?t:Za(t)?[t]:Kc(t),n=r.length===1?e:Dw(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Pe(n)&&it(n)||Array.isArray(n)&&zw(n))&&Oe(e,r.slice(0,-1)),e}var Qm=e=>{for(const t in e)if(Dt(e[t]))return!0;return!1};function Na(e,t={}){const r=Array.isArray(e);if(Pe(e)||r)for(const n in e)Array.isArray(e[n])||Pe(e[n])&&!Qm(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Na(e[n],t[n])):Ze(e[n])||(t[n]=!0);return t}function Jm(e,t,r){const n=Array.isArray(e);if(Pe(e)||n)for(const s in e)Array.isArray(e[s])||Pe(e[s])&&!Qm(e[s])?Re(t)||Vo(r[s])?r[s]=Array.isArray(e[s])?Na(e[s],[]):{...Na(e[s])}:Jm(e[s],Ze(t)?{}:t[s],r[s]):r[s]=!br(e[s],t[s]);return r}var us=(e,t)=>Jm(e,t,Na(t));const Ad={value:!1,isValid:!1},Ud={value:!0,isValid:!0};var Xm=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Re(e[0].attributes.value)?Re(e[0].value)||e[0].value===""?Ud:{value:e[0].value,isValid:!0}:Ud:Ad}return Ad},Ym=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Re(e)?e:t?e===""?NaN:e&&+e:r&&Gt(e)?new Date(e):n?n(e):e;const Dd={isValid:!1,value:null};var Zm=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Dd):Dd;function zd(e){const t=e.ref;return Qc(t)?t.files:Jc(t)?Zm(e.refs).value:Km(t)?[...t.selectedOptions].map(({value:r})=>r):ci(t)?Xm(e.refs).value:Ym(Re(t.value)?e.ref.value:t.value,e)}var Iw=(e,t,r,n)=>{const s={};for(const i of e){const l=Q(t,i);l&&xe(s,i,l._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Sa=e=>e instanceof RegExp,ds=e=>Re(e)?e:Sa(e)?e.source:Pe(e)?Sa(e.value)?e.value.source:e.value:e,Id=e=>({isOnSubmit:!e||e===Ut.onSubmit,isOnBlur:e===Ut.onBlur,isOnChange:e===Ut.onChange,isOnAll:e===Ut.all,isOnTouch:e===Ut.onTouched});const Fd="AsyncFunction";var Fw=e=>!!e&&!!e.validate&&!!(Dt(e.validate)&&e.validate.constructor.name===Fd||Pe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Fd)),Mw=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Md=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ts=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Q(e,s);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],s)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(Ts(o,t))break}else if(Pe(o)&&Ts(o,t))break}}};function Bd(e,t,r){const n=Q(e,r);if(n||Za(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),l=Q(t,i),o=Q(e,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var Bw=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return it(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!n||Ut.all))},Vw=(e,t,r)=>!e||!t||e===t||Ps(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),qw=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Hw=(e,t)=>!Gc(Q(e,t)).length&&Oe(e,t),Ww=(e,t,r)=>{const n=Ps(Q(e,r));return xe(n,"root",t[r]),xe(e,r,n),e},Hi=e=>Gt(e);function Vd(e,t,r="validate"){if(Hi(e)||Array.isArray(e)&&e.every(Hi)||Ht(e)&&!e)return{type:r,message:Hi(e)?e:"",ref:t}}var yn=e=>Pe(e)&&!Sa(e)?e:{value:e,message:""},qd=async(e,t,r,n,s,i)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:u,min:f,max:h,pattern:v,validate:b,name:w,valueAsNumber:_,mount:p}=e._f,m=Q(r,w);if(!p||t.has(w))return{};const g=o?o[0]:l,k=U=>{s&&g.reportValidity&&(g.setCustomValidity(Ht(U)?"":U||""),g.reportValidity())},E={},z=Jc(l),j=ci(l),N=z||j,L=(_||Qc(l))&&Re(l.value)&&Re(m)||ka(l)&&l.value===""||m===""||Array.isArray(m)&&!m.length,T=Aw.bind(null,w,n,E),P=(U,W,G,ue=Xt.maxLength,le=Xt.minLength)=>{const pe=U?W:G;E[w]={type:U?ue:le,message:pe,ref:l,...T(U?ue:le,pe)}};if(i?!Array.isArray(m)||!m.length:c&&(!N&&(L||Ze(m))||Ht(m)&&!m||j&&!Xm(o).isValid||z&&!Zm(o).isValid)){const{value:U,message:W}=Hi(c)?{value:!!c,message:c}:yn(c);if(U&&(E[w]={type:Xt.required,message:W,ref:g,...T(Xt.required,W)},!n))return k(W),E}if(!L&&(!Ze(f)||!Ze(h))){let U,W;const G=yn(h),ue=yn(f);if(!Ze(m)&&!isNaN(m)){const le=l.valueAsNumber||m&&+m;Ze(G.value)||(U=le>G.value),Ze(ue.value)||(W=le<ue.value)}else{const le=l.valueAsDate||new Date(m),pe=Y=>new Date(new Date().toDateString()+" "+Y),F=l.type=="time",K=l.type=="week";Gt(G.value)&&m&&(U=F?pe(m)>pe(G.value):K?m>G.value:le>new Date(G.value)),Gt(ue.value)&&m&&(W=F?pe(m)<pe(ue.value):K?m<ue.value:le<new Date(ue.value))}if((U||W)&&(P(!!U,G.message,ue.message,Xt.max,Xt.min),!n))return k(E[w].message),E}if((d||u)&&!L&&(Gt(m)||i&&Array.isArray(m))){const U=yn(d),W=yn(u),G=!Ze(U.value)&&m.length>+U.value,ue=!Ze(W.value)&&m.length<+W.value;if((G||ue)&&(P(G,U.message,W.message),!n))return k(E[w].message),E}if(v&&!L&&Gt(m)){const{value:U,message:W}=yn(v);if(Sa(U)&&!m.match(U)&&(E[w]={type:Xt.pattern,message:W,ref:l,...T(Xt.pattern,W)},!n))return k(W),E}if(b){if(Dt(b)){const U=await b(m,r),W=Vd(U,g);if(W&&(E[w]={...W,...T(Xt.validate,W.message)},!n))return k(W.message),E}else if(Pe(b)){let U={};for(const W in b){if(!it(U)&&!n)break;const G=Vd(await b[W](m,r),g,W);G&&(U={...G,...T(W,G.message)},k(G.message),n&&(E[w]=U))}if(!it(U)&&(E[w]={ref:g,...U},!n))return E}}return k(!0),E};const Gw={mode:Ut.onSubmit,reValidateMode:Ut.onChange,shouldFocusError:!0};function Kw(e={}){let t={...Gw,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Dt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Pe(t.defaultValues)||Pe(t.values)?ze(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ze(s),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:$d(),state:$d()},v=t.criteriaMode===Ut.all,b=x=>C=>{clearTimeout(d),d=setTimeout(x,C)},w=async x=>{if(!t.disabled&&(u.isValid||f.isValid||x)){const C=t.resolver?it((await j()).errors):await L(n,!0);C!==r.isValid&&h.state.next({isValid:C})}},_=(x,C)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((x||Array.from(o.mount)).forEach(O=>{O&&(C?xe(r.validatingFields,O,C):Oe(r.validatingFields,O))}),h.state.next({validatingFields:r.validatingFields,isValidating:!it(r.validatingFields)}))},p=(x,C=[],O,V,B=!0,I=!0)=>{if(V&&O&&!t.disabled){if(l.action=!0,I&&Array.isArray(Q(n,x))){const J=O(Q(n,x),V.argA,V.argB);B&&xe(n,x,J)}if(I&&Array.isArray(Q(r.errors,x))){const J=O(Q(r.errors,x),V.argA,V.argB);B&&xe(r.errors,x,J),Hw(r.errors,x)}if((u.touchedFields||f.touchedFields)&&I&&Array.isArray(Q(r.touchedFields,x))){const J=O(Q(r.touchedFields,x),V.argA,V.argB);B&&xe(r.touchedFields,x,J)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=us(s,i)),h.state.next({name:x,isDirty:P(x,C),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xe(i,x,C)},m=(x,C)=>{xe(r.errors,x,C),h.state.next({errors:r.errors})},g=x=>{r.errors=x,h.state.next({errors:r.errors,isValid:!1})},k=(x,C,O,V)=>{const B=Q(n,x);if(B){const I=Q(i,x,Re(O)?Q(s,x):O);Re(I)||V&&V.defaultChecked||C?xe(i,x,C?I:zd(B._f)):G(x,I),l.mount&&w()}},E=(x,C,O,V,B)=>{let I=!1,J=!1;const R={name:x};if(!t.disabled){if(!O||V){(u.isDirty||f.isDirty)&&(J=r.isDirty,r.isDirty=R.isDirty=P(),I=J!==R.isDirty);const q=br(Q(s,x),C);J=!!Q(r.dirtyFields,x),q?Oe(r.dirtyFields,x):xe(r.dirtyFields,x,!0),R.dirtyFields=r.dirtyFields,I=I||(u.dirtyFields||f.dirtyFields)&&J!==!q}if(O){const q=Q(r.touchedFields,x);q||(xe(r.touchedFields,x,O),R.touchedFields=r.touchedFields,I=I||(u.touchedFields||f.touchedFields)&&q!==O)}I&&B&&h.state.next(R)}return I?R:{}},z=(x,C,O,V)=>{const B=Q(r.errors,x),I=(u.isValid||f.isValid)&&Ht(C)&&r.isValid!==C;if(t.delayError&&O?(c=b(()=>m(x,O)),c(t.delayError)):(clearTimeout(d),c=null,O?xe(r.errors,x,O):Oe(r.errors,x)),(O?!br(B,O):B)||!it(V)||I){const J={...V,...I&&Ht(C)?{isValid:C}:{},errors:r.errors,name:x};r={...r,...J},h.state.next(J)}},j=async x=>{_(x,!0);const C=await t.resolver(i,t.context,Iw(x||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return _(x),C},N=async x=>{const{errors:C}=await j(x);if(x)for(const O of x){const V=Q(C,O);V?xe(r.errors,O,V):Oe(r.errors,O)}else r.errors=C;return C},L=async(x,C,O={valid:!0})=>{for(const V in x){const B=x[V];if(B){const{_f:I,...J}=B;if(I){const R=o.array.has(I.name),q=B._f&&Fw(B._f);q&&u.validatingFields&&_([V],!0);const te=await qd(B,o.disabled,i,v,t.shouldUseNativeValidation&&!C,R);if(q&&u.validatingFields&&_([V]),te[I.name]&&(O.valid=!1,C))break;!C&&(Q(te,I.name)?R?Ww(r.errors,te,I.name):xe(r.errors,I.name,te[I.name]):Oe(r.errors,I.name))}!it(J)&&await L(J,C,O)}}return O.valid},T=()=>{for(const x of o.unMount){const C=Q(n,x);C&&(C._f.refs?C._f.refs.every(O=>!Al(O)):!Al(C._f.ref))&&ne(x)}o.unMount=new Set},P=(x,C)=>!t.disabled&&(x&&C&&xe(i,x,C),!br(Y(),s)),U=(x,C,O)=>$w(x,o,{...l.mount?i:Re(C)?s:Gt(x)?{[x]:C}:C},O,C),W=x=>Gc(Q(l.mount?i:s,x,t.shouldUnregister?Q(s,x,[]):[])),G=(x,C,O={})=>{const V=Q(n,x);let B=C;if(V){const I=V._f;I&&(!I.disabled&&xe(i,x,Ym(C,I)),B=ka(I.ref)&&Ze(C)?"":C,Km(I.ref)?[...I.ref.options].forEach(J=>J.selected=B.includes(J.value)):I.refs?ci(I.ref)?I.refs.forEach(J=>{(!J.defaultChecked||!J.disabled)&&(Array.isArray(B)?J.checked=!!B.find(R=>R===J.value):J.checked=B===J.value||!!B)}):I.refs.forEach(J=>J.checked=J.value===B):Qc(I.ref)?I.ref.value="":(I.ref.value=B,I.ref.type||h.state.next({name:x,values:ze(i)})))}(O.shouldDirty||O.shouldTouch)&&E(x,B,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&K(x)},ue=(x,C,O)=>{for(const V in C){if(!C.hasOwnProperty(V))return;const B=C[V],I=x+"."+V,J=Q(n,I);(o.array.has(x)||Pe(B)||J&&!J._f)&&!Zr(B)?ue(I,B,O):G(I,B,O)}},le=(x,C,O={})=>{const V=Q(n,x),B=o.array.has(x),I=ze(C);xe(i,x,I),B?(h.array.next({name:x,values:ze(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&O.shouldDirty&&h.state.next({name:x,dirtyFields:us(s,i),isDirty:P(x,I)})):V&&!V._f&&!Ze(I)?ue(x,I,O):G(x,I,O),Md(x,o)&&h.state.next({...r}),h.state.next({name:l.mount?x:void 0,values:ze(i)})},pe=async x=>{l.mount=!0;const C=x.target;let O=C.name,V=!0;const B=Q(n,O),I=q=>{V=Number.isNaN(q)||Zr(q)&&isNaN(q.getTime())||br(q,Q(i,O,q))},J=Id(t.mode),R=Id(t.reValidateMode);if(B){let q,te;const De=C.type?zd(B._f):Cw(x),de=x.type===Ld.BLUR||x.type===Ld.FOCUS_OUT,ui=!Mw(B._f)&&!t.resolver&&!Q(r.errors,O)&&!B._f.deps||qw(de,Q(r.touchedFields,O),r.isSubmitted,R,J),Vr=Md(O,o,de);xe(i,O,De),de?(B._f.onBlur&&B._f.onBlur(x),c&&c(0)):B._f.onChange&&B._f.onChange(x);const dr=E(O,De,de),ep=!it(dr)||Vr;if(!de&&h.state.next({name:O,type:x.type,values:ze(i)}),ui)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?de&&w():de||w()),ep&&h.state.next({name:O,...Vr?{}:dr});if(!de&&Vr&&h.state.next({...r}),t.resolver){const{errors:Yc}=await j([O]);if(I(De),V){const tp=Bd(r.errors,n,O),Zc=Bd(Yc,n,tp.name||O);q=Zc.error,O=Zc.name,te=it(Yc)}}else _([O],!0),q=(await qd(B,o.disabled,i,v,t.shouldUseNativeValidation))[O],_([O]),I(De),V&&(q?te=!1:(u.isValid||f.isValid)&&(te=await L(n,!0)));V&&(B._f.deps&&K(B._f.deps),z(O,te,q,dr))}},F=(x,C)=>{if(Q(r.errors,C)&&x.focus)return x.focus(),1},K=async(x,C={})=>{let O,V;const B=Ps(x);if(t.resolver){const I=await N(Re(x)?x:B);O=it(I),V=x?!B.some(J=>Q(I,J)):O}else x?(V=(await Promise.all(B.map(async I=>{const J=Q(n,I);return await L(J&&J._f?{[I]:J}:J)}))).every(Boolean),!(!V&&!r.isValid)&&w()):V=O=await L(n);return h.state.next({...!Gt(x)||(u.isValid||f.isValid)&&O!==r.isValid?{}:{name:x},...t.resolver||!x?{isValid:O}:{},errors:r.errors}),C.shouldFocus&&!V&&Ts(n,F,x?B:o.mount),V},Y=x=>{const C={...l.mount?i:s};return Re(x)?C:Gt(x)?Q(C,x):x.map(O=>Q(C,O))},oe=(x,C)=>({invalid:!!Q((C||r).errors,x),isDirty:!!Q((C||r).dirtyFields,x),error:Q((C||r).errors,x),isValidating:!!Q(r.validatingFields,x),isTouched:!!Q((C||r).touchedFields,x)}),ce=x=>{x&&Ps(x).forEach(C=>Oe(r.errors,C)),h.state.next({errors:x?r.errors:{}})},Ue=(x,C,O)=>{const V=(Q(n,x,{_f:{}})._f||{}).ref,B=Q(r.errors,x)||{},{ref:I,message:J,type:R,...q}=B;xe(r.errors,x,{...q,...C,ref:V}),h.state.next({name:x,errors:r.errors,isValid:!1}),O&&O.shouldFocus&&V&&V.focus&&V.focus()},S=(x,C)=>Dt(x)?h.state.subscribe({next:O=>x(U(void 0,C),O)}):U(x,C,!0),$=x=>h.state.subscribe({next:C=>{Vw(x.name,C.name,x.exact)&&Bw(C,x.formState||u,ft,x.reRenderRoot)&&x.callback({values:{...i},...r,...C})}}).unsubscribe,X=x=>(l.mount=!0,f={...f,...x.formState},$({...x,formState:f})),ne=(x,C={})=>{for(const O of x?Ps(x):o.mount)o.mount.delete(O),o.array.delete(O),C.keepValue||(Oe(n,O),Oe(i,O)),!C.keepError&&Oe(r.errors,O),!C.keepDirty&&Oe(r.dirtyFields,O),!C.keepTouched&&Oe(r.touchedFields,O),!C.keepIsValidating&&Oe(r.validatingFields,O),!t.shouldUnregister&&!C.keepDefaultValue&&Oe(s,O);h.state.next({values:ze(i)}),h.state.next({...r,...C.keepDirty?{isDirty:P()}:{}}),!C.keepIsValid&&w()},Te=({disabled:x,name:C})=>{(Ht(x)&&l.mount||x||o.disabled.has(C))&&(x?o.disabled.add(C):o.disabled.delete(C))},Je=(x,C={})=>{let O=Q(n,x);const V=Ht(C.disabled)||Ht(t.disabled);return xe(n,x,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:x}},name:x,mount:!0,...C}}),o.mount.add(x),O?Te({disabled:Ht(C.disabled)?C.disabled:t.disabled,name:x}):k(x,!0,C.value),{...V?{disabled:C.disabled||t.disabled}:{},...t.progressive?{required:!!C.required,min:ds(C.min),max:ds(C.max),minLength:ds(C.minLength),maxLength:ds(C.maxLength),pattern:ds(C.pattern)}:{},name:x,onChange:pe,onBlur:pe,ref:B=>{if(B){Je(x,C),O=Q(n,x);const I=Re(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,J=Uw(I),R=O._f.refs||[];if(J?R.find(q=>q===I):I===O._f.ref)return;xe(n,x,{_f:{...O._f,...J?{refs:[...R.filter(Al),I,...Array.isArray(Q(s,x))?[{}]:[]],ref:{type:I.type,name:x}}:{ref:I}}}),k(x,!1,void 0,I)}else O=Q(n,x,{}),O._f&&(O._f.mount=!1),(t.shouldUnregister||C.shouldUnregister)&&!(Pw(o.array,x)&&l.action)&&o.unMount.add(x)}}},be=()=>t.shouldFocusError&&Ts(n,F,o.mount),Jt=x=>{Ht(x)&&(h.state.next({disabled:x}),Ts(n,(C,O)=>{const V=Q(n,O);V&&(C.disabled=V._f.disabled||x,Array.isArray(V._f.refs)&&V._f.refs.forEach(B=>{B.disabled=V._f.disabled||x}))},0,!1))},D=(x,C)=>async O=>{let V;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let B=ze(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:I,values:J}=await j();r.errors=I,B=ze(J)}else await L(n);if(o.disabled.size)for(const I of o.disabled)Oe(B,I);if(Oe(r.errors,"root"),it(r.errors)){h.state.next({errors:{}});try{await x(B,O)}catch(I){V=I}}else C&&await C({...r.errors},O),be(),setTimeout(be);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:it(r.errors)&&!V,submitCount:r.submitCount+1,errors:r.errors}),V)throw V},ee=(x,C={})=>{Q(n,x)&&(Re(C.defaultValue)?le(x,ze(Q(s,x))):(le(x,C.defaultValue),xe(s,x,ze(C.defaultValue))),C.keepTouched||Oe(r.touchedFields,x),C.keepDirty||(Oe(r.dirtyFields,x),r.isDirty=C.defaultValue?P(x,ze(Q(s,x))):P()),C.keepError||(Oe(r.errors,x),u.isValid&&w()),h.state.next({...r}))},ve=(x,C={})=>{const O=x?ze(x):s,V=ze(O),B=it(x),I=B?s:V;if(C.keepDefaultValues||(s=O),!C.keepValues){if(C.keepDirtyValues){const J=new Set([...o.mount,...Object.keys(us(s,i))]);for(const R of Array.from(J))Q(r.dirtyFields,R)?xe(I,R,Q(i,R)):le(R,Q(I,R))}else{if(Wc&&Re(x))for(const J of o.mount){const R=Q(n,J);if(R&&R._f){const q=Array.isArray(R._f.refs)?R._f.refs[0]:R._f.ref;if(ka(q)){const te=q.closest("form");if(te){te.reset();break}}}}if(C.keepFieldsRef)for(const J of o.mount)le(J,Q(I,J));else n={}}i=t.shouldUnregister?C.keepDefaultValues?ze(s):{}:ze(I),h.array.next({values:{...I}}),h.state.next({values:{...I}})}o={mount:C.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!C.keepIsValid||!!C.keepDirtyValues,l.watch=!!t.shouldUnregister,h.state.next({submitCount:C.keepSubmitCount?r.submitCount:0,isDirty:B?!1:C.keepDirty?r.isDirty:!!(C.keepDefaultValues&&!br(x,s)),isSubmitted:C.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:B?{}:C.keepDirtyValues?C.keepDefaultValues&&i?us(s,i):r.dirtyFields:C.keepDefaultValues&&x?us(s,x):C.keepDirty?r.dirtyFields:{},touchedFields:C.keepTouched?r.touchedFields:{},errors:C.keepErrors?r.errors:{},isSubmitSuccessful:C.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},je=(x,C)=>ve(Dt(x)?x(i):x,C),nt=(x,C={})=>{const O=Q(n,x),V=O&&O._f;if(V){const B=V.refs?V.refs[0]:V.ref;B.focus&&(B.focus(),C.shouldSelect&&Dt(B.select)&&B.select())}},ft=x=>{r={...r,...x}},ht={control:{register:Je,unregister:ne,getFieldState:oe,handleSubmit:D,setError:Ue,_subscribe:$,_runSchema:j,_focusError:be,_getWatch:U,_getDirty:P,_setValid:w,_setFieldArray:p,_setDisabledField:Te,_setErrors:g,_getFieldArray:W,_reset:ve,_resetDefaultValues:()=>Dt(t.defaultValues)&&t.defaultValues().then(x=>{je(x,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:Jt,_subjects:h,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return l},set _state(x){l=x},get _defaultValues(){return s},get _names(){return o},set _names(x){o=x},get _formState(){return r},get _options(){return t},set _options(x){t={...t,...x}}},subscribe:X,trigger:K,register:Je,handleSubmit:D,watch:S,setValue:le,getValues:Y,reset:je,resetField:ee,clearErrors:ce,unregister:ne,setError:Ue,setFocus:nt,getFieldState:oe};return{...ht,formControl:ht}}function Qw(e={}){const t=jt.useRef(void 0),r=jt.useRef(void 0),[n,s]=jt.useState({isDirty:!1,isValidating:!1,isLoading:Dt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Dt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Dt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...o}=Kw(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,Lw(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,l},[i]),jt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),jt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),jt.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),jt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),jt.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==n.isDirty&&i._subjects.state.next({isDirty:l})}},[i,n.isDirty]),jt.useEffect(()=>{e.values&&!br(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),jt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Rw(n,i),t.current}function Jw(){var C,O,V,B,I,J;const[e,t]=y.useState(null),[r,n]=y.useState(!0),[s,i]=y.useState([]),[l,o]=y.useState(""),[c,d]=y.useState(!1),[u,f]=y.useState(!1),[h,v]=y.useState(!1);y.useState(!1);const[b,w]=y.useState([]),[_,p]=y.useState([]),[m,g]=y.useState(0),[k,E]=y.useState(!1),[z,j]=y.useState(!1),[N,L]=y.useState(""),[T,P]=y.useState(-1),[U,W]=y.useState([]),[G,ue]=y.useState([]),le=y.useRef(null),pe=y.useRef(null),F=Mt(),[K,Y]=y.useState(""),[oe,ce]=y.useState(!1),[Ue,S]=y.useState("photo"),[$,X]=y.useState([{id:"1",author:e||{id:"",name:"User",lastName:"",avatar:""},content:"Мій перший пост! Гарного дня всім!",images:["https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80"],created_at:"2024-07-20T10:00:00Z",likes:5,comments:2},{id:"2",author:e||{id:"",name:"User",lastName:"",avatar:""},content:"Відпочинок на природі!",images:["https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80","https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?auto=format&fit=crop&w=400&q=80"],created_at:"2024-07-18T15:30:00Z",likes:8,comments:3}]);y.useEffect(()=>{async function R(){try{n(!0),o("");const q=await At.getCurrentUserProfile();if(!q){F("/login");return}t(q);const te=await At.getUserMedia();i(te);const De=await At.getUserFriends();W(De),ue([{id:1,name:"Frontend Devs",avatar:"",members:12},{id:2,name:"React Ukraine",avatar:"",members:8}])}catch(q){console.error("Error loading profile:",q),o("Помилка завантаження профілю")}finally{n(!1)}}R()},[F]);const ne=R=>{R.preventDefault(),f(!0)},Te=R=>{R.preventDefault(),f(!1)},Je=R=>{R.preventDefault(),f(!1);const te=Array.from(R.dataTransfer.files).filter(De=>De.type.startsWith("image/")).slice(0,10);te.length===1?D(te[0]):te.length>1&&Jt(te)},be=R=>{var te;const q=(te=R.target.files)==null?void 0:te[0];q&&q.type.startsWith("image/")&&D(q)},Jt=R=>{w(R);const q=R.map(te=>URL.createObjectURL(te));p(q),g(0),E(!0)},D=async R=>{v(!0);try{const q=new FileReader;q.onload=async te=>{var de;const De=(de=te.target)==null?void 0:de.result;L(De),P(-1),j(!0),d(!1)},q.readAsDataURL(R)}catch(q){console.error("Error uploading file:",q)}finally{v(!1)}},ee=async R=>{if(T===-1)await At.updateUserProfile({avatar:R})&&e&&t({...e,avatar:R});else{const q=[..._];q[T]=R,p(q)}j(!1),L(""),P(-1)},ve=R=>{const q=b.filter((De,de)=>de!==R),te=_.filter((De,de)=>de!==R);URL.revokeObjectURL(_[R]),w(q),p(te),m>=te.length&&te.length>0&&g(te.length-1),q.length===0&&E(!1)},je=()=>{g(R=>(R+1)%_.length)},nt=()=>{g(R=>(R-1+_.length)%_.length)},ft=async()=>{if(!(b.length===0&&!K.trim())){v(!0);try{const R=[];for(const te of b){const De=te.name.split(".").pop(),de=`${e.id}_${Date.now()}_${Math.random().toString(36).substr(2,8)}.${De}`,{data:ui,error:Vr}=await M.storage.from("post-images").upload(de,te);if(Vr)throw Vr;const{data:dr}=M.storage.from("post-images").getPublicUrl(de);R.push(dr.publicUrl)}await At.createPost(K,R)&&(X([{id:Date.now().toString(),author:e,content:K,images:R,created_at:new Date().toISOString(),likes:0,comments:0},...$]),Y(""),w([]),p([]),E(!1),g(0))}catch(R){console.error("Error creating post:",R),o("Помилка при створенні поста")}finally{v(!1)}}},Xe=R=>R?new Date(R).toLocaleDateString("uk-UA",{day:"numeric",month:"long",year:"numeric"}):"Не вказано";function ht({open:R,onClose:q,user:te,onSave:De}){const{register:de,handleSubmit:ui,formState:{errors:Vr},reset:dr}=Qw({defaultValues:te});return y.useEffect(()=>{dr(te)},[te,dr]),R?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("form",{onSubmit:ui(De),className:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 p-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Редагувати профіль"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx("input",{...de("name",{required:!0}),placeholder:"Ім'я",className:"border rounded p-2"}),a.jsx("input",{...de("lastName",{required:!0}),placeholder:"Прізвище",className:"border rounded p-2"}),a.jsx("input",{...de("city"),placeholder:"Місто",className:"border rounded p-2"}),a.jsx("input",{...de("familyStatus"),placeholder:"Сімейний стан",className:"border rounded p-2"}),a.jsx("input",{...de("status"),placeholder:"Статус",className:"border rounded p-2"}),a.jsx("input",{...de("phone"),placeholder:"Телефон",className:"border rounded p-2"}),a.jsx("input",{...de("website"),placeholder:"Веб-сайт",className:"border rounded p-2"}),a.jsx("input",{...de("birthDate"),type:"date",placeholder:"День народження",className:"border rounded p-2"})]}),a.jsxs("div",{className:"flex justify-end mt-6 space-x-2",children:[a.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Скасувати"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Зберегти"})]})]})}):null}const x=async R=>{t({...e,...R}),ce(!1)};return r?a.jsxs("div",{className:"flex min-h-screen",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Завантаження профілю..."})]})})]}):l?a.jsxs("div",{className:"flex min-h-screen",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:l}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Спробувати знову"})]})})]}):!e&&!r?(F("/login"),null):e?a.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"relative h-60 bg-gradient-to-r from-blue-400 to-blue-600 rounded-b-2xl shadow-md",children:[a.jsx("img",{src:e.cover||"https://vk.com/images/cover_default.jpg",alt:"Cover",className:"w-full h-60 object-cover rounded-b-2xl",style:{objectPosition:"center"}}),a.jsxs("div",{className:"absolute left-8 -bottom-16 flex items-center space-x-8",children:[a.jsx("div",{className:"w-40 h-40 rounded-full border-4 border-white bg-gray-200 overflow-hidden shadow-lg",children:e.avatar?a.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:a.jsx("span",{className:"text-5xl text-white font-bold",children:((O=(C=e.name)==null?void 0:C[0])==null?void 0:O.toUpperCase())||"?"})})}),a.jsxs("div",{className:"flex flex-col justify-center",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 whitespace-nowrap",children:[e.name," ",e.lastName]}),a.jsx("div",{className:"text-gray-600 mt-1",children:e.status||"Вітаю у моєму профілі!"}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-2 space-x-4",children:[e.city&&a.jsxs("span",{children:[a.jsx(ja,{size:14,className:"inline mr-1"}),e.city]}),e.birthDate&&a.jsxs("span",{children:[a.jsx(Ys,{size:14,className:"inline mr-1"}),Xe(e.birthDate)]}),e.phone&&a.jsxs("span",{children:[a.jsx(yw,{size:14,className:"inline mr-1"}),e.phone]}),e.website&&a.jsxs("span",{children:[a.jsx(Vc,{size:14,className:"inline mr-1"}),e.website]})]}),a.jsxs("div",{className:"flex space-x-3 mt-4",children:[a.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Написати"}),a.jsx("button",{className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300",children:"Додати у друзі"}),a.jsxs("button",{onClick:()=>ce(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center",children:[a.jsx(Od,{size:16,className:"mr-2"}),"Редагувати"]})]})]})]})]}),a.jsx("div",{className:"px-8 pt-28",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 mb-8 w-full max-w-2xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Особиста інформація"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-gray-700 text-lg",children:[a.jsxs("div",{children:[a.jsx("b",{children:"Місто:"})," ",e.city||"Не вказано"]}),a.jsxs("div",{children:[a.jsx("b",{children:"День народження:"})," ",Xe(e.birthDate)]}),a.jsxs("div",{children:[a.jsx("b",{children:"Мова:"})," Українська"]}),a.jsxs("div",{children:[a.jsx("b",{children:"Сімейний стан:"})," ",e.familyStatus||"Не вказано"]}),a.jsxs("div",{children:[a.jsx("b",{children:"Телефон:"})," ",e.phone||"Не вказано"]}),a.jsxs("div",{children:[a.jsx("b",{children:"Веб-сайт:"})," ",e.website||"Не вказано"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2 px-8",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 col-span-1",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Друзі (",U.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:U.length===0?a.jsx("span",{className:"text-gray-500",children:"Немає друзів"}):U.slice(0,6).map(R=>{var q,te;return a.jsxs("button",{className:"flex flex-col items-center w-16 group",onClick:()=>F(`/profile/${R.id}`),children:[a.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 mb-1 group-hover:ring-2 group-hover:ring-blue-500 transition",children:R.avatar?a.jsx("img",{src:R.avatar,alt:R.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:a.jsx("span",{className:"text-white font-bold",children:((te=(q=R.name)==null?void 0:q[0])==null?void 0:te.toUpperCase())||"?"})})}),a.jsx("span",{className:"text-xs text-gray-700 text-center",children:R.name})]},R.id)})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 col-span-1",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Медіа"}),a.jsxs("div",{className:"mb-2 flex space-x-2",children:[a.jsx("button",{onClick:()=>S("photo"),className:`px-3 py-1 rounded ${Ue==="photo"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:"Фото"}),a.jsx("button",{onClick:()=>S("video"),className:`px-3 py-1 rounded ${Ue==="video"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:"Відео"}),a.jsx("button",{onClick:()=>S("album"),className:`px-3 py-1 rounded ${Ue==="album"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:"Альбоми"})]}),Ue==="photo"&&a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.filter(R=>R.type==="photo").slice(0,6).map(R=>a.jsx("img",{src:R.url,alt:"Фото",className:"w-full h-16 object-cover rounded"},R.id)),s.filter(R=>R.type==="photo").length===0&&a.jsx("span",{className:"text-gray-500 col-span-3",children:"Немає фото"})]}),Ue==="video"&&a.jsx("div",{className:"text-gray-500",children:"Немає відео"}),Ue==="album"&&a.jsx("div",{className:"text-gray-500",children:"Немає альбомів"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mt-8 mx-8",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Групи (",G.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-4",children:G.length===0?a.jsx("span",{className:"text-gray-500",children:"Немає груп"}):G.map(R=>{var q,te;return a.jsxs("button",{className:"flex flex-col items-center w-20 group",onClick:()=>F(`/group/${R.id}`),children:[a.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 mb-1 group-hover:ring-2 group-hover:ring-green-500 transition",children:R.avatar?a.jsx("img",{src:R.avatar,alt:R.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-green-400 to-blue-600",children:a.jsx("span",{className:"text-white font-bold",children:((te=(q=R.name)==null?void 0:q[0])==null?void 0:te.toUpperCase())||"?"})})}),a.jsx("span",{className:"text-xs text-gray-700 text-center",children:R.name}),a.jsxs("span",{className:"text-[10px] text-gray-500",children:[R.members," учасників"]})]},R.id)})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mt-8 mx-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Стіна"}),a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200",children:e.avatar?a.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:a.jsx("span",{className:"text-white font-bold",children:((B=(V=e.name)==null?void 0:V[0])==null?void 0:B.toUpperCase())||"?"})})}),a.jsx("input",{type:"text",placeholder:"Що у вас нового?",className:"flex-1 px-4 py-2 bg-gray-50 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Опублікувати"})]}),$.length===0?a.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Od,{className:"text-gray-400",size:24})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"На стіні поки немає жодного запису"}),a.jsx("p",{className:"text-gray-600",children:"Ви можете додати перший запис на стіну"})]}):a.jsx("div",{className:"space-y-6",children:$.map(R=>{var q,te;return a.jsxs("div",{className:"border-b pb-6 last:border-b-0",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-200 mr-2",children:R.author.avatar?a.jsx("img",{src:R.author.avatar,alt:R.author.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:a.jsx("span",{className:"text-white font-bold text-sm",children:((te=(q=R.author.name)==null?void 0:q[0])==null?void 0:te.toUpperCase())||"?"})})}),a.jsxs("span",{className:"font-semibold text-gray-900 mr-2",children:[R.author.name," ",R.author.lastName]}),a.jsx("span",{className:"text-xs text-gray-500",children:Xe(R.created_at)})]}),a.jsx("div",{className:"mb-2 text-gray-800",children:R.content}),R.images.length>0&&a.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:R.images.map((De,de)=>a.jsx("img",{src:De,alt:"post",className:"w-full h-40 object-cover rounded"},de))}),a.jsxs("div",{className:"flex space-x-4 text-gray-500 text-sm",children:[a.jsxs("span",{children:["👍 ",R.likes]}),a.jsxs("span",{children:["💬 ",R.comments]})]})]},R.id)})})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Завантажити фото"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(ir,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${u?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:ne,onDragLeave:Te,onDrop:Je,children:[a.jsx(Hc,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Перетягніть фото сюди"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"або натисніть для вибору файлу"}),a.jsx("button",{onClick:()=>{var R;return(R=le.current)==null?void 0:R.click()},disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:h?"Завантаження...":"Вибрати файл"}),a.jsx("input",{ref:le,type:"file",accept:"image/*",onChange:be,className:"hidden"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"Підтримуються формати: JPG, PNG, GIF. Максимальний розмір: 10MB"})]})]})}),k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Створити новий пост"}),a.jsx("button",{onClick:()=>{_.forEach(R=>URL.revokeObjectURL(R)),w([]),p([]),E(!1),g(0)},className:"text-gray-400 hover:text-gray-600",children:a.jsx(ir,{size:24})})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-1 bg-black relative",children:_.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("img",{src:_[m],alt:`Preview ${m+1}`,className:"w-full h-96 object-contain"}),_.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:nt,className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-75",children:a.jsx(sw,{size:20})}),a.jsx("button",{onClick:je,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-75",children:a.jsx(iw,{size:20})})]}),_.length>1&&a.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white px-2 py-1 rounded-full text-sm",children:[m+1," / ",_.length]})]})}),a.jsxs("div",{className:"w-80 border-l border-gray-200",children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-200 mr-3",children:e.avatar?a.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:a.jsx("span",{className:"text-white font-bold text-sm",children:((J=(I=e.name)==null?void 0:I[0])==null?void 0:J.toUpperCase())||"?"})})}),a.jsxs("span",{className:"font-semibold text-gray-900",children:[e.name," ",e.lastName]})]}),a.jsx("textarea",{placeholder:"Додайте підпис...",className:"w-full h-32 p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:500,value:K,onChange:R=>Y(R.target.value)}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Фото (",b.length,")"]}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:_.map((R,q)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:R,alt:`Thumbnail ${q+1}`,className:`w-full h-16 object-cover rounded cursor-pointer ${q===m?"ring-2 ring-blue-500":""}`,onClick:()=>g(q)}),a.jsx("button",{onClick:()=>{L(R),P(q),j(!0)},className:"absolute top-1 left-1 w-5 h-5 bg-blue-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(gw,{size:12})}),a.jsx("button",{onClick:()=>ve(q),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(ir,{size:12})})]},q))})]}),a.jsx("button",{onClick:()=>{var R;return(R=pe.current)==null?void 0:R.click()},className:"w-full mt-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 transition-colors",children:"+ Додати ще фото"})]}),a.jsx("div",{className:"border-t border-gray-200 p-4",children:a.jsx("button",{onClick:ft,disabled:h||b.length===0,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Публікація...":"Поділитися"})})]})]})]})}),z&&a.jsx(Sw,{imageUrl:N,onApplyFilter:ee,onClose:()=>{j(!1),L(""),P(-1)}}),a.jsx(ht,{open:oe,onClose:()=>ce(!1),user:e,onSave:x})]}):a.jsxs("div",{className:"flex min-h-screen",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600",children:"Профіль не знайдено"}),a.jsx("button",{onClick:()=>F("/login"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Увійти"})]})})]})}function Xw(){return new URLSearchParams(Yn().search)}function Yw(){var z,j,N;const[e,t]=y.useState([]),[r,n]=y.useState(null),[s,i]=y.useState([]),[l,o]=y.useState(null),[c,d]=y.useState(""),[u,f]=y.useState(!0),[h,v]=y.useState(!1),b=y.useRef(null),w=Xw();y.useEffect(()=>{b.current&&b.current.scrollIntoView({behavior:"smooth"})},[s]),y.useEffect(()=>{_()},[]),y.useEffect(()=>{l&&p()},[l]),y.useEffect(()=>{const L=w.get("user");L&&l&&m(L)},[l]);async function _(){const L=await At.getCurrentUserProfile();o(L)}async function p(){f(!0);const{data:L,error:T}=await M.from("conversations").select(`
        *,
        participant1:users!conversations_participant1_id_fkey (id, name, lastName, avatar),
        participant2:users!conversations_participant2_id_fkey (id, name, lastName, avatar)
      `).or(`participant1_id.eq.${l.id},participant2_id.eq.${l.id}`).order("updated_at",{ascending:!1});if(T){t([]),f(!1);return}const P=(L||[]).map(U=>{const W=U.participant1_id===l.id?U.participant2:U.participant1;return{id:U.id,participant:W,updated_at:U.updated_at}});t(P),f(!1)}async function m(L){let T=e.find(P=>P.participant&&P.participant.id===L);if(!T){const{data:P,error:U}=await M.from("conversations").insert([{participant1_id:l.id,participant2_id:L}]).select(`
          *,
          participant1:users!conversations_participant1_id_fkey (id, name, lastName, avatar),
          participant2:users!conversations_participant2_id_fkey (id, name, lastName, avatar)
        `).single();if(U)return;const W=P.participant1_id===l.id?P.participant2:P.participant1;T={id:P.id,participant:W,updated_at:P.updated_at},t(G=>[T,...G])}n(T),g(T.id)}async function g(L){const{data:T,error:P}=await M.from("messages").select("*").eq("conversation_id",L).order("created_at",{ascending:!0});if(P){i([]);return}i(T||[])}async function k(L){n(L),g(L.id)}async function E(L){if(L.preventDefault(),!c.trim()||!r)return;v(!0);const{error:T}=await M.from("messages").insert([{conversation_id:r.id,sender_id:l.id,content:c.trim()}]);v(!1),d(""),T||g(r.id)}return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Me,{}),a.jsxs("div",{className:"flex-1 ml-64 flex",children:[a.jsxs("div",{className:"w-80 border-r border-gray-200 bg-white flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Діалоги"})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:u?a.jsx("div",{className:"p-4 text-gray-500",children:"Завантаження..."}):e.length===0?a.jsx("div",{className:"p-4 text-gray-500",children:"Немає діалогів"}):e.map(L=>{var T,P,U;return a.jsxs("div",{className:`flex items-center px-4 py-3 cursor-pointer hover:bg-gray-50 ${r&&r.id===L.id?"bg-gray-100":""}`,onClick:()=>k(L),children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 overflow-hidden flex items-center justify-center",children:(T=L.participant)!=null&&T.avatar?a.jsx("img",{src:L.participant.avatar,alt:L.participant.name,className:"w-full h-full object-cover"}):a.jsx(ba,{className:"w-8 h-8 text-gray-400"})}),a.jsxs("div",{className:"ml-4 flex-1",children:[a.jsxs("div",{className:"font-semibold text-gray-900",children:[(P=L.participant)==null?void 0:P.name," ",(U=L.participant)==null?void 0:U.lastName]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Останнє оновлення: ",new Date(L.updated_at).toLocaleString("uk-UA")]})]})]},L.id)})})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:r?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center border-b border-gray-200 px-6 py-4 bg-white",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 overflow-hidden flex items-center justify-center",children:(z=r.participant)!=null&&z.avatar?a.jsx("img",{src:r.participant.avatar,alt:r.participant.name,className:"w-full h-full object-cover"}):a.jsx(ba,{className:"w-7 h-7 text-gray-400"})}),a.jsx("div",{className:"ml-4",children:a.jsxs("div",{className:"font-semibold text-gray-900",children:[(j=r.participant)==null?void 0:j.name," ",(N=r.participant)==null?void 0:N.lastName]})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 bg-gray-50",children:s.length===0?a.jsx("div",{className:"text-gray-500 text-center mt-8",children:"Немає повідомлень"}):a.jsxs("div",{className:"space-y-4",children:[s.map(L=>a.jsx("div",{className:`flex ${L.sender_id===l.id?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg shadow-sm ${L.sender_id===l.id?"bg-blue-600 text-white":"bg-white text-gray-900 border"}`,children:[L.content,a.jsx("div",{className:"text-xs text-gray-300 mt-1 text-right",children:new Date(L.created_at).toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})})]})},L.id)),a.jsx("div",{ref:b})]})}),a.jsxs("form",{onSubmit:E,className:"flex items-center px-6 py-4 border-t border-gray-200 bg-white",children:[a.jsx("input",{type:"text",value:c,onChange:L=>d(L.target.value),placeholder:"Введіть повідомлення...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h}),a.jsx("button",{type:"submit",disabled:h||!c.trim(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50",children:a.jsx(qm,{className:"w-5 h-5"})})]})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400 text-xl",children:"Виберіть діалог для перегляду повідомлень"})})]})]})}function Zw(){const[e,t]=y.useState([]),[r,n]=y.useState([]),[s,i]=y.useState(""),[l,o]=y.useState(!0);y.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:f}}=await M.auth.getUser();if(!f)return;const{data:h,error:v}=await M.from("friends").select(`
          friend_id,
          friend:users!friend_id (
            id,
            name,
            lastName,
            avatar
          )
        `).eq("user_id",f.id);if(v)throw v;t((h==null?void 0:h.map(b=>b.friend))||[])}catch(f){console.error("Error fetching friends:",f)}finally{o(!1)}},d=async f=>{if(i(f),f.length<2){n([]);return}try{const{data:h,error:v}=await M.from("users").select("id, name, lastName, avatar").or(`name.ilike.%${f}%, lastName.ilike.%${f}%`).limit(10);if(v)throw v;n(h||[])}catch(h){console.error("Error searching users:",h)}},u=async f=>{try{const{data:{user:h}}=await M.auth.getUser();if(!h)return;const{error:v}=await M.from("friends").insert([{user_id:h.id,friend_id:f}]);if(v)throw v;await c()}catch(h){console.error("Error adding friend:",h)}};return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Пошук друзів"}),a.jsxs("div",{className:"relative",children:[a.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Пошук за ім'ям або прізвищем",value:s,onChange:f=>d(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.length>0&&a.jsx("div",{className:"mt-4 bg-white rounded-lg shadow-sm",children:r.map(f=>a.jsxs("div",{className:"flex items-center justify-between p-4 border-b last:border-b-0",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:f.avatar?a.jsx("img",{src:f.avatar,alt:f.name,className:"w-full h-full rounded-full object-cover"}):a.jsx("span",{className:"text-lg text-gray-600",children:f.name[0]})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"font-medium text-gray-900",children:[f.name," ",f.lastName]})})]}),a.jsxs("button",{onClick:()=>u(f.id),className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Zs,{size:18,className:"mr-1"}),"Додати"]})]},f.id))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Мої друзі"}),l?a.jsx("div",{className:"text-center py-8",children:"Завантаження..."}):e.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(f=>a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:f.avatar?a.jsx("img",{src:f.avatar,alt:f.name,className:"w-full h-full rounded-full object-cover"}):a.jsx("span",{className:"text-xl text-gray-600",children:f.name[0]})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[f.name," ",f.lastName]}),a.jsxs("button",{className:"flex items-center text-sm text-blue-600 hover:text-blue-700 mt-1",children:[a.jsx(qi,{size:16,className:"mr-1"}),"Друзі"]})]})]},f.id))}):a.jsx("div",{className:"text-center py-8 text-gray-600",children:"У вас поки немає друзів"})]})]})})]})}function e1(){const[e,t]=y.useState("profile"),[r,n]=y.useState(!0),s=Mt(),[i,l]=y.useState({name:"",lastName:"",email:"",bio:"",city:"",birthDate:"",notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1},familyStatus:"",status:"",phone:"",website:""});y.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:u},error:f}=await M.auth.getUser();if(f||!u){s("/login");return}const{data:h,error:v}=await M.from("users").select("*").eq("auth_user_id",u.id).single();if(v){console.error("Error fetching user settings:",v);return}l({...i,...h,notifications:h.notifications||i.notifications,privacy:h.privacy||i.privacy})}catch(u){console.error("Error loading user settings:",u)}finally{n(!1)}},c=async u=>{u.preventDefault();try{const{data:{user:f},error:h}=await M.auth.getUser();if(h||!f){s("/login");return}const{error:v}=await M.from("users").update({name:i.name,lastName:i.lastName,bio:i.bio,city:i.city,birthDate:i.birthDate,notifications:i.notifications,privacy:i.privacy,familyStatus:i.familyStatus,status:i.status,phone:i.phone,website:i.website}).eq("auth_user_id",f.id);if(v)throw v;alert("Налаштування збережено успішно")}catch(f){console.error("Error saving settings:",f),alert("Помилка при збереженні налаштувань")}},d=[{id:"profile",label:"Профіль",icon:_a},{id:"privacy",label:"Приватність",icon:Ur},{id:"notifications",label:"Сповіщення",icon:rw}];return r?a.jsxs("div",{className:"flex min-h-screen",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsx("div",{className:"text-center",children:"Завантаження..."})})]}):a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Налаштування"}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[a.jsx("div",{className:"flex border-b border-gray-200",children:d.map(({id:u,label:f,icon:h})=>a.jsxs("button",{onClick:()=>t(u),className:`flex items-center px-6 py-3 text-sm font-medium ${e===u?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(h,{size:18,className:"mr-2"}),f]},u))}),a.jsxs("div",{className:"p-6",children:[e==="profile"&&a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ім'я"}),a.jsx("input",{type:"text",value:i.name,onChange:u=>l({...i,name:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Прізвище"}),a.jsx("input",{type:"text",value:i.lastName,onChange:u=>l({...i,lastName:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Місто"}),a.jsx("input",{type:"text",value:i.city||"",onChange:u=>l({...i,city:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Сімейний стан"}),a.jsx("input",{type:"text",value:i.familyStatus||"",onChange:u=>l({...i,familyStatus:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Статус"}),a.jsx("input",{type:"text",value:i.status||"",onChange:u=>l({...i,status:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Телефон"}),a.jsx("input",{type:"text",value:i.phone||"",onChange:u=>l({...i,phone:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Веб-сайт"}),a.jsx("input",{type:"text",value:i.website||"",onChange:u=>l({...i,website:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Дата народження"}),a.jsx("input",{type:"date",value:i.birthDate||"",onChange:u=>l({...i,birthDate:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Про мене"}),a.jsx("textarea",{value:i.bio,onChange:u=>l({...i,bio:u.target.value}),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Зберегти зміни"})})]}),e==="privacy"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Налаштування приватності"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Видимість профілю"}),a.jsxs("select",{value:i.privacy.profileVisibility,onChange:u=>l({...i,privacy:{...i.privacy,profileVisibility:u.target.value}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[a.jsx("option",{value:"public",children:"Публічний"}),a.jsx("option",{value:"friends",children:"Тільки друзі"}),a.jsx("option",{value:"private",children:"Приватний"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Показувати дату народження"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:i.privacy.showBirthDate,onChange:u=>l({...i,privacy:{...i.privacy,showBirthDate:u.target.checked}}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Показувати email"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:i.privacy.showEmail,onChange:u=>l({...i,privacy:{...i.privacy,showEmail:u.target.checked}}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),e==="notifications"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Налаштування сповіщень"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Email сповіщення"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:i.notifications.email,onChange:u=>l({...i,notifications:{...i.notifications,email:u.target.checked}}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Сповіщення про повідомлення"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:i.notifications.messages,onChange:u=>l({...i,notifications:{...i.notifications,messages:u.target.checked}}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Сповіщення про запити в друзі"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:i.notifications.friendRequests,onChange:u=>l({...i,notifications:{...i.notifications,friendRequests:u.target.checked}}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})})]})]})]})})]})}function t1(){const[e,t]=y.useState([]),[r,n]=y.useState([]),[s,i]=y.useState(""),[l,o]=y.useState("public"),[c,d]=y.useState(!0),[u,f]=y.useState(null),[h,v]=y.useState(!1),[b,w]=y.useState(!1),_=Mt(),[p,m]=y.useState({name:"",description:"",isPrivate:!1,avatar:null});y.useEffect(()=>{g()},[]),y.useEffect(()=>{u&&(k(),E())},[u]);const g=async()=>{try{const{data:{user:P},error:U}=await M.auth.getUser();if(U||!P){_("/login");return}const{data:W,error:G}=await M.from("user_profiles").select("*").eq("auth_user_id",P.id).single();if(G){console.error("Error fetching user profile:",G);return}f(W)}catch(P){console.error("Error fetching current user:",P)}},k=async()=>{try{d(!0);const{data:P,error:U}=await M.from("groups").select(`
          *,
          created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
        `).eq("is_private",!1).order("created_at",{ascending:!1});if(U)throw U;t(P||[])}catch(P){console.error("Error fetching groups:",P)}finally{d(!1)}},E=async()=>{try{if(!u)return;const{data:P,error:U}=await M.from("group_members").select(`
          *,
          group:groups(
            *,
            created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
          )
        `).eq("user_id",u.id);if(U)throw U;n((P==null?void 0:P.map(W=>W.group))||[])}catch(P){console.error("Error fetching my groups:",P)}},z=async P=>{if(P.preventDefault(),!!u)try{w(!0);let U=null;if(p.avatar){const le=p.avatar.name.split(".").pop(),F=`group-avatars/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${le}`}`,{error:K}=await M.storage.from("avatars").upload(F,p.avatar);if(K)throw K;const{data:{publicUrl:Y}}=M.storage.from("avatars").getPublicUrl(F);U=Y}const{data:W,error:G}=await M.from("groups").insert([{name:p.name,description:p.description,is_private:p.isPrivate,avatar:U,created_by:u.id}]).select().single();if(G)throw G;const{error:ue}=await M.from("group_members").insert([{group_id:W.id,user_id:u.id,role:"admin"}]);if(ue)throw ue;v(!1),m({name:"",description:"",isPrivate:!1,avatar:null}),k(),E(),alert("Групу успішно створено!")}catch(U){console.error("Error creating group:",U),alert("Помилка при створенні групи")}finally{w(!1)}},j=async P=>{try{if(!u)return;const{error:U}=await M.from("group_members").insert([{group_id:P,user_id:u.id,role:"member"}]);if(U)throw U;k(),E(),alert("Ви успішно приєдналися до групи!")}catch(U){console.error("Error joining group:",U),alert("Помилка при приєднанні до групи")}},N=P=>r.some(U=>U.id===P),L=(l==="public"?e:r).filter(P=>P.name.toLowerCase().includes(s.toLowerCase())||P.description&&P.description.toLowerCase().includes(s.toLowerCase())),T=P=>new Date(P).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric"});return c&&!u?a.jsxs("div",{className:"flex min-h-screen",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsx("div",{className:"text-center",children:"Завантаження..."})})]}):a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Групи"}),a.jsxs("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Mo,{size:20,className:"mr-2"}),"Створити групу"]})]}),a.jsx("p",{className:"text-gray-600",children:"Знайдіть спільноти за інтересами або створіть власну"})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Пошук груп...",value:s,onChange:P=>i(P.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[a.jsx("button",{onClick:()=>o("public"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l==="public"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Відкриті групи"}),a.jsxs("button",{onClick:()=>o("my"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l==="my"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Мої групи (",r.length,")"]})]})}),L.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(P=>{var U,W,G;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-200",children:[a.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-500 to-purple-600 relative",children:[P.avatar&&a.jsx("img",{src:P.avatar,alt:P.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute top-3 right-3",children:P.is_private?a.jsx(Ur,{size:16,className:"text-white bg-black bg-opacity-50 p-1 rounded"}):a.jsx(Vc,{size:16,className:"text-white bg-black bg-opacity-50 p-1 rounded"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:P.name}),P.description&&a.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-2",children:P.description}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(nn,{size:14,className:"mr-1"}),P.member_count||1," учасників"]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ys,{size:14,className:"mr-1"}),T(P.created_at)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(U=P.created_by_profile)!=null&&U.avatar?a.jsx("img",{src:P.created_by_profile.avatar,alt:"Creator",className:"w-full h-full rounded-full object-cover"}):a.jsx(_a,{size:16,className:"text-gray-400"})}),a.jsx("div",{className:"ml-2",children:a.jsxs("p",{className:"text-xs text-gray-600",children:[(W=P.created_by_profile)==null?void 0:W.name," ",(G=P.created_by_profile)==null?void 0:G.last_name]})})]}),l==="public"&&!N(P.id)?a.jsx("button",{onClick:()=>j(P.id),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Приєднатися"}):a.jsx("button",{onClick:()=>_(`/groups/${P.id}`),className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 transition-colors",children:"Переглянути"})]})]})]},P.id)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(nn,{size:32,className:"text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:l==="public"?"Груп не знайдено":"Ви ще не приєдналися до жодної групи"}),a.jsx("p",{className:"text-gray-600",children:l==="public"?"Спробуйте змінити критерії пошуку":"Приєднайтеся до відкритих груп або створіть власну"})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Створити групу"}),a.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(ir,{size:24})})]}),a.jsxs("form",{onSubmit:z,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Назва групи *"}),a.jsx("input",{type:"text",value:p.name,onChange:P=>m({...p,name:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введіть назву групи",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Опис"}),a.jsx("textarea",{value:p.description,onChange:P=>m({...p,description:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Розкажіть про вашу групу",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Аватар групи"}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("label",{className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[a.jsx(Bm,{size:18,className:"mr-2 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:p.avatar?p.avatar.name:"Вибрати файл"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:P=>m({...p,avatar:P.target.files[0]})})]})})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isPrivate",checked:p.isPrivate,onChange:P=>m({...p,isPrivate:P.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isPrivate",className:"ml-2 block text-sm text-gray-700",children:"Приватна група (тільки за запрошенням)"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Скасувати"}),a.jsx("button",{type:"submit",disabled:b||!p.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Створення...":"Створити"})]})]})]})})]})}function r1(){var Te,Je,be,Jt;const{groupId:e}=iy(),t=Mt(),[r,n]=y.useState(null),[s,i]=y.useState([]),[l,o]=y.useState([]),[c,d]=y.useState(null),[u,f]=y.useState(null),[h,v]=y.useState(!0),[b,w]=y.useState("posts"),[_,p]=y.useState(""),[m,g]=y.useState([]),[k,E]=y.useState(!1),[z,j]=y.useState(!1),[N,L]=y.useState(""),[T,P]=y.useState(null),[U,W]=y.useState(!1);y.useEffect(()=>{G()},[]),y.useEffect(()=>{c&&e&&(ue(),le(),pe(),F())},[c,e]);const G=async()=>{try{const{data:{user:D},error:ee}=await M.auth.getUser();if(ee||!D){t("/login");return}const{data:ve,error:je}=await M.from("user_profiles").select("*").eq("auth_user_id",D.id).single();if(je){console.error("Error fetching user profile:",je);return}d(ve)}catch(D){console.error("Error fetching current user:",D)}},ue=async()=>{try{const{data:D,error:ee}=await M.from("groups").select(`
          *,
          created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
        `).eq("id",e).single();if(ee)throw ee;n(D)}catch(D){console.error("Error fetching group details:",D),t("/groups")}finally{v(!1)}},le=async()=>{try{const{data:D,error:ee}=await M.from("group_posts").select(`
          *,
          author:user_profiles!group_posts_author_id_fkey(name, last_name, avatar),
          media:group_post_media(*)
        `).eq("group_id",e).order("created_at",{ascending:!1});if(ee)throw ee;i(D||[])}catch(D){console.error("Error fetching group posts:",D)}},pe=async()=>{try{const{data:D,error:ee}=await M.from("group_members").select(`
          *,
          user:user_profiles!group_members_user_id_fkey(name, last_name, avatar)
        `).eq("group_id",e).order("joined_at",{ascending:!1});if(ee)throw ee;o(D||[])}catch(D){console.error("Error fetching group members:",D)}},F=async()=>{try{if(!c)return;const{data:D,error:ee}=await M.from("group_members").select("*").eq("group_id",e).eq("user_id",c.id).single();if(ee&&ee.code!=="PGRST116")throw ee;f(D)}catch(D){console.error("Error checking user membership:",D)}},K=async()=>{try{if(!c)return;const{error:D}=await M.from("group_members").insert([{group_id:e,user_id:c.id,role:"member"}]);if(D)throw D;F(),pe(),alert("Ви успішно приєдналися до групи!")}catch(D){console.error("Error joining group:",D),alert("Помилка при приєднанні до групи")}},Y=async()=>{try{if(!c||!u)return;if(u.role==="admin"){alert("Адміністратор не може покинути групу");return}const{error:D}=await M.from("group_members").delete().eq("group_id",e).eq("user_id",c.id);if(D)throw D;f(null),pe(),alert("Ви покинули групу")}catch(D){console.error("Error leaving group:",D),alert("Помилка при виході з групи")}},oe=D=>{const ee=Array.from(D.target.files);g(ee)},ce=D=>{g(ee=>ee.filter((ve,je)=>je!==D))},Ue=async D=>{if(D.preventDefault(),!(!c||!u||!_.trim()&&m.length===0))try{E(!0);const{data:ee,error:ve}=await M.from("group_posts").insert([{group_id:e,author_id:c.id,content:_.trim()}]).select().single();if(ve)throw ve;if(m.length>0)for(const je of m){const nt=je.name.split(".").pop(),ft=`${Date.now()}-${Math.random().toString(36).substring(7)}.${nt}`,Xe=`group-posts/${e}/${ft}`,ht=je.type.startsWith("video/")?"video":"image",{error:x}=await M.storage.from("media").upload(Xe,je);if(x)throw x;const{data:{publicUrl:C}}=M.storage.from("media").getPublicUrl(Xe);await M.from("group_post_media").insert([{post_id:ee.id,type:ht,url:C,filename:je.name,file_size:je.size}])}p(""),g([]),le()}catch(ee){console.error("Error creating post:",ee),alert("Помилка при створенні поста")}finally{E(!1)}},S=D=>new Date(D).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),$=D=>{switch(D){case"admin":return"Адміністратор";case"moderator":return"Модератор";default:return"Учасник"}};if(h)return a.jsxs("div",{className:"flex min-h-screen",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsx("div",{className:"text-center",children:"Завантаження..."})})]});if(!r)return a.jsxs("div",{className:"flex min-h-screen",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsx("div",{className:"text-center",children:"Група не знайдена"})})]});const X=!!u,ne=(u==null?void 0:u.role)==="admin";return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Me,{}),a.jsxs("div",{className:"flex-1 ml-64",children:[a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-8 py-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>t("/groups"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(Zx,{size:20})}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mr-4",children:r.avatar?a.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full rounded-full object-cover"}):a.jsx(nn,{size:24,className:"text-gray-400"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mr-2",children:r.name}),r.is_private?a.jsx(Ur,{size:16,className:"text-gray-500"}):a.jsx(Vc,{size:16,className:"text-gray-500"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[a.jsxs("span",{children:[r.member_count||l.length," учасників"]}),a.jsx("span",{children:"•"}),a.jsxs("span",{children:["Створено ",S(r.created_at)]})]})]})]})]}),a.jsx("div",{className:"flex items-center space-x-3",children:X?a.jsxs(a.Fragment,{children:[!ne&&a.jsxs("button",{onClick:Y,className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[a.jsx(ww,{size:18,className:"mr-2"}),"Покинути"]}),ne&&a.jsxs("button",{className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[a.jsx(Hm,{size:18,className:"mr-2"}),"Керувати"]})]}):a.jsxs("button",{onClick:K,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[a.jsx(Zs,{size:18,className:"mr-2"}),"Приєднатися"]})})]}),r.description&&a.jsx("p",{className:"mt-4 text-gray-600",children:r.description})]})}),a.jsx("div",{className:"max-w-6xl mx-auto px-8 py-6",children:X?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[a.jsxs("button",{onClick:()=>w("posts"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${b==="posts"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Пости (",s.length,")"]}),a.jsxs("button",{onClick:()=>w("members"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${b==="members"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Учасники (",l.length,")"]}),a.jsx("button",{onClick:()=>w("info"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${b==="info"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Інформація"})]})}),b==="posts"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsx("form",{onSubmit:Ue,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:c!=null&&c.avatar?a.jsx("img",{src:c.avatar,alt:c.name,className:"w-full h-full rounded-full object-cover"}):a.jsx("span",{className:"text-sm text-gray-600",children:(Je=(Te=c==null?void 0:c.name)==null?void 0:Te[0])==null?void 0:Je.toUpperCase()})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{value:_,onChange:D=>p(D.target.value),placeholder:"Поділіться чимось з групою...",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3}),m.length>0&&a.jsx("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-2",children:m.map((D,ee)=>a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:D.type.startsWith("image/")?a.jsx("img",{src:URL.createObjectURL(D),alt:"",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(_w,{size:24,className:"text-gray-400"})})}),a.jsx("button",{type:"button",onClick:()=>ce(ee),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:a.jsx(ir,{size:12})})]},ee))}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("label",{className:"flex items-center px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg cursor-pointer",children:[a.jsx(Bm,{size:18,className:"mr-1"}),a.jsx("span",{className:"text-sm",children:"Фото/Відео"}),a.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:oe})]})}),a.jsxs("button",{type:"submit",disabled:k||!_.trim()&&m.length===0,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[k?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):a.jsx(qm,{size:16,className:"mr-2"}),k?"Публікація...":"Опублікувати"]})]})]})]})})}),s.length>0?s.map(D=>{var ee,ve,je,nt,ft,Xe;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsx("div",{className:"p-6 pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(ee=D.author)!=null&&ee.avatar?a.jsx("img",{src:D.author.avatar,alt:D.author.name,className:"w-full h-full rounded-full object-cover"}):a.jsx("span",{className:"text-sm text-gray-600",children:(nt=(je=(ve=D.author)==null?void 0:ve.name)==null?void 0:je[0])==null?void 0:nt.toUpperCase()})}),a.jsxs("div",{className:"ml-3",children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[(ft=D.author)==null?void 0:ft.name," ",(Xe=D.author)==null?void 0:Xe.last_name]}),a.jsx("p",{className:"text-sm text-gray-500",children:S(D.created_at)})]})]}),a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(Fo,{size:16,className:"text-gray-400"})})]})}),D.content&&a.jsx("div",{className:"px-6 pb-4",children:a.jsx("p",{className:"text-gray-900",children:D.content})}),D.media&&D.media.length>0&&a.jsx("div",{className:"px-6 pb-4",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:D.media.map((ht,x)=>a.jsx("div",{className:"rounded-lg overflow-hidden",children:ht.type==="image"?a.jsx("img",{src:ht.url,alt:"",className:"w-full h-64 object-cover"}):a.jsx("video",{src:ht.url,className:"w-full h-64 object-cover",controls:!0})},x))})}),a.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("button",{className:"flex items-center text-gray-600 hover:text-red-500",children:[a.jsx(uw,{size:18,className:"mr-1"}),a.jsx("span",{className:"text-sm",children:"Подобається"})]}),a.jsxs("button",{className:"flex items-center text-gray-600 hover:text-blue-500",children:[a.jsx(rn,{size:18,className:"mr-1"}),a.jsx("span",{className:"text-sm",children:"Коментувати"})]}),a.jsxs("button",{className:"flex items-center text-gray-600 hover:text-green-500",children:[a.jsx(vw,{size:18,className:"mr-1"}),a.jsx("span",{className:"text-sm",children:"Поділитися"})]})]})})})]},D.id)}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(rn,{size:32,className:"text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Поки що немає постів"}),a.jsx("p",{className:"text-gray-600",children:"Станьте першим, хто поділиться чимось цікавим!"})]})]}),b==="members"&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Учасники групи (",l.length,")"]}),a.jsx("div",{className:"space-y-4",children:l.map(D=>{var ee,ve,je,nt,ft,Xe,ht;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(ee=D.user)!=null&&ee.avatar?a.jsx("img",{src:D.user.avatar,alt:D.user.name,className:"w-full h-full rounded-full object-cover"}):a.jsx("span",{className:"text-lg text-gray-600",children:(nt=(je=(ve=D.user)==null?void 0:ve.name)==null?void 0:je[0])==null?void 0:nt.toUpperCase()})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[(ft=D.user)==null?void 0:ft.name," ",(Xe=D.user)==null?void 0:Xe.last_name]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D.role==="admin"?"bg-red-100 text-red-800":D.role==="moderator"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:$(D.role)}),a.jsxs("span",{className:"ml-2",children:["Приєднався ",S(D.joined_at)]})]})]})]}),ne&&((ht=D.user)==null?void 0:ht.id)!==(c==null?void 0:c.id)&&a.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:a.jsx(Fo,{size:16})})]},D.id)})})]})}),b==="info"&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 max-w-xl mx-auto",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsxs("div",{className:"relative w-24 h-24 mb-4",children:[a.jsx("img",{src:T?URL.createObjectURL(T):r.avatar||"",alt:"Group avatar",className:"w-24 h-24 rounded-full object-cover border border-gray-200"}),ne&&a.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white rounded-full p-1 cursor-pointer hover:bg-blue-700",children:[a.jsx(Hc,{size:16}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:D=>P(D.target.files[0])})]})]}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:r.name}),a.jsxs("div",{className:"text-gray-600 mb-2",children:["Створено: ",S(r.created_at)]}),a.jsxs("div",{className:"text-gray-600 mb-2",children:["Адміністратор: ",((Jt=(be=l.find(D=>D.role==="admin"))==null?void 0:be.user)==null?void 0:Jt.name)||"—"]}),z?a.jsxs(a.Fragment,{children:[a.jsx("textarea",{className:"w-full border rounded p-2 mb-2",rows:3,value:N,onChange:D=>L(D.target.value)}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:U,onClick:async()=>{W(!0);let D=r.avatar;if(T){const ve=T.name.split(".").pop(),je=`${Date.now()}-${Math.random().toString(36).substring(7)}.${ve}`,nt=`group-avatars/${e}/${je}`,{error:ft}=await M.storage.from("media").upload(nt,T);if(!ft){const{data:{publicUrl:Xe}}=M.storage.from("media").getPublicUrl(nt);D=Xe}}const{error:ee}=await M.from("groups").update({description:N,avatar:D}).eq("id",e);ee||(n({...r,description:N,avatar:D}),j(!1),P(null)),W(!1)},children:"Зберегти"}),a.jsx("button",{className:"px-4 py-2 border rounded hover:bg-gray-100",onClick:()=>{j(!1),L(r.description||""),P(null)},children:"Скасувати"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-4 text-gray-800 w-full text-center min-h-[48px]",children:r.description||"Опис відсутній"}),ne&&a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>{j(!0),L(r.description||"")},children:"Редагувати опис"})]})]})})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ur,{size:32,className:"text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Приєднайтеся до групи"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Щоб переглядати пости та брати участь в обговореннях, приєднайтеся до групи"}),a.jsxs("button",{onClick:K,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mx-auto",children:[a.jsx(Zs,{size:18,className:"mr-2"}),"Приєднатися до групи"]})]})})]})]})}function n1(){const[e,t]=y.useState([]),[r,n]=y.useState([]),[s,i]=y.useState([]),[l,o]=y.useState(""),[c,d]=y.useState(!0),[u,f]=y.useState(null),[h,v]=y.useState(!1),[b,w]=y.useState("grid"),[_,p]=y.useState({city:"",onlineStatus:"all",friendStatus:"all",sortBy:"date",sortOrder:"desc",hasAvatar:!1,hasBio:!1}),[m,g]=y.useState([]),[k,E]=y.useState(new Set),[z,j]=y.useState(!1),N=Mt();y.useEffect(()=>{L(),T()},[]),y.useEffect(()=>{U()},[l,e,_,s]);const L=async()=>{try{const{data:{user:S},error:$}=await M.auth.getUser();if($||!S){N("/login");return}f(S.id);const{data:X,error:ne}=await M.from("users").select("*").order("date",{ascending:!1});if(ne)throw ne;let Te=X||[];Te=Te.filter(be=>be&&be.id&&be.name&&be.lastName&&be.email),Te=Te.map(be=>({...be,isOnline:Math.random()>.7,lastSeen:new Date(Date.now()-Math.random()*7*24*60*60*1e3).toISOString(),friendsCount:Math.floor(Math.random()*100),postsCount:Math.floor(Math.random()*50)})),t(Te);const Je=[...new Set(Te.filter(be=>be.city).map(be=>be.city))].sort();g(Je)}catch(S){console.error("Error fetching users:",S),t([]),n([])}finally{d(!1)}},T=async()=>{try{const{data:{user:S}}=await M.auth.getUser();if(!S)return;const{data:$,error:X}=await M.from("friends").select("*").or(`user_id.eq.${S.id},friend_id.eq.${S.id}`);if(X)throw X;i($||[])}catch(S){console.error("Error fetching friend requests:",S)}},P=S=>{if(!u)return"not_friends";if(S===u)return"self";const $=s.find(X=>X.user_id===u&&X.friend_id===S||X.user_id===S&&X.friend_id===u);return $?$.status==="accepted"?"friends":$.status==="pending"?$.user_id===u?"sent":"received":"not_friends":"not_friends"},U=()=>{let S=[...e];l.trim()!==""&&(S=S.filter($=>$.name.toLowerCase().includes(l.toLowerCase())||$.lastName.toLowerCase().includes(l.toLowerCase())||$.email.toLowerCase().includes(l.toLowerCase())||$.city&&$.city.toLowerCase().includes(l.toLowerCase())||$.bio&&$.bio.toLowerCase().includes(l.toLowerCase()))),_.city&&(S=S.filter($=>$.city===_.city)),_.onlineStatus!=="all"&&(S=S.filter($=>_.onlineStatus==="online"?$.isOnline:!$.isOnline)),_.friendStatus!=="all"&&(S=S.filter($=>{const X=P($.auth_user_id);switch(_.friendStatus){case"friends":return X==="friends";case"not_friends":return X==="not_friends";case"pending":return X==="sent"||X==="received";default:return!0}})),_.hasAvatar&&(S=S.filter($=>$.avatar)),_.hasBio&&(S=S.filter($=>$.bio&&$.bio.trim()!=="")),S.sort(($,X)=>{let ne=0;switch(_.sortBy){case"name":ne=`${$.name} ${$.lastName}`.localeCompare(`${X.name} ${X.lastName}`);break;case"date":ne=new Date($.date).getTime()-new Date(X.date).getTime();break;case"city":ne=($.city||"").localeCompare(X.city||"");break;case"lastSeen":$.isOnline&&!X.isOnline?ne=-1:!$.isOnline&&X.isOnline?ne=1:ne=new Date(X.lastSeen||0).getTime()-new Date($.lastSeen||0).getTime();break;case"popularity":ne=(X.friendsCount||0)-($.friendsCount||0);break}return _.sortOrder==="asc"?ne:-ne}),n(S)},W=async S=>{try{if(!u)return;if(S===u){alert("Ви не можете додати себе в друзі!");return}if(s.find(ne=>ne.user_id===u&&ne.friend_id===S||ne.user_id===S&&ne.friend_id===u)){alert("Запит на дружбу вже існує!");return}const{error:X}=await M.from("friends").insert([{user_id:u,friend_id:S,status:"pending"}]);if(X)throw X;alert("Запит на дружбу надіслано!"),T()}catch($){console.error("Error adding friend:",$),alert("Помилка при додаванні в друзі")}},G=async(S,$)=>{try{const{error:X}=await M.from("friends").update({status:$==="accept"?"accepted":"rejected"}).eq("id",S);if(X)throw X;alert($==="accept"?"Запит прийнято!":"Запит відхилено!"),T()}catch(X){console.error("Error handling friend request:",X),alert("Помилка при обробці запиту")}},ue=async S=>{try{if(!u)return;const{error:$}=await M.from("friends").delete().or(`and(user_id.eq.${u},friend_id.eq.${S}),and(user_id.eq.${S},friend_id.eq.${u})`);if($)throw $;alert("Користувача видалено з друзів!"),T()}catch($){console.error("Error removing friend:",$),alert("Помилка при видаленні з друзів")}},le=S=>{const $=new Set(k);$.has(S)?$.delete(S):$.add(S),E($),j($.size>0)},pe=()=>{E(new Set),j(!1)},F=async()=>{for(const S of k)await W(S);pe()},K=()=>{p({city:"",onlineStatus:"all",friendStatus:"all",sortBy:"date",sortOrder:"desc",hasAvatar:!1,hasBio:!1}),o("")},Y=S=>new Date(S).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric"}),oe=(S,$)=>{if($)return"Онлайн";if(!S)return"Давно не з'являвся";const X=Date.now()-new Date(S).getTime(),ne=Math.floor(X/(1e3*60)),Te=Math.floor(X/(1e3*60*60)),Je=Math.floor(X/(1e3*60*60*24));return ne<60?`${ne} хв тому`:Te<24?`${Te} год тому`:`${Je} дн тому`},ce=()=>{let S=0;return _.city&&S++,_.onlineStatus!=="all"&&S++,_.friendStatus!=="all"&&S++,(_.sortBy!=="date"||_.sortOrder!=="desc")&&S++,_.hasAvatar&&S++,_.hasBio&&S++,S},Ue=S=>{var ne,Te,Je,be,Jt,D;const $=P(S.auth_user_id),X=k.has(S.id);return b==="list"?a.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-all duration-200 ${X?"ring-2 ring-blue-500 bg-blue-50":""}`,children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:X,onChange:()=>le(S.id),className:"absolute top-0 left-0 w-4 h-4 rounded border-gray-300 text-blue-600"}),a.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl font-bold overflow-hidden ml-6",children:[S.avatar?a.jsx("img",{src:S.avatar,alt:S.name,className:"w-full h-full rounded-full object-cover"}):a.jsxs("span",{children:[(ne=S.name[0])==null?void 0:ne.toUpperCase(),(Te=S.lastName[0])==null?void 0:Te.toUpperCase()]}),S.isOnline&&a.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-green-500 border-2 border-white rounded-full"})]})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:[S.name," ",S.lastName]}),((Je=S.privacy)==null?void 0:Je.profileVisibility)==="private"&&a.jsx(Ur,{size:16,className:"text-gray-400"}),$==="friends"&&a.jsx(qi,{size:16,className:"text-green-500"})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ys,{size:14,className:"mr-1"}),Y(S.date)]}),S.city&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(ja,{size:14,className:"mr-1"}),S.city]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ll,{size:14,className:"mr-1"}),oe(S.lastSeen,S.isOnline)]})]}),S.bio&&a.jsx("p",{className:"text-gray-600 text-sm mt-2 line-clamp-2",children:S.bio}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-2",children:[a.jsxs("span",{children:[S.friendsCount," друзів"]}),a.jsxs("span",{children:[S.postsCount," постів"]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[$==="self"?a.jsx("button",{className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium cursor-default",disabled:!0,children:"Це ви"}):$==="friends"?a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>ue(S.auth_user_id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:"Видалити з друзів"}),a.jsx("button",{onClick:()=>N(`/messages?user=${S.id}`),className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:a.jsx(rn,{size:16})})]}):$==="sent"?a.jsx("button",{className:"px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg text-sm font-medium cursor-default",disabled:!0,children:"Запит надіслано"}):$==="received"?a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{const ee=s.find(ve=>ve.user_id===S.auth_user_id);ee&&G(ee.id,"accept")},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"Прийняти"}),a.jsx("button",{onClick:()=>{const ee=s.find(ve=>ve.user_id===S.auth_user_id);ee&&G(ee.id,"reject")},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Відхилити"})]}):a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>W(S.auth_user_id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Додати в друзі"}),a.jsx("button",{onClick:()=>N(`/messages?user=${S.id}`),className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:a.jsx(rn,{size:16})})]}),a.jsx("button",{className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:a.jsx(Fo,{size:16})})]})]})},S.id):a.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-200 cursor-pointer group hover:scale-105 ${X?"ring-2 ring-blue-500":""}`,onClick:()=>N(`/profile/${S.id}`),children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:X,onChange:ee=>{ee.stopPropagation(),le(S.id)},className:"absolute top-3 left-3 w-4 h-4 rounded border-gray-300 text-blue-600 z-10"}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsxs("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl font-bold overflow-hidden flex-shrink-0",children:[S.avatar?a.jsx("img",{src:S.avatar,alt:S.name,className:"w-full h-full rounded-full object-cover"}):a.jsxs("span",{children:[(be=S.name[0])==null?void 0:be.toUpperCase(),(Jt=S.lastName[0])==null?void 0:Jt.toUpperCase()]}),S.isOnline&&a.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-green-500 border-2 border-white rounded-full"})]}),a.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:[S.name," ",S.lastName]}),((D=S.privacy)==null?void 0:D.profileVisibility)==="private"&&a.jsx(Ur,{size:16,className:"text-gray-400"}),$==="friends"&&a.jsx(qi,{size:16,className:"text-green-500"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[a.jsx(Ll,{size:14,className:"mr-1 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:oe(S.lastSeen,S.isOnline)})]})]})]}),S.bio&&a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:S.bio}),a.jsxs("div",{className:"space-y-2 mb-4",children:[S.city&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(ja,{size:14,className:"mr-2 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:S.city})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ys,{size:14,className:"mr-2 text-gray-400 flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:["Приєднався ",Y(S.date)]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[a.jsxs("span",{children:[S.friendsCount," друзів"]}),a.jsxs("span",{children:[S.postsCount," постів"]})]})]}),a.jsxs("div",{className:"flex space-x-2",onClick:ee=>ee.stopPropagation(),children:[$==="self"?a.jsxs("button",{className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium cursor-default",disabled:!0,children:[a.jsx(ba,{size:16,className:"mr-1"}),"Це ви"]}):$==="friends"?a.jsxs("button",{onClick:()=>ue(S.auth_user_id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:[a.jsx(bw,{size:16,className:"mr-1"}),"Видалити"]}):$==="sent"?a.jsxs("button",{className:"flex-1 flex items-center justify-center px-3 py-2 bg-yellow-100 text-yellow-700 rounded-lg text-sm font-medium cursor-default",disabled:!0,children:[a.jsx(Ll,{size:16,className:"mr-1"}),"Надіслано"]}):$==="received"?a.jsxs("button",{onClick:()=>{const ee=s.find(ve=>ve.user_id===S.auth_user_id);ee&&G(ee.id,"accept")},className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:[a.jsx(qi,{size:16,className:"mr-1"}),"Прийняти"]}):a.jsxs("button",{onClick:()=>W(S.auth_user_id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[a.jsx(Zs,{size:16,className:"mr-1"}),"Додати"]}),$!=="self"&&a.jsx("button",{onClick:()=>N(`/messages?user=${S.id}`),className:"flex items-center justify-center px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",title:"Написати повідомлення",children:a.jsx(rn,{size:16})})]})]})]})},S.id)};return c?a.jsxs("div",{className:"flex min-h-screen",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Завантаження користувачів..."})]})})]}):a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Всі користувачі"}),a.jsx("p",{className:"text-gray-600",children:"Перегляньте всіх зареєстрованих користувачів нашої соціальної мережі"})]}),z&&a.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-blue-800",children:["Обрано ",k.size," користувачів"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:F,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Додати всіх в друзі"}),a.jsx("button",{onClick:pe,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:"Скасувати"})]})]})}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Пошук серед всіх користувачів...",value:l,onChange:S=>o(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l&&a.jsx("button",{onClick:()=>o(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.jsx(ir,{size:18})})]}),a.jsxs("button",{onClick:()=>v(!h),className:`flex items-center px-4 py-3 border rounded-lg transition-colors relative ${h?"bg-blue-50 border-blue-300 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(Wm,{size:20,className:"mr-2"}),"Фільтри",ce()>0&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:ce()}),a.jsx(Mm,{size:16,className:`ml-2 transition-transform ${h?"rotate-180":""}`})]}),a.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[a.jsx("button",{onClick:()=>w("grid"),className:`p-3 ${b==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:a.jsx(cw,{size:18})}),a.jsx("button",{onClick:()=>w("list"),className:`p-3 ${b==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:a.jsx(fw,{size:18})})]})]}),h&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Місто"}),a.jsxs("select",{value:_.city,onChange:S=>p($=>({...$,city:S.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Всі міста"}),m.map(S=>a.jsx("option",{value:S,children:S},S))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Онлайн статус"}),a.jsxs("select",{value:_.onlineStatus,onChange:S=>p($=>({...$,onlineStatus:S.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Всі"}),a.jsx("option",{value:"online",children:"Онлайн"}),a.jsx("option",{value:"offline",children:"Офлайн"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Статус дружби"}),a.jsxs("select",{value:_.friendStatus,onChange:S=>p($=>({...$,friendStatus:S.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Всі"}),a.jsx("option",{value:"friends",children:"Друзі"}),a.jsx("option",{value:"not_friends",children:"Не друзі"}),a.jsx("option",{value:"pending",children:"Очікуючі запити"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Сортувати за"}),a.jsxs("select",{value:_.sortBy,onChange:S=>p($=>({...$,sortBy:S.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"date",children:"Датою реєстрації"}),a.jsx("option",{value:"name",children:"Ім'ям"}),a.jsx("option",{value:"city",children:"Містом"}),a.jsx("option",{value:"lastSeen",children:"Останньою активністю"}),a.jsx("option",{value:"popularity",children:"Популярністю"})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:_.hasAvatar,onChange:S=>p($=>({...$,hasAvatar:S.target.checked})),className:"rounded border-gray-300 text-blue-600 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Тільки з фото"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:_.hasBio,onChange:S=>p($=>({...$,hasBio:S.target.checked})),className:"rounded border-gray-300 text-blue-600 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Тільки з біографією"})]}),a.jsxs("button",{onClick:()=>p(S=>({...S,sortOrder:S.sortOrder==="asc"?"desc":"asc"})),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(ew,{size:16,className:"mr-1"}),_.sortOrder==="asc"?"За зростанням":"За спаданням"]})]}),a.jsx("button",{onClick:K,className:"text-sm text-blue-600 hover:text-blue-800",children:"Скинути фільтри"})]})]})]}),a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[l?`Знайдено ${r.length} користувачів з ${e.length}`:`Всього ${r.length} користувачів`,l&&a.jsxs("span",{children:[' за запитом "',a.jsx("span",{className:"font-semibold",children:l}),'"']})]}),k.size>0&&a.jsx("button",{onClick:()=>{k.size===r.length?pe():(E(new Set(r.map(S=>S.id))),j(!0))},className:"text-sm text-blue-600 hover:text-blue-800",children:k.size===r.length?"Скасувати вибір":"Обрати всіх"})]}),r.length>0?a.jsx("div",{className:b==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:r.map(Ue)}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(nn,{size:32,className:"text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Користувачів не знайдено"}),a.jsx("p",{className:"text-gray-600 mb-4",children:l||ce()>0?"Спробуйте змінити критерії пошуку або фільтри":"Поки що немає зареєстрованих користувачів"}),(l||ce()>0)&&a.jsx("button",{onClick:K,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Скинути всі фільтри"})]})]})})]})}function Xc(){const[e,t]=y.useState([]),[r,n]=y.useState([]),[s,i]=y.useState(""),[l,o]=y.useState(!0),[c,d]=y.useState(null),[u,f]=y.useState(!1),[h,v]=y.useState({city:"",sortBy:"date",sortOrder:"desc",showOnlyAvailable:!1}),[b,w]=y.useState([]),_=Mt();y.useEffect(()=>{p()},[]),y.useEffect(()=>{m()},[s,e,h]);const p=async()=>{try{const{data:{user:j},error:N}=await M.auth.getUser();if(N||!j){_("/login");return}d(j.id);const{data:L,error:T}=await M.from("users").select("*").order("date",{ascending:!1});if(T)throw T;let P=(L==null?void 0:L.filter(G=>G.auth_user_id!==j.id))||[];P=P.filter(G=>G&&G.id&&G.name&&G.lastName&&G.email);const U=P.filter(G=>!G.privacy||G.privacy.profileVisibility==="public");t(U);const W=[...new Set(U.filter(G=>G.city).map(G=>G.city))].sort();w(W)}catch(j){console.error("Error fetching users:",j),t([]),n([])}finally{o(!1)}},m=()=>{let j=[...e];s.trim()!==""&&(j=j.filter(N=>N.name.toLowerCase().includes(s.toLowerCase())||N.lastName.toLowerCase().includes(s.toLowerCase())||N.email.toLowerCase().includes(s.toLowerCase())||N.city&&N.city.toLowerCase().includes(s.toLowerCase())||N.bio&&N.bio.toLowerCase().includes(s.toLowerCase()))),h.city&&(j=j.filter(N=>N.city===h.city)),j.sort((N,L)=>{let T=0;switch(h.sortBy){case"name":T=`${N.name} ${N.lastName}`.localeCompare(`${L.name} ${L.lastName}`);break;case"date":T=new Date(N.date).getTime()-new Date(L.date).getTime();break;case"city":T=(N.city||"").localeCompare(L.city||"");break}return h.sortOrder==="asc"?T:-T}),n(j)},g=async j=>{try{if(!c)return;const{data:N}=await M.from("friends").select("*").or(`and(user_id.eq.${c},friend_id.eq.${j}),and(user_id.eq.${j},friend_id.eq.${c})`);if(N&&N.length>0){alert("Запит на дружбу вже існує!");return}const{error:L}=await M.from("friends").insert([{user_id:c,friend_id:j,status:"pending"}]);if(L)throw L;alert("Запит на дружбу надіслано!")}catch(N){console.error("Error adding friend:",N),alert("Помилка при додаванні в друзі")}},k=()=>{v({city:"",sortBy:"date",sortOrder:"desc",showOnlyAvailable:!1}),i("")},E=j=>new Date(j).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric"}),z=()=>{let j=0;return h.city&&j++,(h.sortBy!=="date"||h.sortOrder!=="desc")&&j++,h.showOnlyAvailable&&j++,j};return l?a.jsxs("div",{className:"flex min-h-screen",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Завантаження користувачів..."})]})})]}):a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Користувачі"}),a.jsx("p",{className:"text-gray-600",children:"Знайдіть нових друзів та розширте свою мережу"})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Пошук за ім'ям, прізвищем, email, містом або біо",value:s,onChange:j=>i(j.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s&&a.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.jsx(ir,{size:18})})]}),a.jsxs("button",{onClick:()=>f(!u),className:`flex items-center px-4 py-3 border rounded-lg transition-colors relative ${u?"bg-blue-50 border-blue-300 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(Wm,{size:20,className:"mr-2"}),"Фільтри",z()>0&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:z()}),a.jsx(Mm,{size:16,className:`ml-2 transition-transform ${u?"rotate-180":""}`})]})]}),u&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Місто"}),a.jsxs("select",{value:h.city,onChange:j=>v(N=>({...N,city:j.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Всі міста"}),b.map(j=>a.jsx("option",{value:j,children:j},j))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Сортувати за"}),a.jsxs("select",{value:h.sortBy,onChange:j=>v(N=>({...N,sortBy:j.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"date",children:"Датою реєстрації"}),a.jsx("option",{value:"name",children:"Ім'ям"}),a.jsx("option",{value:"city",children:"Містом"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Порядок"}),a.jsxs("select",{value:h.sortOrder,onChange:j=>v(N=>({...N,sortOrder:j.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"desc",children:"За спаданням"}),a.jsx("option",{value:"asc",children:"За зростанням"})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"showOnlyAvailable",checked:h.showOnlyAvailable,onChange:j=>v(N=>({...N,showOnlyAvailable:j.target.checked})),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200"}),a.jsx("label",{htmlFor:"showOnlyAvailable",className:"ml-2 text-sm text-gray-700",children:"Показувати тільки доступних користувачів"})]}),a.jsx("button",{onClick:k,className:"text-sm text-blue-600 hover:text-blue-800",children:"Скинути фільтри"})]})]})]}),a.jsx("div",{className:"mb-4 flex items-center justify-between",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Знайдено ",a.jsx("span",{className:"font-semibold",children:r.length})," ",r.length===1?"користувач":"користувачів",s&&a.jsxs("span",{children:[' за запитом "',a.jsx("span",{className:"font-semibold",children:s}),'"']})]})}),r.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(j=>{var N,L;return a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-200 cursor-pointer group hover:scale-105",onClick:()=>_(`/profile/${j.id}`),children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl font-bold overflow-hidden flex-shrink-0",children:j.avatar?a.jsx("img",{src:j.avatar,alt:j.name,className:"w-full h-full rounded-full object-cover"}):a.jsxs("span",{children:[(N=j.name[0])==null?void 0:N.toUpperCase(),(L=j.lastName[0])==null?void 0:L.toUpperCase()]})}),a.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:[j.name," ",j.lastName]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[a.jsx(Ys,{size:14,className:"mr-1 flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:["Приєднався ",E(j.date)]})]})]})]}),j.bio&&a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:j.bio}),a.jsxs("div",{className:"space-y-2 mb-4",children:[j.city&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(ja,{size:14,className:"mr-2 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:j.city})]}),(!j.privacy||j.privacy.showEmail)&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(qc,{size:14,className:"mr-2 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:j.email})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:T=>{T.stopPropagation(),g(j.auth_user_id)},className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[a.jsx(Zs,{size:16,className:"mr-1"}),"Додати"]}),a.jsx("button",{onClick:T=>{T.stopPropagation(),_(`/messages?user=${j.id}`)},className:"flex items-center justify-center px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",title:"Написати повідомлення",children:a.jsx(rn,{size:16})})]})]})},j.id)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Xc,{size:32,className:"text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Користувачів не знайдено"}),a.jsx("p",{className:"text-gray-600 mb-4",children:s||h.city?"Спробуйте змінити критерії пошуку або фільтри":"Поки що немає зареєстрованих користувачів"}),(s||h.city||z()>0)&&a.jsx("button",{onClick:k,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Скинути всі фільтри"})]})]})})]})}class tr{static async getAllGames(t,r){try{let n=M.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).order("created_at",{ascending:!1});t&&t!=="other"&&(n=n.eq("category",t)),r&&r.length>=2&&(n=n.ilike("title",`%${r}%`));const{data:s,error:i}=await n;if(i)throw i;return s||[]}catch(n){return console.error("Error fetching games:",n),[]}}static async getGameById(t){try{const{data:r,error:n}=await M.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("id",t).eq("is_active",!0).single();if(n)throw n;return r}catch(r){return console.error("Error fetching game:",r),null}}static async createGame(t){try{const r=await At.getCurrentUserProfile();if(!r)return null;const{data:n,error:s}=await M.from("games").insert([{...t,developer_id:r.id.toString()}]).select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).single();if(s)throw s;return n}catch(r){return console.error("Error creating game:",r),null}}static async updateGame(t,r){try{const{error:n}=await M.from("games").update({...r,updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n;return!0}catch(n){return console.error("Error updating game:",n),!1}}static async deleteGame(t){try{const{error:r}=await M.from("games").delete().eq("id",t);if(r)throw r;return!0}catch(r){return console.error("Error deleting game:",r),!1}}static async getGamesByDeveloper(){try{const t=await At.getCurrentUserProfile();if(!t)return[];const{data:r,error:n}=await M.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("developer_id",t.id.toString()).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(t){return console.error("Error fetching developer games:",t),[]}}static async recordGamePlay(t,r=0){try{const n=await At.getCurrentUserProfile();if(!n)return!1;const{error:s}=await M.from("game_plays").insert([{game_id:t,user_id:n.id.toString(),duration:r}]);if(s)throw s;return!0}catch(n){return console.error("Error recording game play:",n),!1}}static async rateGame(t,r,n=""){try{const s=await At.getCurrentUserProfile();if(!s)return!1;const{error:i}=await M.from("game_ratings").upsert([{game_id:t,user_id:s.id.toString(),rating:r,review:n}]);if(i)throw i;return!0}catch(s){return console.error("Error rating game:",s),!1}}static async getGameRatings(t){try{const{data:r,error:n}=await M.from("game_ratings").select(`
          *,
          user:users!game_ratings_user_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("game_id",t).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){return console.error("Error fetching game ratings:",r),[]}}static async getUserGameRating(t){try{const r=await At.getCurrentUserProfile();if(!r)return null;const{data:n,error:s}=await M.from("game_ratings").select("*").eq("game_id",t).eq("user_id",r.id.toString()).single();if(s){if(s.code==="PGRST116")return null;throw s}return n}catch(r){return console.error("Error fetching user game rating:",r),null}}static async getPopularGames(t=10){try{const{data:r,error:n}=await M.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).order("play_count",{ascending:!1}).limit(t);if(n)throw n;return r||[]}catch(r){return console.error("Error fetching popular games:",r),[]}}static async getTopRatedGames(t=10){try{const{data:r,error:n}=await M.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).gt("rating",0).order("rating",{ascending:!1}).limit(t);if(n)throw n;return r||[]}catch(r){return console.error("Error fetching top rated games:",r),[]}}}function s1({game:e,onPlay:t}){var s,i,l,o,c,d;const r=u=>({action:"Екшн",puzzle:"Головоломки",strategy:"Стратегія",arcade:"Аркада",adventure:"Пригоди",simulation:"Симулятори",sports:"Спорт",racing:"Гонки",other:"Інше"})[u]||u,n=u=>u>=1e3?`${(u/1e3).toFixed(1)}k`:u.toString();return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[a.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-500 to-purple-600 overflow-hidden",children:[e.thumbnail?a.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx($l,{className:"text-white opacity-50",size:48})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsxs("button",{onClick:t,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx($l,{size:20,className:"mr-2"}),"Грати"]})}),a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:"px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded-full",children:r(e.category)})}),e.rating>0&&a.jsx("div",{className:"absolute top-3 right-3",children:a.jsxs("div",{className:"flex items-center px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded-full",children:[a.jsx(Bo,{size:12,className:"mr-1 fill-current text-yellow-400"}),e.rating.toFixed(1)]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:e.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description||"Немає опису"}),a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-2",children:(s=e.developer)!=null&&s.avatar?a.jsx("img",{src:e.developer.avatar,alt:e.developer.name,className:"w-full h-full rounded-full object-cover"}):a.jsx("span",{className:"text-xs text-gray-600",children:(o=(l=(i=e.developer)==null?void 0:i.name)==null?void 0:l[0])==null?void 0:o.toUpperCase()})}),a.jsxs("span",{className:"text-sm text-gray-600",children:[(c=e.developer)==null?void 0:c.name," ",(d=e.developer)==null?void 0:d.lastName]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(aw,{size:16,className:"mr-1"}),a.jsxs("span",{children:[n(e.play_count)," грали"]})]}),a.jsx("span",{children:new Date(e.created_at).toLocaleDateString("uk-UA")})]}),a.jsxs("button",{onClick:t,className:"w-full mt-4 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx($l,{size:18,className:"mr-2"}),"Грати зараз"]})]})]})}const i1=[{value:"action",label:"Екшн"},{value:"puzzle",label:"Головоломки"},{value:"strategy",label:"Стратегія"},{value:"arcade",label:"Аркада"},{value:"adventure",label:"Пригоди"},{value:"simulation",label:"Симулятори"},{value:"sports",label:"Спорт"},{value:"racing",label:"Гонки"},{value:"other",label:"Інше"}];function a1({onClose:e,onSubmit:t}){const[r,n]=y.useState(""),[s,i]=y.useState(""),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState("other"),[h,v]=y.useState(!1),b=async w=>{if(w.preventDefault(),!(!r.trim()||!c.trim())){v(!0);try{await t({title:r.trim(),description:s.trim(),thumbnail:l.trim()||void 0,game_url:c.trim(),category:u})}finally{v(!1)}}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Додати нову гру"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:a.jsx(ir,{size:24})})]}),a.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Назва гри *"}),a.jsx("input",{type:"text",value:r,onChange:w=>n(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введіть назву гри",required:!0,maxLength:100})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Опис гри"}),a.jsx("textarea",{value:s,onChange:w=>i(w.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Розкажіть про вашу гру...",maxLength:500})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Категорія *"}),a.jsx("select",{value:u,onChange:w=>f(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:i1.map(w=>a.jsx("option",{value:w.value,children:w.label},w.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL гри *"}),a.jsxs("div",{className:"relative",children:[a.jsx(dw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"url",value:c,onChange:w=>d(w.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/game.html",required:!0})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Посилання на HTML файл гри або веб-сторінку з грою"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Зображення гри (URL)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"url",value:l,onChange:w=>o(w.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/thumbnail.jpg"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Посилання на зображення-превью гри (необов'язково)"})]}),l&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Превью:"}),a.jsx("img",{src:l,alt:"Game thumbnail preview",className:"w-full h-32 object-cover rounded-lg",onError:w=>{w.currentTarget.style.display="none"}})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Скасувати"}),a.jsx("button",{type:"submit",disabled:h||!r.trim()||!c.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Додавання...":"Додати гру"})]})]})]})})}function l1({game:e,onClose:t}){var N,L;const[r,n]=y.useState(!1),[s,i]=y.useState(null),[l,o]=y.useState([]),[c,d]=y.useState(0),[u,f]=y.useState(""),[h,v]=y.useState(!1),[b]=y.useState(Date.now()),[w,_]=y.useState(!1);y.useEffect(()=>{p(),m(),g()},[e.id]);const p=async()=>{const T=await tr.getGameRatings(e.id);o(T)},m=async()=>{const T=await tr.getUserGameRating(e.id);i(T),T&&(d(T.rating),f(T.review))},g=async()=>{await tr.recordGamePlay(e.id)},k=async T=>{if(T.preventDefault(),c===0)return;_(!0),await tr.rateGame(e.id,c,u)&&(await p(),await m(),v(!1)),_(!1)},E=async()=>{const T=Math.floor((Date.now()-b)/1e3);T>10&&await tr.recordGamePlay(e.id,T),t()},z=()=>{n(!r)},j=(T,P=!1,U)=>a.jsx("div",{className:"flex",children:[1,2,3,4,5].map(W=>a.jsx("button",{type:P?"button":void 0,onClick:P&&U?()=>U(W):void 0,className:`${P?"cursor-pointer hover:scale-110":"cursor-default"} transition-transform`,disabled:!P,children:a.jsx(Bo,{size:20,className:`${W<=T?"text-yellow-400 fill-current":"text-gray-300"}`})},W))});return a.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 ${r?"p-0":"p-4"}`,children:a.jsxs("div",{className:`bg-white rounded-lg shadow-xl ${r?"w-full h-full rounded-none":"w-full max-w-6xl h-[90vh]"} flex flex-col`,children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mr-4",children:e.title}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Bo,{size:16,className:"mr-1 text-yellow-400 fill-current"}),a.jsxs("span",{children:[e.rating.toFixed(1)," (",l.length," відгуків)"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:z,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",title:r?"Вийти з повноекранного режиму":"Повноекранний режим",children:a.jsx(mw,{size:20})}),a.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",title:"Перезапустити гру",children:a.jsx(Vm,{size:20})}),a.jsx("button",{onClick:E,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:a.jsx(ir,{size:20})})]})]}),a.jsxs("div",{className:"flex-1 flex",children:[a.jsx("div",{className:"flex-1 bg-gray-100",children:a.jsx("iframe",{src:e.game_url,className:"w-full h-full border-0",title:e.title,allowFullScreen:!0,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-pointer-lock"})}),!r&&a.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 overflow-y-auto",children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Про гру"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description||"Немає опису"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Розробник:"}),a.jsxs("span",{className:"text-gray-900",children:[(N=e.developer)==null?void 0:N.name," ",(L=e.developer)==null?void 0:L.lastName]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Категорія:"}),a.jsx("span",{className:"text-gray-900",children:e.category})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Зіграно:"}),a.jsxs("span",{className:"text-gray-900",children:[e.play_count," разів"]})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Оцінка"}),!s&&a.jsx("button",{onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:"Оцінити"})]}),h&&a.jsxs("form",{onSubmit:k,className:"mb-4 p-3 bg-white rounded-lg border",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ваша оцінка:"}),j(c,!0,d)]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Відгук (необов'язково):"}),a.jsx("textarea",{value:u,onChange:T=>f(T.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Поділіться враженнями від гри..."})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"Скасувати"}),a.jsx("button",{type:"submit",disabled:w||c===0,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 disabled:opacity-50",children:w?"Збереження...":"Зберегти"})]})]}),s&&a.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Ваша оцінка:"}),a.jsx("button",{onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:"Змінити"})]}),j(s.rating),s.review&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s.review})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[a.jsx(pw,{size:18,className:"mr-2"}),"Відгуки (",l.length,")"]}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:l.length>0?l.map(T=>{var P,U,W,G,ue,le;return a.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-2",children:(P=T.user)!=null&&P.avatar?a.jsx("img",{src:T.user.avatar,alt:T.user.name,className:"w-full h-full rounded-full object-cover"}):a.jsx("span",{className:"text-xs text-gray-600",children:(G=(W=(U=T.user)==null?void 0:U.name)==null?void 0:W[0])==null?void 0:G.toUpperCase()})}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[(ue=T.user)==null?void 0:ue.name," ",(le=T.user)==null?void 0:le.lastName]})]}),j(T.rating)]}),T.review&&a.jsx("p",{className:"text-sm text-gray-600",children:T.review}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(T.created_at).toLocaleDateString("uk-UA")})]},T.id)}):a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Поки немає відгуків"})})]})]})})]})]})})}const o1=[{value:"action",label:"Екшн"},{value:"puzzle",label:"Головоломки"},{value:"strategy",label:"Стратегія"},{value:"arcade",label:"Аркада"},{value:"adventure",label:"Пригоди"},{value:"simulation",label:"Симулятори"},{value:"sports",label:"Спорт"},{value:"racing",label:"Гонки"},{value:"other",label:"Інше"}];function c1(){const[e,t]=y.useState([]),[r,n]=y.useState([]),[s,i]=y.useState([]),[l,o]=y.useState(!0),[c,d]=y.useState(""),[u,f]=y.useState(""),[h,v]=y.useState(!1),[b,w]=y.useState(null),[_,p]=y.useState("all");Mt(),y.useEffect(()=>{m(),g(),k()},[]),y.useEffect(()=>{const N=setTimeout(()=>{m()},300);return()=>clearTimeout(N)},[c,u]);const m=async()=>{try{o(!0);const N=await tr.getAllGames(u,c);t(N)}catch(N){console.error("Error loading games:",N)}finally{o(!1)}},g=async()=>{try{const N=await tr.getPopularGames(6);n(N)}catch(N){console.error("Error loading popular games:",N)}},k=async()=>{try{const N=await tr.getTopRatedGames(6);i(N)}catch(N){console.error("Error loading top rated games:",N)}},E=async N=>{const L=await tr.createGame(N);L&&(t(T=>[L,...T]),v(!1))},z=N=>{w(N)},j=()=>{switch(_){case"popular":return r;case"top-rated":return s;default:return e}};return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Me,{}),a.jsx("div",{className:"flex-1 ml-64 p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Td,{className:"h-8 w-8 text-blue-600 mr-3"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ігри"})]}),a.jsxs("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Mo,{size:20,className:"mr-2"}),"Додати гру"]})]}),a.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg w-fit",children:[a.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="all"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Всі ігри"}),a.jsxs("button",{onClick:()=>p("popular"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="popular"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(xw,{size:16,className:"mr-1"}),"Популярні"]}),a.jsxs("button",{onClick:()=>p("top-rated"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="top-rated"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(tw,{size:16,className:"mr-1"}),"Найкращі"]})]}),_==="all"&&a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Пошук ігор...",value:c,onChange:N=>d(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(lw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsxs("select",{value:u,onChange:N=>f(N.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[a.jsx("option",{value:"",children:"Всі категорії"}),o1.map(N=>a.jsx("option",{value:N.value,children:N.label},N.value))]})]})]}),l?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Завантаження ігор..."})]}):j().length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:j().map(N=>a.jsx(s1,{game:N,onPlay:()=>z(N)},N.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Td,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:c||u?"Ігри не знайдено":"Немає ігор"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c||u?"Спробуйте змінити пошуковий запит або фільтр":"Додайте першу гру для спільноти"}),!c&&!u&&a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(Mo,{className:"-ml-1 mr-2 h-5 w-5"}),"Додати гру"]})})]})]})}),h&&a.jsx(a1,{onClose:()=>v(!1),onSubmit:E}),b&&a.jsx(l1,{game:b,onClose:()=>w(null)})]})}function u1(){return y.useEffect(()=>{(async()=>{var r,n,s,i,l,o,c;const{data:{session:t}}=await M.auth.getSession();if(t!=null&&t.user){const{data:d}=await M.from("users").select("id").eq("email",t.user.email).single();d||await M.from("users").insert([{name:((r=t.user.user_metadata)==null?void 0:r.name)||((s=(n=t.user.user_metadata)==null?void 0:n.full_name)==null?void 0:s.split(" ")[0])||((i=t.user.email)==null?void 0:i.split("@")[0])||"User",lastName:((l=t.user.user_metadata)==null?void 0:l.lastName)||((c=(o=t.user.user_metadata)==null?void 0:o.full_name)==null?void 0:c.split(" ").slice(1).join(" "))||"",email:t.user.email,date:new Date().toISOString(),notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1}}])}})()},[]),null}function d1(){return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Xc,{className:"h-8 w-8 text-blue-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Соціальна мережа"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx(Js,{to:"/login",className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Вхід"}),a.jsx(Js,{to:"/register",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200",children:"Реєстрація"})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Ласкаво просимо до нашої спільноти"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Приєднуйтесь до нашої соціальної мережі, щоб спілкуватися з друзями, ділитися моментами та знаходити нові знайомства."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Спілкування"}),a.jsx("p",{className:"text-gray-600",children:"Спілкуйтеся з друзями та знаходьте нові знайомства"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Контент"}),a.jsx("p",{className:"text-gray-600",children:"Діліться фото, відео та іншими матеріалами"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Приватність"}),a.jsx("p",{className:"text-gray-600",children:"Повний контроль над вашими даними та приватністю"})]})]})]})})]})}function f1(){return a.jsxs(a.Fragment,{children:[a.jsx(u1,{}),a.jsxs(wy,{children:[a.jsx(mt,{path:"/",element:a.jsx(d1,{})}),a.jsx(mt,{path:"/login",element:a.jsx(kw,{})}),a.jsx(mt,{path:"/register",element:a.jsx(Nw,{})}),a.jsx(mt,{path:"/profile",element:a.jsx(Jw,{})}),a.jsx(mt,{path:"/messages",element:a.jsx(Yw,{})}),a.jsx(mt,{path:"/friends",element:a.jsx(Zw,{})}),a.jsx(mt,{path:"/people",element:a.jsx(n1,{})}),a.jsx(mt,{path:"/users",element:a.jsx(Xc,{})}),a.jsx(mt,{path:"/settings",element:a.jsx(e1,{})}),a.jsx(mt,{path:"/groups",element:a.jsx(t1,{})}),a.jsx(mt,{path:"/groups/:groupId",element:a.jsx(r1,{})}),a.jsx(mt,{path:"/games",element:a.jsx(c1,{})})]})]})}sm(document.getElementById("root")).render(a.jsx(y.StrictMode,{children:a.jsx(Ey,{basename:"/Nexus",children:a.jsx(f1,{})})}));export{np as g};
