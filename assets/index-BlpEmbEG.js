function Qm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var zd={exports:{}},ga={},Fd={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=Symbol.for("react.element"),Ym=Symbol.for("react.portal"),ep=Symbol.for("react.fragment"),tp=Symbol.for("react.strict_mode"),rp=Symbol.for("react.profiler"),np=Symbol.for("react.provider"),sp=Symbol.for("react.context"),ip=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),lp=Symbol.for("react.memo"),op=Symbol.for("react.lazy"),Gu=Symbol.iterator;function up(e){return e===null||typeof e!="object"?null:(e=Gu&&e[Gu]||e["@@iterator"],typeof e=="function"?e:null)}var Md={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vd=Object.assign,Bd={};function Dn(e,t,r){this.props=e,this.context=t,this.refs=Bd,this.updater=r||Md}Dn.prototype.isReactComponent={};Dn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hd(){}Hd.prototype=Dn.prototype;function Io(e,t,r){this.props=e,this.context=t,this.refs=Bd,this.updater=r||Md}var Do=Io.prototype=new Hd;Do.constructor=Io;Vd(Do,Dn.prototype);Do.isPureReactComponent=!0;var Ku=Array.isArray,qd=Object.prototype.hasOwnProperty,zo={current:null},Wd={key:!0,ref:!0,__self:!0,__source:!0};function Gd(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)qd.call(t,n)&&!Wd.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Bs,type:e,key:i,ref:a,props:s,_owner:zo.current}}function cp(e,t){return{$$typeof:Bs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bs}function dp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ju=/\/+/g;function Ga(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dp(""+e.key):t.toString(36)}function ki(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Bs:case Ym:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ga(a,0):n,Ku(s)?(r="",e!=null&&(r=e.replace(Ju,"$&/")+"/"),ki(s,t,r,"",function(c){return c})):s!=null&&(Fo(s)&&(s=cp(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ju,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Ku(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+Ga(i,o);a+=ki(i,t,r,u,s)}else if(u=up(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+Ga(i,o++),a+=ki(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ni(e,t,r){if(e==null)return e;var n=[],s=0;return ki(e,n,"","",function(i){return t.call(r,i,s++)}),n}function fp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qe={current:null},Ni={transition:null},hp={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:Ni,ReactCurrentOwner:zo};function Kd(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:ni,forEach:function(e,t,r){ni(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ni(e,function(){t++}),t},toArray:function(e){return ni(e,function(t){return t})||[]},only:function(e){if(!Fo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Dn;Z.Fragment=ep;Z.Profiler=rp;Z.PureComponent=Io;Z.StrictMode=tp;Z.Suspense=ap;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hp;Z.act=Kd;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Vd({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=zo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)qd.call(t,u)&&!Wd.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Bs,type:e.type,key:s,ref:i,props:n,_owner:a}};Z.createContext=function(e){return e={$$typeof:sp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:np,_context:e},e.Consumer=e};Z.createElement=Gd;Z.createFactory=function(e){var t=Gd.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:ip,render:e}};Z.isValidElement=Fo;Z.lazy=function(e){return{$$typeof:op,_payload:{_status:-1,_result:e},_init:fp}};Z.memo=function(e,t){return{$$typeof:lp,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Ni.transition;Ni.transition={};try{e()}finally{Ni.transition=t}};Z.unstable_act=Kd;Z.useCallback=function(e,t){return qe.current.useCallback(e,t)};Z.useContext=function(e){return qe.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return qe.current.useDeferredValue(e)};Z.useEffect=function(e,t){return qe.current.useEffect(e,t)};Z.useId=function(){return qe.current.useId()};Z.useImperativeHandle=function(e,t,r){return qe.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return qe.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return qe.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return qe.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return qe.current.useReducer(e,t,r)};Z.useRef=function(e){return qe.current.useRef(e)};Z.useState=function(e){return qe.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return qe.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return qe.current.useTransition()};Z.version="18.3.1";Fd.exports=Z;var _=Fd.exports;const dt=Xm(_),mp=Qm({__proto__:null,default:dt},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=_,gp=Symbol.for("react.element"),yp=Symbol.for("react.fragment"),vp=Object.prototype.hasOwnProperty,xp=pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wp={key:!0,ref:!0,__self:!0,__source:!0};function Jd(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)vp.call(t,n)&&!wp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:gp,type:e,key:i,ref:a,props:s,_owner:xp.current}}ga.Fragment=yp;ga.jsx=Jd;ga.jsxs=Jd;zd.exports=ga;var l=zd.exports,Qd={exports:{}},ut={},Xd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,H){var W=$.length;$.push(H);e:for(;0<W;){var te=W-1>>>1,R=$[te];if(0<s(R,H))$[te]=H,$[W]=R,W=te;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var H=$[0],W=$.pop();if(W!==H){$[0]=W;e:for(var te=0,R=$.length,J=R>>>1;te<J;){var ve=2*(te+1)-1,ue=$[ve],Ee=ve+1,Te=$[Ee];if(0>s(ue,W))Ee<R&&0>s(Te,ue)?($[te]=Te,$[Ee]=W,te=Ee):($[te]=ue,$[ve]=W,te=ve);else if(Ee<R&&0>s(Te,W))$[te]=Te,$[Ee]=W,te=Ee;else break e}}return H}function s($,H){var W=$.sortIndex-H.sortIndex;return W!==0?W:$.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,f=null,h=3,v=!1,w=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g($){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=$)n(c),H.sortIndex=H.expirationTime,t(u,H);else break;H=r(c)}}function j($){if(x=!1,g($),!w)if(r(u)!==null)w=!0,ne(S);else{var H=r(c);H!==null&&Se(j,H.startTime-$)}}function S($,H){w=!1,x&&(x=!1,p(P),P=-1),v=!0;var W=h;try{for(g(H),f=r(u);f!==null&&(!(f.expirationTime>H)||$&&!T());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var R=te(f.expirationTime<=H);H=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(u)&&n(u),g(H)}else n(u);f=r(u)}if(f!==null)var J=!0;else{var ve=r(c);ve!==null&&Se(j,ve.startTime-H),J=!1}return J}finally{f=null,h=W,v=!1}}var I=!1,C=null,P=-1,B=5,A=-1;function T(){return!(e.unstable_now()-A<B)}function D(){if(C!==null){var $=e.unstable_now();A=$;var H=!0;try{H=C(!0,$)}finally{H?q():(I=!1,C=null)}}else I=!1}var q;if(typeof m=="function")q=function(){m(D)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ae=K.port2;K.port1.onmessage=D,q=function(){ae.postMessage(null)}}else q=function(){N(D,0)};function ne($){C=$,I||(I=!0,q())}function Se($,H){P=N(function(){$(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,ne(S))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var W=h;h=H;try{return $()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=h;h=$;try{return H()}finally{h=W}},e.unstable_scheduleCallback=function($,H,W){var te=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,$){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=W+R,$={id:d++,callback:H,priorityLevel:$,startTime:W,expirationTime:R,sortIndex:-1},W>te?($.sortIndex=W,t(c,$),r(u)===null&&$===r(c)&&(x?(p(P),P=-1):x=!0,Se(j,W-te))):($.sortIndex=R,t(u,$),w||v||(w=!0,ne(S))),$},e.unstable_shouldYield=T,e.unstable_wrapCallback=function($){var H=h;return function(){var W=h;h=H;try{return $.apply(this,arguments)}finally{h=W}}}})(Zd);Xd.exports=Zd;var _p=Xd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=_,ot=_p;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yd=new Set,bs={};function Kr(e,t){Sn(e,t),Sn(e+"Capture",t)}function Sn(e,t){for(bs[e]=t,e=0;e<t.length;e++)Yd.add(t[e])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=Object.prototype.hasOwnProperty,jp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qu={},Xu={};function kp(e){return Cl.call(Xu,e)?!0:Cl.call(Qu,e)?!1:jp.test(e)?Xu[e]=!0:(Qu[e]=!0,!1)}function Np(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sp(e,t,r,n){if(t===null||typeof t>"u"||Np(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mo=/[\-:]([a-z])/g;function Vo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mo,Vo);Ie[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mo,Vo);Ie[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mo,Vo);Ie[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bo(e,t,r,n){var s=Ie.hasOwnProperty(t)?Ie[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sp(t,r,s,n)&&(r=null),n||s===null?kp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Yt=bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,si=Symbol.for("react.element"),ln=Symbol.for("react.portal"),on=Symbol.for("react.fragment"),Ho=Symbol.for("react.strict_mode"),Pl=Symbol.for("react.profiler"),ef=Symbol.for("react.provider"),tf=Symbol.for("react.context"),qo=Symbol.for("react.forward_ref"),Tl=Symbol.for("react.suspense"),Rl=Symbol.for("react.suspense_list"),Wo=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),rf=Symbol.for("react.offscreen"),Zu=Symbol.iterator;function Wn(e){return e===null||typeof e!="object"?null:(e=Zu&&e[Zu]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Ka;function ns(e){if(Ka===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ka=t&&t[1]||""}return`
`+Ka+e}var Ja=!1;function Qa(e,t){if(!e||Ja)return"";Ja=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{Ja=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ns(e):""}function Ep(e){switch(e.tag){case 5:return ns(e.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return e=Qa(e.type,!1),e;case 11:return e=Qa(e.type.render,!1),e;case 1:return e=Qa(e.type,!0),e;default:return""}}function Ol(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case on:return"Fragment";case ln:return"Portal";case Pl:return"Profiler";case Ho:return"StrictMode";case Tl:return"Suspense";case Rl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tf:return(e.displayName||"Context")+".Consumer";case ef:return(e._context.displayName||"Context")+".Provider";case qo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wo:return t=e.displayName||null,t!==null?t:Ol(e.type)||"Memo";case sr:t=e._payload,e=e._init;try{return Ol(e(t))}catch{}}return null}function Cp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ol(t);case 8:return t===Ho?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pp(e){var t=nf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ii(e){e._valueTracker||(e._valueTracker=Pp(e))}function sf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=nf(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ll(e,t){var r=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Yu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function af(e,t){t=t.checked,t!=null&&Bo(e,"checked",t,!1)}function Al(e,t){af(e,t);var r=jr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$l(e,t.type,r):t.hasOwnProperty("defaultValue")&&$l(e,t.type,jr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ec(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $l(e,t,r){(t!=="number"||Ii(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ss=Array.isArray;function xn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ul(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(ss(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jr(r)}}function lf(e,t){var r=jr(t.value),n=jr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function rc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function of(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?of(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ai,uf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ai.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function js(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tp=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(e){Tp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),os[t]=os[e]})});function cf(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||os.hasOwnProperty(e)&&os[e]?(""+t).trim():t+"px"}function df(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=cf(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Rp=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dl(e,t){if(t){if(Rp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function zl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function Go(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ml=null,wn=null,_n=null;function nc(e){if(e=Ws(e)){if(typeof Ml!="function")throw Error(L(280));var t=e.stateNode;t&&(t=_a(t),Ml(e.stateNode,e.type,t))}}function ff(e){wn?_n?_n.push(e):_n=[e]:wn=e}function hf(){if(wn){var e=wn,t=_n;if(_n=wn=null,nc(e),t)for(e=0;e<t.length;e++)nc(t[e])}}function mf(e,t){return e(t)}function pf(){}var Xa=!1;function gf(e,t,r){if(Xa)return e(t,r);Xa=!0;try{return mf(e,t,r)}finally{Xa=!1,(wn!==null||_n!==null)&&(pf(),hf())}}function ks(e,t){var r=e.stateNode;if(r===null)return null;var n=_a(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Vl=!1;if(Jt)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{Vl=!1}function Op(e,t,r,n,s,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var us=!1,Di=null,zi=!1,Bl=null,Lp={onError:function(e){us=!0,Di=e}};function Ap(e,t,r,n,s,i,a,o,u){us=!1,Di=null,Op.apply(Lp,arguments)}function $p(e,t,r,n,s,i,a,o,u){if(Ap.apply(this,arguments),us){if(us){var c=Di;us=!1,Di=null}else throw Error(L(198));zi||(zi=!0,Bl=c)}}function Jr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sc(e){if(Jr(e)!==e)throw Error(L(188))}function Up(e){var t=e.alternate;if(!t){if(t=Jr(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return sc(s),e;if(i===n)return sc(s),t;i=i.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function vf(e){return e=Up(e),e!==null?xf(e):null}function xf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xf(e);if(t!==null)return t;e=e.sibling}return null}var wf=ot.unstable_scheduleCallback,ic=ot.unstable_cancelCallback,Ip=ot.unstable_shouldYield,Dp=ot.unstable_requestPaint,_e=ot.unstable_now,zp=ot.unstable_getCurrentPriorityLevel,Ko=ot.unstable_ImmediatePriority,_f=ot.unstable_UserBlockingPriority,Fi=ot.unstable_NormalPriority,Fp=ot.unstable_LowPriority,bf=ot.unstable_IdlePriority,ya=null,It=null;function Mp(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Hp,Vp=Math.log,Bp=Math.LN2;function Hp(e){return e>>>=0,e===0?32:31-(Vp(e)/Bp|0)|0}var li=64,oi=4194304;function is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=is(o):(i&=a,i!==0&&(n=is(i)))}else a=r&~s,a!==0?n=is(a):i!==0&&(n=is(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ct(t),s=1<<r,n|=e[r],t&=~s;return n}function qp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ct(i),o=1<<a,u=s[a];u===-1?(!(o&r)||o&n)&&(s[a]=qp(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function Hl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jf(){var e=li;return li<<=1,!(li&4194240)&&(li=64),e}function Za(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=r}function Gp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ct(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Jo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ct(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ie=0;function kf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nf,Qo,Sf,Ef,Cf,ql=!1,ui=[],mr=null,pr=null,gr=null,Ns=new Map,Ss=new Map,lr=[],Kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ac(e,t){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(t.pointerId)}}function Kn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ws(t),t!==null&&Qo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Jp(e,t,r,n,s){switch(t){case"focusin":return mr=Kn(mr,e,t,r,n,s),!0;case"dragenter":return pr=Kn(pr,e,t,r,n,s),!0;case"mouseover":return gr=Kn(gr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ns.set(i,Kn(Ns.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ss.set(i,Kn(Ss.get(i)||null,e,t,r,n,s)),!0}return!1}function Pf(e){var t=Ur(e.target);if(t!==null){var r=Jr(t);if(r!==null){if(t=r.tag,t===13){if(t=yf(r),t!==null){e.blockedOn=t,Cf(e.priority,function(){Sf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Si(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fl=n,r.target.dispatchEvent(n),Fl=null}else return t=Ws(r),t!==null&&Qo(t),e.blockedOn=r,!1;t.shift()}return!0}function lc(e,t,r){Si(e)&&r.delete(t)}function Qp(){ql=!1,mr!==null&&Si(mr)&&(mr=null),pr!==null&&Si(pr)&&(pr=null),gr!==null&&Si(gr)&&(gr=null),Ns.forEach(lc),Ss.forEach(lc)}function Jn(e,t){e.blockedOn===t&&(e.blockedOn=null,ql||(ql=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Qp)))}function Es(e){function t(s){return Jn(s,e)}if(0<ui.length){Jn(ui[0],e);for(var r=1;r<ui.length;r++){var n=ui[r];n.blockedOn===e&&(n.blockedOn=null)}}for(mr!==null&&Jn(mr,e),pr!==null&&Jn(pr,e),gr!==null&&Jn(gr,e),Ns.forEach(t),Ss.forEach(t),r=0;r<lr.length;r++)n=lr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<lr.length&&(r=lr[0],r.blockedOn===null);)Pf(r),r.blockedOn===null&&lr.shift()}var bn=Yt.ReactCurrentBatchConfig,Vi=!0;function Xp(e,t,r,n){var s=ie,i=bn.transition;bn.transition=null;try{ie=1,Xo(e,t,r,n)}finally{ie=s,bn.transition=i}}function Zp(e,t,r,n){var s=ie,i=bn.transition;bn.transition=null;try{ie=4,Xo(e,t,r,n)}finally{ie=s,bn.transition=i}}function Xo(e,t,r,n){if(Vi){var s=Wl(e,t,r,n);if(s===null)ol(e,t,n,Bi,r),ac(e,n);else if(Jp(s,e,t,r,n))n.stopPropagation();else if(ac(e,n),t&4&&-1<Kp.indexOf(e)){for(;s!==null;){var i=Ws(s);if(i!==null&&Nf(i),i=Wl(e,t,r,n),i===null&&ol(e,t,n,Bi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ol(e,t,n,null,r)}}var Bi=null;function Wl(e,t,r,n){if(Bi=null,e=Go(n),e=Ur(e),e!==null)if(t=Jr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bi=e,null}function Tf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zp()){case Ko:return 1;case _f:return 4;case Fi:case Fp:return 16;case bf:return 536870912;default:return 16}default:return 16}}var dr=null,Zo=null,Ei=null;function Rf(){if(Ei)return Ei;var e,t=Zo,r=t.length,n,s="value"in dr?dr.value:dr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ei=s.slice(e,1<n?1-n:void 0)}function Ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function oc(){return!1}function ct(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ci:oc,this.isPropagationStopped=oc,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=ct(zn),qs=ye({},zn,{view:0,detail:0}),Yp=ct(qs),Ya,el,Qn,va=ye({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(Ya=e.screenX-Qn.screenX,el=e.screenY-Qn.screenY):el=Ya=0,Qn=e),Ya)},movementY:function(e){return"movementY"in e?e.movementY:el}}),uc=ct(va),eg=ye({},va,{dataTransfer:0}),tg=ct(eg),rg=ye({},qs,{relatedTarget:0}),tl=ct(rg),ng=ye({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),sg=ct(ng),ig=ye({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ag=ct(ig),lg=ye({},zn,{data:0}),cc=ct(lg),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cg[e])?!!t[e]:!1}function eu(){return dg}var fg=ye({},qs,{key:function(e){if(e.key){var t=og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ug[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eu,charCode:function(e){return e.type==="keypress"?Ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hg=ct(fg),mg=ye({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=ct(mg),pg=ye({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eu}),gg=ct(pg),yg=ye({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),vg=ct(yg),xg=ye({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=ct(xg),_g=[9,13,27,32],tu=Jt&&"CompositionEvent"in window,cs=null;Jt&&"documentMode"in document&&(cs=document.documentMode);var bg=Jt&&"TextEvent"in window&&!cs,Of=Jt&&(!tu||cs&&8<cs&&11>=cs),fc=" ",hc=!1;function Lf(e,t){switch(e){case"keyup":return _g.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Af(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var un=!1;function jg(e,t){switch(e){case"compositionend":return Af(t);case"keypress":return t.which!==32?null:(hc=!0,fc);case"textInput":return e=t.data,e===fc&&hc?null:e;default:return null}}function kg(e,t){if(un)return e==="compositionend"||!tu&&Lf(e,t)?(e=Rf(),Ei=Zo=dr=null,un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Of&&t.locale!=="ko"?null:t.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ng[e.type]:t==="textarea"}function $f(e,t,r,n){ff(n),t=Hi(t,"onChange"),0<t.length&&(r=new Yo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ds=null,Cs=null;function Sg(e){Wf(e,0)}function xa(e){var t=fn(e);if(sf(t))return e}function Eg(e,t){if(e==="change")return t}var Uf=!1;if(Jt){var rl;if(Jt){var nl="oninput"in document;if(!nl){var pc=document.createElement("div");pc.setAttribute("oninput","return;"),nl=typeof pc.oninput=="function"}rl=nl}else rl=!1;Uf=rl&&(!document.documentMode||9<document.documentMode)}function gc(){ds&&(ds.detachEvent("onpropertychange",If),Cs=ds=null)}function If(e){if(e.propertyName==="value"&&xa(Cs)){var t=[];$f(t,Cs,e,Go(e)),gf(Sg,t)}}function Cg(e,t,r){e==="focusin"?(gc(),ds=t,Cs=r,ds.attachEvent("onpropertychange",If)):e==="focusout"&&gc()}function Pg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xa(Cs)}function Tg(e,t){if(e==="click")return xa(t)}function Rg(e,t){if(e==="input"||e==="change")return xa(t)}function Og(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Og;function Ps(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Cl.call(t,s)||!Tt(e[s],t[s]))return!1}return!0}function yc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vc(e,t){var r=yc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yc(r)}}function Df(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Df(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zf(){for(var e=window,t=Ii();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ii(e.document)}return t}function ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lg(e){var t=zf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Df(r.ownerDocument.documentElement,r)){if(n!==null&&ru(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=vc(r,i);var a=vc(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ag=Jt&&"documentMode"in document&&11>=document.documentMode,cn=null,Gl=null,fs=null,Kl=!1;function xc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kl||cn==null||cn!==Ii(n)||(n=cn,"selectionStart"in n&&ru(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fs&&Ps(fs,n)||(fs=n,n=Hi(Gl,"onSelect"),0<n.length&&(t=new Yo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=cn)))}function di(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dn={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},sl={},Ff={};Jt&&(Ff=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);function wa(e){if(sl[e])return sl[e];if(!dn[e])return e;var t=dn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ff)return sl[e]=t[r];return e}var Mf=wa("animationend"),Vf=wa("animationiteration"),Bf=wa("animationstart"),Hf=wa("transitionend"),qf=new Map,wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){qf.set(e,t),Kr(t,[e])}for(var il=0;il<wc.length;il++){var al=wc[il],$g=al.toLowerCase(),Ug=al[0].toUpperCase()+al.slice(1);Nr($g,"on"+Ug)}Nr(Mf,"onAnimationEnd");Nr(Vf,"onAnimationIteration");Nr(Bf,"onAnimationStart");Nr("dblclick","onDoubleClick");Nr("focusin","onFocus");Nr("focusout","onBlur");Nr(Hf,"onTransitionEnd");Sn("onMouseEnter",["mouseout","mouseover"]);Sn("onMouseLeave",["mouseout","mouseover"]);Sn("onPointerEnter",["pointerout","pointerover"]);Sn("onPointerLeave",["pointerout","pointerover"]);Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ig=new Set("cancel close invalid load scroll toggle".split(" ").concat(as));function _c(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,$p(n,t,void 0,e),e.currentTarget=null}function Wf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;_c(s,o,c),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;_c(s,o,c),i=u}}}if(zi)throw e=Bl,zi=!1,Bl=null,e}function ce(e,t){var r=t[Yl];r===void 0&&(r=t[Yl]=new Set);var n=e+"__bubble";r.has(n)||(Gf(t,e,2,!1),r.add(n))}function ll(e,t,r){var n=0;t&&(n|=4),Gf(r,e,n,t)}var fi="_reactListening"+Math.random().toString(36).slice(2);function Ts(e){if(!e[fi]){e[fi]=!0,Yd.forEach(function(r){r!=="selectionchange"&&(Ig.has(r)||ll(r,!1,e),ll(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fi]||(t[fi]=!0,ll("selectionchange",!1,t))}}function Gf(e,t,r,n){switch(Tf(t)){case 1:var s=Xp;break;case 4:s=Zp;break;default:s=Xo}r=s.bind(null,t,r,e),s=void 0,!Vl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ol(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Ur(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}gf(function(){var c=i,d=Go(r),f=[];e:{var h=qf.get(e);if(h!==void 0){var v=Yo,w=e;switch(e){case"keypress":if(Ci(r)===0)break e;case"keydown":case"keyup":v=hg;break;case"focusin":w="focus",v=tl;break;case"focusout":w="blur",v=tl;break;case"beforeblur":case"afterblur":v=tl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=gg;break;case Mf:case Vf:case Bf:v=sg;break;case Hf:v=vg;break;case"scroll":v=Yp;break;case"wheel":v=wg;break;case"copy":case"cut":case"paste":v=ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=dc}var x=(t&4)!==0,N=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var m=c,g;m!==null;){g=m;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,p!==null&&(j=ks(m,p),j!=null&&x.push(Rs(m,j,g)))),N)break;m=m.return}0<x.length&&(h=new v(h,w,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&r!==Fl&&(w=r.relatedTarget||r.fromElement)&&(Ur(w)||w[Qt]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=c,w=w?Ur(w):null,w!==null&&(N=Jr(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(x=uc,j="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=dc,j="onPointerLeave",p="onPointerEnter",m="pointer"),N=v==null?h:fn(v),g=w==null?h:fn(w),h=new x(j,m+"leave",v,r,d),h.target=N,h.relatedTarget=g,j=null,Ur(d)===c&&(x=new x(p,m+"enter",w,r,d),x.target=g,x.relatedTarget=N,j=x),N=j,v&&w)t:{for(x=v,p=w,m=0,g=x;g;g=Yr(g))m++;for(g=0,j=p;j;j=Yr(j))g++;for(;0<m-g;)x=Yr(x),m--;for(;0<g-m;)p=Yr(p),g--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=Yr(x),p=Yr(p)}x=null}else x=null;v!==null&&bc(f,h,v,x,!1),w!==null&&N!==null&&bc(f,N,w,x,!0)}}e:{if(h=c?fn(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var S=Eg;else if(mc(h))if(Uf)S=Rg;else{S=Pg;var I=Cg}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Tg);if(S&&(S=S(e,c))){$f(f,S,r,d);break e}I&&I(e,h,c),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&$l(h,"number",h.value)}switch(I=c?fn(c):window,e){case"focusin":(mc(I)||I.contentEditable==="true")&&(cn=I,Gl=c,fs=null);break;case"focusout":fs=Gl=cn=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,xc(f,r,d);break;case"selectionchange":if(Ag)break;case"keydown":case"keyup":xc(f,r,d)}var C;if(tu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else un?Lf(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Of&&r.locale!=="ko"&&(un||P!=="onCompositionStart"?P==="onCompositionEnd"&&un&&(C=Rf()):(dr=d,Zo="value"in dr?dr.value:dr.textContent,un=!0)),I=Hi(c,P),0<I.length&&(P=new cc(P,e,null,r,d),f.push({event:P,listeners:I}),C?P.data=C:(C=Af(r),C!==null&&(P.data=C)))),(C=bg?jg(e,r):kg(e,r))&&(c=Hi(c,"onBeforeInput"),0<c.length&&(d=new cc("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=C))}Wf(f,t)})}function Rs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ks(e,r),i!=null&&n.unshift(Rs(e,i,s)),i=ks(e,t),i!=null&&n.push(Rs(e,i,s))),e=e.return}return n}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,s?(u=ks(r,i),u!=null&&a.unshift(Rs(r,u,o))):s||(u=ks(r,i),u!=null&&a.push(Rs(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Dg=/\r\n?/g,zg=/\u0000|\uFFFD/g;function jc(e){return(typeof e=="string"?e:""+e).replace(Dg,`
`).replace(zg,"")}function hi(e,t,r){if(t=jc(t),jc(e)!==t&&r)throw Error(L(425))}function qi(){}var Jl=null,Ql=null;function Xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zl=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,Mg=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(e){return kc.resolve(null).then(e).catch(Vg)}:Zl;function Vg(e){setTimeout(function(){throw e})}function ul(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Es(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Es(t)}function yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fn=Math.random().toString(36).slice(2),$t="__reactFiber$"+Fn,Os="__reactProps$"+Fn,Qt="__reactContainer$"+Fn,Yl="__reactEvents$"+Fn,Bg="__reactListeners$"+Fn,Hg="__reactHandles$"+Fn;function Ur(e){var t=e[$t];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qt]||r[$t]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nc(e);e!==null;){if(r=e[$t])return r;e=Nc(e)}return t}e=r,r=e.parentNode}return null}function Ws(e){return e=e[$t]||e[Qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function _a(e){return e[Os]||null}var eo=[],hn=-1;function Sr(e){return{current:e}}function de(e){0>hn||(e.current=eo[hn],eo[hn]=null,hn--)}function oe(e,t){hn++,eo[hn]=e.current,e.current=t}var kr={},Me=Sr(kr),et=Sr(!1),Br=kr;function En(e,t){var r=e.type.contextTypes;if(!r)return kr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function tt(e){return e=e.childContextTypes,e!=null}function Wi(){de(et),de(Me)}function Sc(e,t,r){if(Me.current!==kr)throw Error(L(168));oe(Me,t),oe(et,r)}function Kf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,Cp(e)||"Unknown",s));return ye({},r,n)}function Gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,Br=Me.current,oe(Me,e),oe(et,et.current),!0}function Ec(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=Kf(e,t,Br),n.__reactInternalMemoizedMergedChildContext=e,de(et),de(Me),oe(Me,e)):de(et),oe(et,r)}var Bt=null,ba=!1,cl=!1;function Jf(e){Bt===null?Bt=[e]:Bt.push(e)}function qg(e){ba=!0,Jf(e)}function Er(){if(!cl&&Bt!==null){cl=!0;var e=0,t=ie;try{var r=Bt;for(ie=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Bt=null,ba=!1}catch(s){throw Bt!==null&&(Bt=Bt.slice(e+1)),wf(Ko,Er),s}finally{ie=t,cl=!1}}return null}var mn=[],pn=0,Ki=null,Ji=0,ft=[],ht=0,Hr=null,Wt=1,Gt="";function Or(e,t){mn[pn++]=Ji,mn[pn++]=Ki,Ki=e,Ji=t}function Qf(e,t,r){ft[ht++]=Wt,ft[ht++]=Gt,ft[ht++]=Hr,Hr=e;var n=Wt;e=Gt;var s=32-Ct(n)-1;n&=~(1<<s),r+=1;var i=32-Ct(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Wt=1<<32-Ct(t)+s|r<<s|n,Gt=i+e}else Wt=1<<i|r<<s|n,Gt=e}function nu(e){e.return!==null&&(Or(e,1),Qf(e,1,0))}function su(e){for(;e===Ki;)Ki=mn[--pn],mn[pn]=null,Ji=mn[--pn],mn[pn]=null;for(;e===Hr;)Hr=ft[--ht],ft[ht]=null,Gt=ft[--ht],ft[ht]=null,Wt=ft[--ht],ft[ht]=null}var lt=null,at=null,me=!1,Nt=null;function Xf(e,t){var r=mt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,at=yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hr!==null?{id:Wt,overflow:Gt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=mt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lt=e,at=null,!0):!1;default:return!1}}function to(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ro(e){if(me){var t=at;if(t){var r=t;if(!Cc(e,t)){if(to(e))throw Error(L(418));t=yr(r.nextSibling);var n=lt;t&&Cc(e,t)?Xf(n,r):(e.flags=e.flags&-4097|2,me=!1,lt=e)}}else{if(to(e))throw Error(L(418));e.flags=e.flags&-4097|2,me=!1,lt=e}}}function Pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function mi(e){if(e!==lt)return!1;if(!me)return Pc(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xl(e.type,e.memoizedProps)),t&&(t=at)){if(to(e))throw Zf(),Error(L(418));for(;t;)Xf(e,t),t=yr(t.nextSibling)}if(Pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){at=yr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}at=null}}else at=lt?yr(e.stateNode.nextSibling):null;return!0}function Zf(){for(var e=at;e;)e=yr(e.nextSibling)}function Cn(){at=lt=null,me=!1}function iu(e){Nt===null?Nt=[e]:Nt.push(e)}var Wg=Yt.ReactCurrentBatchConfig;function Xn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function pi(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tc(e){var t=e._init;return t(e._payload)}function Yf(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=_r(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,m,g,j){return m===null||m.tag!==6?(m=yl(g,p.mode,j),m.return=p,m):(m=s(m,g),m.return=p,m)}function u(p,m,g,j){var S=g.type;return S===on?d(p,m,g.props.children,j,g.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sr&&Tc(S)===m.type)?(j=s(m,g.props),j.ref=Xn(p,m,g),j.return=p,j):(j=$i(g.type,g.key,g.props,null,p.mode,j),j.ref=Xn(p,m,g),j.return=p,j)}function c(p,m,g,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=vl(g,p.mode,j),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function d(p,m,g,j,S){return m===null||m.tag!==7?(m=Mr(g,p.mode,j,S),m.return=p,m):(m=s(m,g),m.return=p,m)}function f(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=yl(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case si:return g=$i(m.type,m.key,m.props,null,p.mode,g),g.ref=Xn(p,null,m),g.return=p,g;case ln:return m=vl(m,p.mode,g),m.return=p,m;case sr:var j=m._init;return f(p,j(m._payload),g)}if(ss(m)||Wn(m))return m=Mr(m,p.mode,g,null),m.return=p,m;pi(p,m)}return null}function h(p,m,g,j){var S=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:o(p,m,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case si:return g.key===S?u(p,m,g,j):null;case ln:return g.key===S?c(p,m,g,j):null;case sr:return S=g._init,h(p,m,S(g._payload),j)}if(ss(g)||Wn(g))return S!==null?null:d(p,m,g,j,null);pi(p,g)}return null}function v(p,m,g,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(g)||null,o(m,p,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case si:return p=p.get(j.key===null?g:j.key)||null,u(m,p,j,S);case ln:return p=p.get(j.key===null?g:j.key)||null,c(m,p,j,S);case sr:var I=j._init;return v(p,m,g,I(j._payload),S)}if(ss(j)||Wn(j))return p=p.get(g)||null,d(m,p,j,S,null);pi(m,j)}return null}function w(p,m,g,j){for(var S=null,I=null,C=m,P=m=0,B=null;C!==null&&P<g.length;P++){C.index>P?(B=C,C=null):B=C.sibling;var A=h(p,C,g[P],j);if(A===null){C===null&&(C=B);break}e&&C&&A.alternate===null&&t(p,C),m=i(A,m,P),I===null?S=A:I.sibling=A,I=A,C=B}if(P===g.length)return r(p,C),me&&Or(p,P),S;if(C===null){for(;P<g.length;P++)C=f(p,g[P],j),C!==null&&(m=i(C,m,P),I===null?S=C:I.sibling=C,I=C);return me&&Or(p,P),S}for(C=n(p,C);P<g.length;P++)B=v(C,p,P,g[P],j),B!==null&&(e&&B.alternate!==null&&C.delete(B.key===null?P:B.key),m=i(B,m,P),I===null?S=B:I.sibling=B,I=B);return e&&C.forEach(function(T){return t(p,T)}),me&&Or(p,P),S}function x(p,m,g,j){var S=Wn(g);if(typeof S!="function")throw Error(L(150));if(g=S.call(g),g==null)throw Error(L(151));for(var I=S=null,C=m,P=m=0,B=null,A=g.next();C!==null&&!A.done;P++,A=g.next()){C.index>P?(B=C,C=null):B=C.sibling;var T=h(p,C,A.value,j);if(T===null){C===null&&(C=B);break}e&&C&&T.alternate===null&&t(p,C),m=i(T,m,P),I===null?S=T:I.sibling=T,I=T,C=B}if(A.done)return r(p,C),me&&Or(p,P),S;if(C===null){for(;!A.done;P++,A=g.next())A=f(p,A.value,j),A!==null&&(m=i(A,m,P),I===null?S=A:I.sibling=A,I=A);return me&&Or(p,P),S}for(C=n(p,C);!A.done;P++,A=g.next())A=v(C,p,P,A.value,j),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?P:A.key),m=i(A,m,P),I===null?S=A:I.sibling=A,I=A);return e&&C.forEach(function(D){return t(p,D)}),me&&Or(p,P),S}function N(p,m,g,j){if(typeof g=="object"&&g!==null&&g.type===on&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case si:e:{for(var S=g.key,I=m;I!==null;){if(I.key===S){if(S=g.type,S===on){if(I.tag===7){r(p,I.sibling),m=s(I,g.props.children),m.return=p,p=m;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sr&&Tc(S)===I.type){r(p,I.sibling),m=s(I,g.props),m.ref=Xn(p,I,g),m.return=p,p=m;break e}r(p,I);break}else t(p,I);I=I.sibling}g.type===on?(m=Mr(g.props.children,p.mode,j,g.key),m.return=p,p=m):(j=$i(g.type,g.key,g.props,null,p.mode,j),j.ref=Xn(p,m,g),j.return=p,p=j)}return a(p);case ln:e:{for(I=g.key;m!==null;){if(m.key===I)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=vl(g,p.mode,j),m.return=p,p=m}return a(p);case sr:return I=g._init,N(p,m,I(g._payload),j)}if(ss(g))return w(p,m,g,j);if(Wn(g))return x(p,m,g,j);pi(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,g),m.return=p,p=m):(r(p,m),m=yl(g,p.mode,j),m.return=p,p=m),a(p)):r(p,m)}return N}var Pn=Yf(!0),eh=Yf(!1),Qi=Sr(null),Xi=null,gn=null,au=null;function lu(){au=gn=Xi=null}function ou(e){var t=Qi.current;de(Qi),e._currentValue=t}function no(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jn(e,t){Xi=e,au=gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(au!==e)if(e={context:e,memoizedValue:t,next:null},gn===null){if(Xi===null)throw Error(L(308));gn=e,Xi.dependencies={lanes:0,firstContext:e}}else gn=gn.next=e;return t}var Ir=null;function uu(e){Ir===null?Ir=[e]:Ir.push(e)}function th(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,uu(t)):(r.next=s.next,s.next=r),t.interleaved=r,Xt(e,n)}function Xt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ir=!1;function cu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Xt(e,r)}return s=n.interleaved,s===null?(t.next=t,uu(n)):(t.next=s.next,s.next=t),n.interleaved=t,Xt(e,r)}function Pi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jo(e,r)}}function Rc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zi(e,t,r,n){var s=e.updateQueue;ir=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;a=0,d=c=u=null,o=i;do{var h=o.lane,v=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,x=o;switch(h=t,v=r,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(v,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,h=typeof w=="function"?w.call(v,f,h):w,h==null)break e;f=ye({},f,h);break e;case 2:ir=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else v={eventTime:v,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=v,u=f):d=d.next=v,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Wr|=a,e.lanes=a,e.memoizedState=f}}function Oc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Gs={},Dt=Sr(Gs),Ls=Sr(Gs),As=Sr(Gs);function Dr(e){if(e===Gs)throw Error(L(174));return e}function du(e,t){switch(oe(As,t),oe(Ls,e),oe(Dt,Gs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Il(t,e)}de(Dt),oe(Dt,t)}function Tn(){de(Dt),de(Ls),de(As)}function nh(e){Dr(As.current);var t=Dr(Dt.current),r=Il(t,e.type);t!==r&&(oe(Ls,e),oe(Dt,r))}function fu(e){Ls.current===e&&(de(Dt),de(Ls))}var pe=Sr(0);function Yi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dl=[];function hu(){for(var e=0;e<dl.length;e++)dl[e]._workInProgressVersionPrimary=null;dl.length=0}var Ti=Yt.ReactCurrentDispatcher,fl=Yt.ReactCurrentBatchConfig,qr=0,ge=null,Ce=null,Le=null,ea=!1,hs=!1,$s=0,Gg=0;function De(){throw Error(L(321))}function mu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Tt(e[r],t[r]))return!1;return!0}function pu(e,t,r,n,s,i){if(qr=i,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ti.current=e===null||e.memoizedState===null?Xg:Zg,e=r(n,s),hs){i=0;do{if(hs=!1,$s=0,25<=i)throw Error(L(301));i+=1,Le=Ce=null,t.updateQueue=null,Ti.current=Yg,e=r(n,s)}while(hs)}if(Ti.current=ta,t=Ce!==null&&Ce.next!==null,qr=0,Le=Ce=ge=null,ea=!1,t)throw Error(L(300));return e}function gu(){var e=$s!==0;return $s=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ge.memoizedState=Le=e:Le=Le.next=e,Le}function vt(){if(Ce===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Le===null?ge.memoizedState:Le.next;if(t!==null)Le=t,Ce=e;else{if(e===null)throw Error(L(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Le===null?ge.memoizedState=Le=e:Le=Le.next=e}return Le}function Us(e,t){return typeof t=="function"?t(e):t}function hl(e){var t=vt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Ce,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,c=i;do{var d=c.lane;if((qr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=f,a=n):u=u.next=f,ge.lanes|=d,Wr|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=o,Tt(n,t.memoizedState)||(Ze=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ge.lanes|=i,Wr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ml(e){var t=vt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Tt(i,t.memoizedState)||(Ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function sh(){}function ih(e,t){var r=ge,n=vt(),s=t(),i=!Tt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ze=!0),n=n.queue,yu(oh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Le!==null&&Le.memoizedState.tag&1){if(r.flags|=2048,Is(9,lh.bind(null,r,n,s,t),void 0,null),Ae===null)throw Error(L(349));qr&30||ah(r,t,s)}return s}function ah(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lh(e,t,r,n){t.value=r,t.getSnapshot=n,uh(t)&&ch(e)}function oh(e,t,r){return r(function(){uh(t)&&ch(e)})}function uh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tt(e,r)}catch{return!0}}function ch(e){var t=Xt(e,1);t!==null&&Pt(t,e,1,-1)}function Lc(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:e},t.queue=e,e=e.dispatch=Qg.bind(null,ge,e),[t.memoizedState,e]}function Is(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function dh(){return vt().memoizedState}function Ri(e,t,r,n){var s=Lt();ge.flags|=e,s.memoizedState=Is(1|t,r,void 0,n===void 0?null:n)}function ja(e,t,r,n){var s=vt();n=n===void 0?null:n;var i=void 0;if(Ce!==null){var a=Ce.memoizedState;if(i=a.destroy,n!==null&&mu(n,a.deps)){s.memoizedState=Is(t,r,i,n);return}}ge.flags|=e,s.memoizedState=Is(1|t,r,i,n)}function Ac(e,t){return Ri(8390656,8,e,t)}function yu(e,t){return ja(2048,8,e,t)}function fh(e,t){return ja(4,2,e,t)}function hh(e,t){return ja(4,4,e,t)}function mh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ph(e,t,r){return r=r!=null?r.concat([e]):null,ja(4,4,mh.bind(null,t,e),r)}function vu(){}function gh(e,t){var r=vt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&mu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function yh(e,t){var r=vt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&mu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function vh(e,t,r){return qr&21?(Tt(r,t)||(r=jf(),ge.lanes|=r,Wr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=r)}function Kg(e,t){var r=ie;ie=r!==0&&4>r?r:4,e(!0);var n=fl.transition;fl.transition={};try{e(!1),t()}finally{ie=r,fl.transition=n}}function xh(){return vt().memoizedState}function Jg(e,t,r){var n=wr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wh(e))_h(t,r);else if(r=th(e,t,r,n),r!==null){var s=He();Pt(r,e,n,s),bh(r,t,n)}}function Qg(e,t,r){var n=wr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wh(e))_h(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Tt(o,a)){var u=t.interleaved;u===null?(s.next=s,uu(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=th(e,t,s,n),r!==null&&(s=He(),Pt(r,e,n,s),bh(r,t,n))}}function wh(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function _h(e,t){hs=ea=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jo(e,r)}}var ta={readContext:yt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Xg={readContext:yt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:Ac,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ri(4194308,4,mh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ri(4,2,e,t)},useMemo:function(e,t){var r=Lt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Lt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Jg.bind(null,ge,e),[n.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:Lc,useDebugValue:vu,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=Lc(!1),t=e[0];return e=Kg.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ge,s=Lt();if(me){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Ae===null)throw Error(L(349));qr&30||ah(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Ac(oh.bind(null,n,i,e),[e]),n.flags|=2048,Is(9,lh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Lt(),t=Ae.identifierPrefix;if(me){var r=Gt,n=Wt;r=(n&~(1<<32-Ct(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$s++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Gg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zg={readContext:yt,useCallback:gh,useContext:yt,useEffect:yu,useImperativeHandle:ph,useInsertionEffect:fh,useLayoutEffect:hh,useMemo:yh,useReducer:hl,useRef:dh,useState:function(){return hl(Us)},useDebugValue:vu,useDeferredValue:function(e){var t=vt();return vh(t,Ce.memoizedState,e)},useTransition:function(){var e=hl(Us)[0],t=vt().memoizedState;return[e,t]},useMutableSource:sh,useSyncExternalStore:ih,useId:xh,unstable_isNewReconciler:!1},Yg={readContext:yt,useCallback:gh,useContext:yt,useEffect:yu,useImperativeHandle:ph,useInsertionEffect:fh,useLayoutEffect:hh,useMemo:yh,useReducer:ml,useRef:dh,useState:function(){return ml(Us)},useDebugValue:vu,useDeferredValue:function(e){var t=vt();return Ce===null?t.memoizedState=e:vh(t,Ce.memoizedState,e)},useTransition:function(){var e=ml(Us)[0],t=vt().memoizedState;return[e,t]},useMutableSource:sh,useSyncExternalStore:ih,useId:xh,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function so(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ka={isMounted:function(e){return(e=e._reactInternals)?Jr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=He(),s=wr(e),i=Kt(n,s);i.payload=t,r!=null&&(i.callback=r),t=vr(e,i,s),t!==null&&(Pt(t,e,s,n),Pi(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=He(),s=wr(e),i=Kt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=vr(e,i,s),t!==null&&(Pt(t,e,s,n),Pi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=He(),n=wr(e),s=Kt(r,n);s.tag=2,t!=null&&(s.callback=t),t=vr(e,s,n),t!==null&&(Pt(t,e,n,r),Pi(t,e,n))}};function $c(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ps(r,n)||!Ps(s,i):!0}function jh(e,t,r){var n=!1,s=kr,i=t.contextType;return typeof i=="object"&&i!==null?i=yt(i):(s=tt(t)?Br:Me.current,n=t.contextTypes,i=(n=n!=null)?En(e,s):kr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ka,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Uc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ka.enqueueReplaceState(t,t.state,null)}function io(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},cu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=yt(i):(i=tt(t)?Br:Me.current,s.context=En(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(so(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ka.enqueueReplaceState(s,s.state,null),Zi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Rn(e,t){try{var r="",n=t;do r+=Ep(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function pl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ao(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var e0=typeof WeakMap=="function"?WeakMap:Map;function kh(e,t,r){r=Kt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){na||(na=!0,yo=n),ao(e,t)},r}function Nh(e,t,r){r=Kt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ao(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ao(e,t),typeof n!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Ic(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new e0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=m0.bind(null,e,t,r),t.then(e,e))}function Dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Kt(-1,1),t.tag=2,vr(r,t,1))),r.lanes|=1),e)}var t0=Yt.ReactCurrentOwner,Ze=!1;function Ve(e,t,r,n){t.child=e===null?eh(t,null,r,n):Pn(t,e.child,r,n)}function Fc(e,t,r,n,s){r=r.render;var i=t.ref;return jn(t,s),n=pu(e,t,r,n,i,s),r=gu(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zt(e,t,s)):(me&&r&&nu(t),t.flags|=1,Ve(e,t,n,s),t.child)}function Mc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Su(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Sh(e,t,i,n,s)):(e=$i(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ps,r(a,n)&&e.ref===t.ref)return Zt(e,t,s)}return t.flags|=1,e=_r(i,n),e.ref=t.ref,e.return=t,t.child=e}function Sh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ps(i,n)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,Zt(e,t,s)}return lo(e,t,r,n,s)}function Eh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(vn,it),it|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(vn,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,oe(vn,it),it|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,oe(vn,it),it|=n;return Ve(e,t,s,r),t.child}function Ch(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lo(e,t,r,n,s){var i=tt(r)?Br:Me.current;return i=En(t,i),jn(t,s),r=pu(e,t,r,n,i,s),n=gu(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zt(e,t,s)):(me&&n&&nu(t),t.flags|=1,Ve(e,t,r,s),t.child)}function Vc(e,t,r,n,s){if(tt(r)){var i=!0;Gi(t)}else i=!1;if(jn(t,s),t.stateNode===null)Oi(e,t),jh(t,r,n),io(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=yt(c):(c=tt(r)?Br:Me.current,c=En(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&Uc(t,a,n,c),ir=!1;var h=t.memoizedState;a.state=h,Zi(t,n,a,s),u=t.memoizedState,o!==n||h!==u||et.current||ir?(typeof d=="function"&&(so(t,r,d,n),u=t.memoizedState),(o=ir||$c(t,r,o,n,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,rh(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:bt(t.type,o),a.props=c,f=t.pendingProps,h=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=yt(u):(u=tt(r)?Br:Me.current,u=En(t,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==u)&&Uc(t,a,n,u),ir=!1,h=t.memoizedState,a.state=h,Zi(t,n,a,s);var w=t.memoizedState;o!==f||h!==w||et.current||ir?(typeof v=="function"&&(so(t,r,v,n),w=t.memoizedState),(c=ir||$c(t,r,c,n,h,w,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),a.props=n,a.state=w,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return oo(e,t,r,n,i,s)}function oo(e,t,r,n,s,i){Ch(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Ec(t,r,!1),Zt(e,t,i);n=t.stateNode,t0.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Pn(t,e.child,null,i),t.child=Pn(t,null,o,i)):Ve(e,t,o,i),t.memoizedState=n.state,s&&Ec(t,r,!0),t.child}function Ph(e){var t=e.stateNode;t.pendingContext?Sc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sc(e,t.context,!1),du(e,t.containerInfo)}function Bc(e,t,r,n,s){return Cn(),iu(s),t.flags|=256,Ve(e,t,r,n),t.child}var uo={dehydrated:null,treeContext:null,retryLane:0};function co(e){return{baseLanes:e,cachePool:null,transitions:null}}function Th(e,t,r){var n=t.pendingProps,s=pe.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),oe(pe,s&1),e===null)return ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ea(a,n,0,null),e=Mr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=co(r),t.memoizedState=uo,e):xu(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return r0(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=_r(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=_r(o,i):(i=Mr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?co(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=uo,n}return i=e.child,e=i.sibling,n=_r(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function xu(e,t){return t=Ea({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gi(e,t,r,n){return n!==null&&iu(n),Pn(t,e.child,null,r),e=xu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function r0(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=pl(Error(L(422))),gi(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ea({mode:"visible",children:n.children},s,0,null),i=Mr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Pn(t,e.child,null,a),t.child.memoizedState=co(a),t.memoizedState=uo,i);if(!(t.mode&1))return gi(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(L(419)),n=pl(i,n,void 0),gi(e,t,a,n)}if(o=(a&e.childLanes)!==0,Ze||o){if(n=Ae,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xt(e,s),Pt(n,e,s,-1))}return Nu(),n=pl(Error(L(421))),gi(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=p0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,at=yr(s.nextSibling),lt=t,me=!0,Nt=null,e!==null&&(ft[ht++]=Wt,ft[ht++]=Gt,ft[ht++]=Hr,Wt=e.id,Gt=e.overflow,Hr=t),t=xu(t,n.children),t.flags|=4096,t)}function Hc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),no(e.return,t,r)}function gl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Rh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ve(e,t,n.children,r),n=pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hc(e,r,t);else if(e.tag===19)Hc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(oe(pe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Yi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),gl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}gl(t,!0,r,null,i);break;case"together":gl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=_r(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_r(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function n0(e,t,r){switch(t.tag){case 3:Ph(t),Cn();break;case 5:nh(t);break;case 1:tt(t.type)&&Gi(t);break;case 4:du(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;oe(Qi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(oe(pe,pe.current&1),t.flags|=128,null):r&t.child.childLanes?Th(e,t,r):(oe(pe,pe.current&1),e=Zt(e,t,r),e!==null?e.sibling:null);oe(pe,pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Rh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(pe,pe.current),n)break;return null;case 22:case 23:return t.lanes=0,Eh(e,t,r)}return Zt(e,t,r)}var Oh,fo,Lh,Ah;Oh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fo=function(){};Lh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Dr(Dt.current);var i=null;switch(r){case"input":s=Ll(e,s),n=Ll(e,n),i=[];break;case"select":s=ye({},s,{value:void 0}),n=ye({},n,{value:void 0}),i=[];break;case"textarea":s=Ul(e,s),n=Ul(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qi)}Dl(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bs.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ce("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ah=function(e,t,r,n){r!==n&&(t.flags|=4)};function Zn(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function s0(e,t,r){var n=t.pendingProps;switch(su(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return tt(t.type)&&Wi(),ze(t),null;case 3:return n=t.stateNode,Tn(),de(et),de(Me),hu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(wo(Nt),Nt=null))),fo(e,t),ze(t),null;case 5:fu(t);var s=Dr(As.current);if(r=t.type,e!==null&&t.stateNode!=null)Lh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return ze(t),null}if(e=Dr(Dt.current),mi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[$t]=t,n[Os]=i,e=(t.mode&1)!==0,r){case"dialog":ce("cancel",n),ce("close",n);break;case"iframe":case"object":case"embed":ce("load",n);break;case"video":case"audio":for(s=0;s<as.length;s++)ce(as[s],n);break;case"source":ce("error",n);break;case"img":case"image":case"link":ce("error",n),ce("load",n);break;case"details":ce("toggle",n);break;case"input":Yu(n,i),ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ce("invalid",n);break;case"textarea":tc(n,i),ce("invalid",n)}Dl(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&hi(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&hi(n.textContent,o,e),s=["children",""+o]):bs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ce("scroll",n)}switch(r){case"input":ii(n),ec(n,i,!0);break;case"textarea":ii(n),rc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=qi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=of(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[$t]=t,e[Os]=n,Oh(e,t,!1,!1),t.stateNode=e;e:{switch(a=zl(r,n),r){case"dialog":ce("cancel",e),ce("close",e),s=n;break;case"iframe":case"object":case"embed":ce("load",e),s=n;break;case"video":case"audio":for(s=0;s<as.length;s++)ce(as[s],e);s=n;break;case"source":ce("error",e),s=n;break;case"img":case"image":case"link":ce("error",e),ce("load",e),s=n;break;case"details":ce("toggle",e),s=n;break;case"input":Yu(e,n),s=Ll(e,n),ce("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ye({},n,{value:void 0}),ce("invalid",e);break;case"textarea":tc(e,n),s=Ul(e,n),ce("invalid",e);break;default:s=n}Dl(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?df(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&uf(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&js(e,u):typeof u=="number"&&js(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bs.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ce("scroll",e):u!=null&&Bo(e,i,u,a))}switch(r){case"input":ii(e),ec(e,n,!1);break;case"textarea":ii(e),rc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?xn(e,!!n.multiple,i,!1):n.defaultValue!=null&&xn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=qi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Ah(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Dr(As.current),Dr(Dt.current),mi(t)){if(n=t.stateNode,r=t.memoizedProps,n[$t]=t,(i=n.nodeValue!==r)&&(e=lt,e!==null))switch(e.tag){case 3:hi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$t]=t,t.stateNode=n}return ze(t),null;case 13:if(de(pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&at!==null&&t.mode&1&&!(t.flags&128))Zf(),Cn(),t.flags|=98560,i=!1;else if(i=mi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[$t]=t}else Cn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),i=!1}else Nt!==null&&(wo(Nt),Nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Pe===0&&(Pe=3):Nu())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return Tn(),fo(e,t),e===null&&Ts(t.stateNode.containerInfo),ze(t),null;case 10:return ou(t.type._context),ze(t),null;case 17:return tt(t.type)&&Wi(),ze(t),null;case 19:if(de(pe),i=t.memoizedState,i===null)return ze(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Zn(i,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Yi(e),a!==null){for(t.flags|=128,Zn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return oe(pe,pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&_e()>On&&(t.flags|=128,n=!0,Zn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Yi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!me)return ze(t),null}else 2*_e()-i.renderingStartTime>On&&r!==1073741824&&(t.flags|=128,n=!0,Zn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_e(),t.sibling=null,r=pe.current,oe(pe,n?r&1|2:r&1),t):(ze(t),null);case 22:case 23:return ku(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?it&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function i0(e,t){switch(su(t),t.tag){case 1:return tt(t.type)&&Wi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(),de(et),de(Me),hu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fu(t),null;case 13:if(de(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(pe),null;case 4:return Tn(),null;case 10:return ou(t.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var yi=!1,Fe=!1,a0=typeof WeakSet=="function"?WeakSet:Set,F=null;function yn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xe(e,t,n)}else r.current=null}function ho(e,t,r){try{r()}catch(n){xe(e,t,n)}}var qc=!1;function l0(e,t){if(Jl=Vi,e=zf(),ru(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(u=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===r&&++c===s&&(o=a),h===i&&++d===n&&(u=a),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ql={focusedElem:e,selectionRange:r},Vi=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,N=w.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:bt(t.type,x),N);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(j){xe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return w=qc,qc=!1,w}function ms(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ho(t,r,i)}s=s.next}while(s!==n)}}function Na(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $h(e){var t=e.alternate;t!==null&&(e.alternate=null,$h(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[Os],delete t[Yl],delete t[Bg],delete t[Hg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uh(e){return e.tag===5||e.tag===3||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function po(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qi));else if(n!==4&&(e=e.child,e!==null))for(po(e,t,r),e=e.sibling;e!==null;)po(e,t,r),e=e.sibling}function go(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(go(e,t,r),e=e.sibling;e!==null;)go(e,t,r),e=e.sibling}var $e=null,jt=!1;function tr(e,t,r){for(r=r.child;r!==null;)Ih(e,t,r),r=r.sibling}function Ih(e,t,r){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(ya,r)}catch{}switch(r.tag){case 5:Fe||yn(r,t);case 6:var n=$e,s=jt;$e=null,tr(e,t,r),$e=n,jt=s,$e!==null&&(jt?(e=$e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$e.removeChild(r.stateNode));break;case 18:$e!==null&&(jt?(e=$e,r=r.stateNode,e.nodeType===8?ul(e.parentNode,r):e.nodeType===1&&ul(e,r),Es(e)):ul($e,r.stateNode));break;case 4:n=$e,s=jt,$e=r.stateNode.containerInfo,jt=!0,tr(e,t,r),$e=n,jt=s;break;case 0:case 11:case 14:case 15:if(!Fe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ho(r,t,a),s=s.next}while(s!==n)}tr(e,t,r);break;case 1:if(!Fe&&(yn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){xe(r,t,o)}tr(e,t,r);break;case 21:tr(e,t,r);break;case 22:r.mode&1?(Fe=(n=Fe)||r.memoizedState!==null,tr(e,t,r),Fe=n):tr(e,t,r);break;default:tr(e,t,r)}}function Gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new a0),t.forEach(function(n){var s=g0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function wt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:$e=o.stateNode,jt=!1;break e;case 3:$e=o.stateNode.containerInfo,jt=!0;break e;case 4:$e=o.stateNode.containerInfo,jt=!0;break e}o=o.return}if($e===null)throw Error(L(160));Ih(i,a,s),$e=null,jt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){xe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dh(t,e),t=t.sibling}function Dh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Rt(e),n&4){try{ms(3,e,e.return),Na(3,e)}catch(x){xe(e,e.return,x)}try{ms(5,e,e.return)}catch(x){xe(e,e.return,x)}}break;case 1:wt(t,e),Rt(e),n&512&&r!==null&&yn(r,r.return);break;case 5:if(wt(t,e),Rt(e),n&512&&r!==null&&yn(r,r.return),e.flags&32){var s=e.stateNode;try{js(s,"")}catch(x){xe(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&af(s,i),zl(o,a);var c=zl(o,i);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];d==="style"?df(s,f):d==="dangerouslySetInnerHTML"?uf(s,f):d==="children"?js(s,f):Bo(s,d,f,c)}switch(o){case"input":Al(s,i);break;case"textarea":lf(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?xn(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?xn(s,!!i.multiple,i.defaultValue,!0):xn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Os]=i}catch(x){xe(e,e.return,x)}}break;case 6:if(wt(t,e),Rt(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){xe(e,e.return,x)}}break;case 3:if(wt(t,e),Rt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Es(t.containerInfo)}catch(x){xe(e,e.return,x)}break;case 4:wt(t,e),Rt(e);break;case 13:wt(t,e),Rt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(bu=_e())),n&4&&Gc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Fe=(c=Fe)||d,wt(t,e),Fe=c):wt(t,e),Rt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(f=F=d;F!==null;){switch(h=F,v=h.child,h.tag){case 0:case 11:case 14:case 15:ms(4,h,h.return);break;case 1:yn(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){xe(n,r,x)}}break;case 5:yn(h,h.return);break;case 22:if(h.memoizedState!==null){Jc(f);continue}}v!==null?(v.return=h,F=v):Jc(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=cf("display",a))}catch(x){xe(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){xe(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wt(t,e),Rt(e),n&4&&Gc(e);break;case 21:break;default:wt(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Uh(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(js(s,""),n.flags&=-33);var i=Wc(e);go(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Wc(e);po(e,o,a);break;default:throw Error(L(161))}}catch(u){xe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function o0(e,t,r){F=e,zh(e)}function zh(e,t,r){for(var n=(e.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||yi;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Fe;o=yi;var c=Fe;if(yi=a,(Fe=u)&&!c)for(F=s;F!==null;)a=F,u=a.child,a.tag===22&&a.memoizedState!==null?Qc(s):u!==null?(u.return=a,F=u):Qc(s);for(;i!==null;)F=i,zh(i),i=i.sibling;F=s,yi=o,Fe=c}Kc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):Kc(e)}}function Kc(e){for(;F!==null;){var t=F;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Na(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:bt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Oc(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Oc(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Es(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Fe||t.flags&512&&mo(t)}catch(h){xe(t,t.return,h)}}if(t===e){F=null;break}if(r=t.sibling,r!==null){r.return=t.return,F=r;break}F=t.return}}function Jc(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var r=t.sibling;if(r!==null){r.return=t.return,F=r;break}F=t.return}}function Qc(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Na(4,t)}catch(u){xe(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){xe(t,s,u)}}var i=t.return;try{mo(t)}catch(u){xe(t,i,u)}break;case 5:var a=t.return;try{mo(t)}catch(u){xe(t,a,u)}}}catch(u){xe(t,t.return,u)}if(t===e){F=null;break}var o=t.sibling;if(o!==null){o.return=t.return,F=o;break}F=t.return}}var u0=Math.ceil,ra=Yt.ReactCurrentDispatcher,wu=Yt.ReactCurrentOwner,pt=Yt.ReactCurrentBatchConfig,re=0,Ae=null,Ne=null,Ue=0,it=0,vn=Sr(0),Pe=0,Ds=null,Wr=0,Sa=0,_u=0,ps=null,Qe=null,bu=0,On=1/0,Mt=null,na=!1,yo=null,xr=null,vi=!1,fr=null,sa=0,gs=0,vo=null,Li=-1,Ai=0;function He(){return re&6?_e():Li!==-1?Li:Li=_e()}function wr(e){return e.mode&1?re&2&&Ue!==0?Ue&-Ue:Wg.transition!==null?(Ai===0&&(Ai=jf()),Ai):(e=ie,e!==0||(e=window.event,e=e===void 0?16:Tf(e.type)),e):1}function Pt(e,t,r,n){if(50<gs)throw gs=0,vo=null,Error(L(185));Hs(e,r,n),(!(re&2)||e!==Ae)&&(e===Ae&&(!(re&2)&&(Sa|=r),Pe===4&&or(e,Ue)),rt(e,n),r===1&&re===0&&!(t.mode&1)&&(On=_e()+500,ba&&Er()))}function rt(e,t){var r=e.callbackNode;Wp(e,t);var n=Mi(e,e===Ae?Ue:0);if(n===0)r!==null&&ic(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ic(r),t===1)e.tag===0?qg(Xc.bind(null,e)):Jf(Xc.bind(null,e)),Mg(function(){!(re&6)&&Er()}),r=null;else{switch(kf(n)){case 1:r=Ko;break;case 4:r=_f;break;case 16:r=Fi;break;case 536870912:r=bf;break;default:r=Fi}r=Gh(r,Fh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Fh(e,t){if(Li=-1,Ai=0,re&6)throw Error(L(327));var r=e.callbackNode;if(kn()&&e.callbackNode!==r)return null;var n=Mi(e,e===Ae?Ue:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ia(e,n);else{t=n;var s=re;re|=2;var i=Vh();(Ae!==e||Ue!==t)&&(Mt=null,On=_e()+500,Fr(e,t));do try{f0();break}catch(o){Mh(e,o)}while(!0);lu(),ra.current=i,re=s,Ne!==null?t=0:(Ae=null,Ue=0,t=Pe)}if(t!==0){if(t===2&&(s=Hl(e),s!==0&&(n=s,t=xo(e,s))),t===1)throw r=Ds,Fr(e,0),or(e,n),rt(e,_e()),r;if(t===6)or(e,n);else{if(s=e.current.alternate,!(n&30)&&!c0(s)&&(t=ia(e,n),t===2&&(i=Hl(e),i!==0&&(n=i,t=xo(e,i))),t===1))throw r=Ds,Fr(e,0),or(e,n),rt(e,_e()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Lr(e,Qe,Mt);break;case 3:if(or(e,n),(n&130023424)===n&&(t=bu+500-_e(),10<t)){if(Mi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){He(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zl(Lr.bind(null,e,Qe,Mt),t);break}Lr(e,Qe,Mt);break;case 4:if(or(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Ct(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=_e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*u0(n/1960))-n,10<n){e.timeoutHandle=Zl(Lr.bind(null,e,Qe,Mt),n);break}Lr(e,Qe,Mt);break;case 5:Lr(e,Qe,Mt);break;default:throw Error(L(329))}}}return rt(e,_e()),e.callbackNode===r?Fh.bind(null,e):null}function xo(e,t){var r=ps;return e.current.memoizedState.isDehydrated&&(Fr(e,t).flags|=256),e=ia(e,t),e!==2&&(t=Qe,Qe=r,t!==null&&wo(t)),e}function wo(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function c0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Tt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function or(e,t){for(t&=~_u,t&=~Sa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ct(t),n=1<<r;e[r]=-1,t&=~n}}function Xc(e){if(re&6)throw Error(L(327));kn();var t=Mi(e,0);if(!(t&1))return rt(e,_e()),null;var r=ia(e,t);if(e.tag!==0&&r===2){var n=Hl(e);n!==0&&(t=n,r=xo(e,n))}if(r===1)throw r=Ds,Fr(e,0),or(e,t),rt(e,_e()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lr(e,Qe,Mt),rt(e,_e()),null}function ju(e,t){var r=re;re|=1;try{return e(t)}finally{re=r,re===0&&(On=_e()+500,ba&&Er())}}function Gr(e){fr!==null&&fr.tag===0&&!(re&6)&&kn();var t=re;re|=1;var r=pt.transition,n=ie;try{if(pt.transition=null,ie=1,e)return e()}finally{ie=n,pt.transition=r,re=t,!(re&6)&&Er()}}function ku(){it=vn.current,de(vn)}function Fr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Fg(r)),Ne!==null)for(r=Ne.return;r!==null;){var n=r;switch(su(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wi();break;case 3:Tn(),de(et),de(Me),hu();break;case 5:fu(n);break;case 4:Tn();break;case 13:de(pe);break;case 19:de(pe);break;case 10:ou(n.type._context);break;case 22:case 23:ku()}r=r.return}if(Ae=e,Ne=e=_r(e.current,null),Ue=it=t,Pe=0,Ds=null,_u=Sa=Wr=0,Qe=ps=null,Ir!==null){for(t=0;t<Ir.length;t++)if(r=Ir[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Ir=null}return e}function Mh(e,t){do{var r=Ne;try{if(lu(),Ti.current=ta,ea){for(var n=ge.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ea=!1}if(qr=0,Le=Ce=ge=null,hs=!1,$s=0,wu.current=null,r===null||r.return===null){Pe=1,Ds=t,Ne=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=Ue,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Dc(a);if(v!==null){v.flags&=-257,zc(v,a,o,i,t),v.mode&1&&Ic(i,c,t),t=v,u=c;var w=t.updateQueue;if(w===null){var x=new Set;x.add(u),t.updateQueue=x}else w.add(u);break e}else{if(!(t&1)){Ic(i,c,t),Nu();break e}u=Error(L(426))}}else if(me&&o.mode&1){var N=Dc(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),zc(N,a,o,i,t),iu(Rn(u,o));break e}}i=u=Rn(u,o),Pe!==4&&(Pe=2),ps===null?ps=[i]:ps.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=kh(i,u,t);Rc(i,p);break e;case 1:o=u;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xr===null||!xr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Nh(i,o,t);Rc(i,j);break e}}i=i.return}while(i!==null)}Hh(r)}catch(S){t=S,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(!0)}function Vh(){var e=ra.current;return ra.current=ta,e===null?ta:e}function Nu(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Ae===null||!(Wr&268435455)&&!(Sa&268435455)||or(Ae,Ue)}function ia(e,t){var r=re;re|=2;var n=Vh();(Ae!==e||Ue!==t)&&(Mt=null,Fr(e,t));do try{d0();break}catch(s){Mh(e,s)}while(!0);if(lu(),re=r,ra.current=n,Ne!==null)throw Error(L(261));return Ae=null,Ue=0,Pe}function d0(){for(;Ne!==null;)Bh(Ne)}function f0(){for(;Ne!==null&&!Ip();)Bh(Ne)}function Bh(e){var t=Wh(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?Hh(e):Ne=t,wu.current=null}function Hh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=i0(r,t),r!==null){r.flags&=32767,Ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Ne=null;return}}else if(r=s0(r,t,it),r!==null){Ne=r;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Pe===0&&(Pe=5)}function Lr(e,t,r){var n=ie,s=pt.transition;try{pt.transition=null,ie=1,h0(e,t,r,n)}finally{pt.transition=s,ie=n}return null}function h0(e,t,r,n){do kn();while(fr!==null);if(re&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Gp(e,i),e===Ae&&(Ne=Ae=null,Ue=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vi||(vi=!0,Gh(Fi,function(){return kn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=pt.transition,pt.transition=null;var a=ie;ie=1;var o=re;re|=4,wu.current=null,l0(e,r),Dh(r,e),Lg(Ql),Vi=!!Jl,Ql=Jl=null,e.current=r,o0(r),Dp(),re=o,ie=a,pt.transition=i}else e.current=r;if(vi&&(vi=!1,fr=e,sa=s),i=e.pendingLanes,i===0&&(xr=null),Mp(r.stateNode),rt(e,_e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(na)throw na=!1,e=yo,yo=null,e;return sa&1&&e.tag!==0&&kn(),i=e.pendingLanes,i&1?e===vo?gs++:(gs=0,vo=e):gs=0,Er(),null}function kn(){if(fr!==null){var e=kf(sa),t=pt.transition,r=ie;try{if(pt.transition=null,ie=16>e?16:e,fr===null)var n=!1;else{if(e=fr,fr=null,sa=0,re&6)throw Error(L(331));var s=re;for(re|=4,F=e.current;F!==null;){var i=F,a=i.child;if(F.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(F=c;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:ms(8,d,i)}var f=d.child;if(f!==null)f.return=d,F=f;else for(;F!==null;){d=F;var h=d.sibling,v=d.return;if($h(d),d===c){F=null;break}if(h!==null){h.return=v,F=h;break}F=v}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}F=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,F=a;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ms(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,F=p;break e}F=i.return}}var m=e.current;for(F=m;F!==null;){a=F;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,F=g;else e:for(a=m;F!==null;){if(o=F,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Na(9,o)}}catch(S){xe(o,o.return,S)}if(o===a){F=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,F=j;break e}F=o.return}}if(re=s,Er(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(ya,e)}catch{}n=!0}return n}finally{ie=r,pt.transition=t}}return!1}function Zc(e,t,r){t=Rn(r,t),t=kh(e,t,1),e=vr(e,t,1),t=He(),e!==null&&(Hs(e,1,t),rt(e,t))}function xe(e,t,r){if(e.tag===3)Zc(e,e,r);else for(;t!==null;){if(t.tag===3){Zc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xr===null||!xr.has(n))){e=Rn(r,e),e=Nh(t,e,1),t=vr(t,e,1),e=He(),t!==null&&(Hs(t,1,e),rt(t,e));break}}t=t.return}}function m0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&r,Ae===e&&(Ue&r)===r&&(Pe===4||Pe===3&&(Ue&130023424)===Ue&&500>_e()-bu?Fr(e,0):_u|=r),rt(e,t)}function qh(e,t){t===0&&(e.mode&1?(t=oi,oi<<=1,!(oi&130023424)&&(oi=4194304)):t=1);var r=He();e=Xt(e,t),e!==null&&(Hs(e,t,r),rt(e,r))}function p0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qh(e,r)}function g0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),qh(e,r)}var Wh;Wh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ze=!1,n0(e,t,r);Ze=!!(e.flags&131072)}else Ze=!1,me&&t.flags&1048576&&Qf(t,Ji,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Oi(e,t),e=t.pendingProps;var s=En(t,Me.current);jn(t,r),s=pu(null,t,n,e,s,r);var i=gu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(n)?(i=!0,Gi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cu(t),s.updater=ka,t.stateNode=s,s._reactInternals=t,io(t,n,e,r),t=oo(null,t,n,!0,i,r)):(t.tag=0,me&&i&&nu(t),Ve(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Oi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=v0(n),e=bt(n,e),s){case 0:t=lo(null,t,n,e,r);break e;case 1:t=Vc(null,t,n,e,r);break e;case 11:t=Fc(null,t,n,e,r);break e;case 14:t=Mc(null,t,n,bt(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:bt(n,s),lo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:bt(n,s),Vc(e,t,n,s,r);case 3:e:{if(Ph(t),e===null)throw Error(L(387));n=t.pendingProps,i=t.memoizedState,s=i.element,rh(e,t),Zi(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Rn(Error(L(423)),t),t=Bc(e,t,n,r,s);break e}else if(n!==s){s=Rn(Error(L(424)),t),t=Bc(e,t,n,r,s);break e}else for(at=yr(t.stateNode.containerInfo.firstChild),lt=t,me=!0,Nt=null,r=eh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cn(),n===s){t=Zt(e,t,r);break e}Ve(e,t,n,r)}t=t.child}return t;case 5:return nh(t),e===null&&ro(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Xl(n,s)?a=null:i!==null&&Xl(n,i)&&(t.flags|=32),Ch(e,t),Ve(e,t,a,r),t.child;case 6:return e===null&&ro(t),null;case 13:return Th(e,t,r);case 4:return du(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Pn(t,null,n,r):Ve(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:bt(n,s),Fc(e,t,n,s,r);case 7:return Ve(e,t,t.pendingProps,r),t.child;case 8:return Ve(e,t,t.pendingProps.children,r),t.child;case 12:return Ve(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,oe(Qi,n._currentValue),n._currentValue=a,i!==null)if(Tt(i.value,a)){if(i.children===s.children&&!et.current){t=Zt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Kt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),no(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(L(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),no(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ve(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,jn(t,r),s=yt(s),n=n(s),t.flags|=1,Ve(e,t,n,r),t.child;case 14:return n=t.type,s=bt(n,t.pendingProps),s=bt(n.type,s),Mc(e,t,n,s,r);case 15:return Sh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:bt(n,s),Oi(e,t),t.tag=1,tt(n)?(e=!0,Gi(t)):e=!1,jn(t,r),jh(t,n,s),io(t,n,s,r),oo(null,t,n,!0,e,r);case 19:return Rh(e,t,r);case 22:return Eh(e,t,r)}throw Error(L(156,t.tag))};function Gh(e,t){return wf(e,t)}function y0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,r,n){return new y0(e,t,r,n)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v0(e){if(typeof e=="function")return Su(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qo)return 11;if(e===Wo)return 14}return 2}function _r(e,t){var r=e.alternate;return r===null?(r=mt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $i(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Su(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case on:return Mr(r.children,s,i,t);case Ho:a=8,s|=8;break;case Pl:return e=mt(12,r,t,s|2),e.elementType=Pl,e.lanes=i,e;case Tl:return e=mt(13,r,t,s),e.elementType=Tl,e.lanes=i,e;case Rl:return e=mt(19,r,t,s),e.elementType=Rl,e.lanes=i,e;case rf:return Ea(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ef:a=10;break e;case tf:a=9;break e;case qo:a=11;break e;case Wo:a=14;break e;case sr:a=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=mt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Mr(e,t,r,n){return e=mt(7,e,n,t),e.lanes=r,e}function Ea(e,t,r,n){return e=mt(22,e,n,t),e.elementType=rf,e.lanes=r,e.stateNode={isHidden:!1},e}function yl(e,t,r){return e=mt(6,e,null,t),e.lanes=r,e}function vl(e,t,r){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function x0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Za(0),this.expirationTimes=Za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Eu(e,t,r,n,s,i,a,o,u){return e=new x0(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cu(i),e}function w0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ln,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Kh(e){if(!e)return kr;e=e._reactInternals;e:{if(Jr(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(tt(r))return Kf(e,r,t)}return t}function Jh(e,t,r,n,s,i,a,o,u){return e=Eu(r,n,!0,e,s,i,a,o,u),e.context=Kh(null),r=e.current,n=He(),s=wr(r),i=Kt(n,s),i.callback=t??null,vr(r,i,s),e.current.lanes=s,Hs(e,s,n),rt(e,n),e}function Ca(e,t,r,n){var s=t.current,i=He(),a=wr(s);return r=Kh(r),t.context===null?t.context=r:t.pendingContext=r,t=Kt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=vr(s,t,a),e!==null&&(Pt(e,s,a,i),Pi(e,s,a)),a}function aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cu(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function _0(){return null}var Qh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pu(e){this._internalRoot=e}Pa.prototype.render=Pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Ca(e,t,null,null)};Pa.prototype.unmount=Pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gr(function(){Ca(null,e,null,null)}),t[Qt]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ef();e={blockedOn:null,target:e,priority:t};for(var r=0;r<lr.length&&t!==0&&t<lr[r].priority;r++);lr.splice(r,0,e),r===0&&Pf(e)}};function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ed(){}function b0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=aa(a);i.call(c)}}var a=Jh(t,n,e,0,null,!1,!1,"",ed);return e._reactRootContainer=a,e[Qt]=a.current,Ts(e.nodeType===8?e.parentNode:e),Gr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=aa(u);o.call(c)}}var u=Eu(e,0,!1,null,null,!1,!1,"",ed);return e._reactRootContainer=u,e[Qt]=u.current,Ts(e.nodeType===8?e.parentNode:e),Gr(function(){Ca(t,u,r,n)}),u}function Ra(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=aa(a);o.call(u)}}Ca(t,a,e,s)}else a=b0(r,t,e,s,n);return aa(a)}Nf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=is(t.pendingLanes);r!==0&&(Jo(t,r|1),rt(t,_e()),!(re&6)&&(On=_e()+500,Er()))}break;case 13:Gr(function(){var n=Xt(e,1);if(n!==null){var s=He();Pt(n,e,1,s)}}),Cu(e,1)}};Qo=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var r=He();Pt(t,e,134217728,r)}Cu(e,134217728)}};Sf=function(e){if(e.tag===13){var t=wr(e),r=Xt(e,t);if(r!==null){var n=He();Pt(r,e,t,n)}Cu(e,t)}};Ef=function(){return ie};Cf=function(e,t){var r=ie;try{return ie=e,t()}finally{ie=r}};Ml=function(e,t,r){switch(t){case"input":if(Al(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=_a(n);if(!s)throw Error(L(90));sf(n),Al(n,s)}}}break;case"textarea":lf(e,r);break;case"select":t=r.value,t!=null&&xn(e,!!r.multiple,t,!1)}};mf=ju;pf=Gr;var j0={usingClientEntryPoint:!1,Events:[Ws,fn,_a,ff,hf,ju]},Yn={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k0={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vf(e),e===null?null:e.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||_0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xi.isDisabled&&xi.supportsFiber)try{ya=xi.inject(k0),It=xi}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j0;ut.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tu(t))throw Error(L(200));return w0(e,t,null,r)};ut.createRoot=function(e,t){if(!Tu(e))throw Error(L(299));var r=!1,n="",s=Qh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Eu(e,1,!1,null,null,r,!1,n,s),e[Qt]=t.current,Ts(e.nodeType===8?e.parentNode:e),new Pu(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=vf(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return Gr(e)};ut.hydrate=function(e,t,r){if(!Ta(t))throw Error(L(200));return Ra(null,e,t,!0,r)};ut.hydrateRoot=function(e,t,r){if(!Tu(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Qh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Jh(t,null,e,1,r??null,s,!1,i,a),e[Qt]=t.current,Ts(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Pa(t)};ut.render=function(e,t,r){if(!Ta(t))throw Error(L(200));return Ra(null,e,t,!1,r)};ut.unmountComponentAtNode=function(e){if(!Ta(e))throw Error(L(40));return e._reactRootContainer?(Gr(function(){Ra(null,null,e,!1,function(){e._reactRootContainer=null,e[Qt]=null})}),!0):!1};ut.unstable_batchedUpdates=ju;ut.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ta(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Ra(e,t,r,!1,n)};ut.version="18.3.1-next-f1338f8080-20240426";function Xh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xh)}catch(e){console.error(e)}}Xh(),Qd.exports=ut;var N0=Qd.exports,Zh,td=N0;Zh=td.createRoot,td.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(this,arguments)}var hr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hr||(hr={}));const rd="popstate";function S0(e){e===void 0&&(e={});function t(s,i){let{pathname:a="/",search:o="",hash:u=""}=Qr(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),_o("",{pathname:a,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let a=s.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let u=s.location.href,c=u.indexOf("#");o=c===-1?u:u.slice(0,c)}return o+"#"+(typeof i=="string"?i:la(i))}function n(s,i){Ru(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return C0(t,r,n,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ru(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E0(){return Math.random().toString(36).substr(2,8)}function nd(e,t){return{usr:e.state,key:e.key,idx:t}}function _o(e,t,r,n){return r===void 0&&(r=null),zs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qr(t):t,{state:r,key:t&&t.key||n||E0()})}function la(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function C0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=hr.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(zs({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=hr.Pop;let N=d(),p=N==null?null:N-c;c=N,u&&u({action:o,location:x.location,delta:p})}function h(N,p){o=hr.Push;let m=_o(x.location,N,p);r&&r(m,N),c=d()+1;let g=nd(m,c),j=x.createHref(m);try{a.pushState(g,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}i&&u&&u({action:o,location:x.location,delta:1})}function v(N,p){o=hr.Replace;let m=_o(x.location,N,p);r&&r(m,N),c=d();let g=nd(m,c),j=x.createHref(m);a.replaceState(g,"",j),i&&u&&u({action:o,location:x.location,delta:0})}function w(N){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof N=="string"?N:la(N);return m=m.replace(/ $/,"%20"),we(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let x={get action(){return o},get location(){return e(s,a)},listen(N){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(rd,f),u=N,()=>{s.removeEventListener(rd,f),u=null}},createHref(N){return t(s,N)},createURL:w,encodeLocation(N){let p=w(N);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:v,go(N){return a.go(N)}};return x}var sd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sd||(sd={}));function P0(e,t,r){return r===void 0&&(r="/"),T0(e,t,r,!1)}function T0(e,t,r,n){let s=typeof t=="string"?Qr(t):t,i=Ln(s.pathname||"/",r);if(i==null)return null;let a=Yh(e);R0(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=V0(i);o=F0(a[u],c,n)}return o}function Yh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(we(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=br([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(we(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Yh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:D0(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let u of em(i.path))s(i,a,u)}),t}function em(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=em(n.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function R0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:z0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const O0=/^:[\w-]+$/,L0=3,A0=2,$0=1,U0=10,I0=-2,id=e=>e==="*";function D0(e,t){let r=e.split("/"),n=r.length;return r.some(id)&&(n+=I0),t&&(n+=A0),r.filter(s=>!id(s)).reduce((s,i)=>s+(O0.test(i)?L0:i===""?$0:U0),n)}function z0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function F0(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=oa({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=oa({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:br([i,f.pathname]),pathnameBase:W0(br([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=br([i,f.pathnameBase]))}return a}function oa(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=M0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:v}=d;if(h==="*"){let x=o[f]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const w=o[f];return v&&!w?c[h]=void 0:c[h]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function M0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ru(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function V0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ru(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ln(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function B0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Qr(e):e;return{pathname:r?r.startsWith("/")?r:H0(r,t):t,search:G0(n),hash:K0(s)}}function H0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function xl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function tm(e,t){let r=q0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rm(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Qr(e):(s=zs({},e),we(!s.pathname||!s.pathname.includes("?"),xl("?","pathname","search",s)),we(!s.pathname||!s.pathname.includes("#"),xl("#","pathname","hash",s)),we(!s.search||!s.search.includes("#"),xl("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let u=B0(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const br=e=>e.join("/").replace(/\/\/+/g,"/"),W0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function J0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nm=["post","put","patch","delete"];new Set(nm);const Q0=["get",...nm];new Set(Q0);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fs.apply(this,arguments)}const Oa=_.createContext(null),sm=_.createContext(null),Cr=_.createContext(null),La=_.createContext(null),Pr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),im=_.createContext(null);function X0(e,t){let{relative:r}=t===void 0?{}:t;Ks()||we(!1);let{basename:n,navigator:s}=_.useContext(Cr),{hash:i,pathname:a,search:o}=Aa(e,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:br([n,a])),s.createHref({pathname:u,search:o,hash:i})}function Ks(){return _.useContext(La)!=null}function Js(){return Ks()||we(!1),_.useContext(La).location}function am(e){_.useContext(Cr).static||_.useLayoutEffect(e)}function er(){let{isDataRoute:e}=_.useContext(Pr);return e?dy():Z0()}function Z0(){Ks()||we(!1);let e=_.useContext(Oa),{basename:t,future:r,navigator:n}=_.useContext(Cr),{matches:s}=_.useContext(Pr),{pathname:i}=Js(),a=JSON.stringify(tm(s,r.v7_relativeSplatPath)),o=_.useRef(!1);return am(()=>{o.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=rm(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:br([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,i,e])}function Y0(){let{matches:e}=_.useContext(Pr),t=e[e.length-1];return t?t.params:{}}function Aa(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(Cr),{matches:s}=_.useContext(Pr),{pathname:i}=Js(),a=JSON.stringify(tm(s,n.v7_relativeSplatPath));return _.useMemo(()=>rm(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function ey(e,t){return ty(e,t)}function ty(e,t,r,n){Ks()||we(!1);let{navigator:s,static:i}=_.useContext(Cr),{matches:a}=_.useContext(Pr),o=a[a.length-1],u=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Js(),f;if(t){var h;let p=typeof t=="string"?Qr(t):t;c==="/"||(h=p.pathname)!=null&&h.startsWith(c)||we(!1),f=p}else f=d;let v=f.pathname||"/",w=v;if(c!=="/"){let p=c.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(p.length).join("/")}let x=!i&&r&&r.matches&&r.matches.length>0?r.matches:P0(e,{pathname:w}),N=ay(x&&x.map(p=>Object.assign({},p,{params:Object.assign({},u,p.params),pathname:br([c,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:br([c,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,r,n);return t&&N?_.createElement(La.Provider,{value:{location:Fs({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:hr.Pop}},N):N}function ry(){let e=cy(),t=J0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:s},r):null,null)}const ny=_.createElement(ry,null);class sy extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(Pr.Provider,{value:this.props.routeContext},_.createElement(im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iy(e){let{routeContext:t,match:r,children:n}=e,s=_.useContext(Oa);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Pr.Provider,{value:t},n)}function ay(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||we(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:v}=r,w=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||w){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let v,w=!1,x=null,N=null;r&&(v=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||ny,u&&(c<0&&h===0?(w=!0,N=null):c===h&&(w=!0,N=f.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,h+1)),m=()=>{let g;return v?g=x:w?g=N:f.route.Component?g=_.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,_.createElement(iy,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(sy,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var lm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lm||{}),ua=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ua||{});function ly(e){let t=_.useContext(Oa);return t||we(!1),t}function oy(e){let t=_.useContext(sm);return t||we(!1),t}function uy(e){let t=_.useContext(Pr);return t||we(!1),t}function om(e){let t=uy(),r=t.matches[t.matches.length-1];return r.route.id||we(!1),r.route.id}function cy(){var e;let t=_.useContext(im),r=oy(ua.UseRouteError),n=om(ua.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function dy(){let{router:e}=ly(lm.UseNavigateStable),t=om(ua.UseNavigateStable),r=_.useRef(!1);return am(()=>{r.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Fs({fromRouteId:t},i)))},[e,t])}function fy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _t(e){we(!1)}function hy(e){let{basename:t="/",children:r=null,location:n,navigationType:s=hr.Pop,navigator:i,static:a=!1,future:o}=e;Ks()&&we(!1);let u=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:u,navigator:i,static:a,future:Fs({v7_relativeSplatPath:!1},o)}),[u,o,i,a]);typeof n=="string"&&(n=Qr(n));let{pathname:d="/",search:f="",hash:h="",state:v=null,key:w="default"}=n,x=_.useMemo(()=>{let N=Ln(d,u);return N==null?null:{location:{pathname:N,search:f,hash:h,state:v,key:w},navigationType:s}},[u,d,f,h,v,w,s]);return x==null?null:_.createElement(Cr.Provider,{value:c},_.createElement(La.Provider,{children:r,value:x}))}function my(e){let{children:t,location:r}=e;return ey(bo(t),r)}new Promise(()=>{});function bo(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,s)=>{if(!_.isValidElement(n))return;let i=[...t,s];if(n.type===_.Fragment){r.push.apply(r,bo(n.props.children,i));return}n.type!==_t&&we(!1),!n.props.index||!n.props.children||we(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=bo(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ca.apply(this,arguments)}function um(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function py(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gy(e,t){return e.button===0&&(!t||t==="_self")&&!py(e)}const yy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vy=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],xy="6";try{window.__reactRouterVersion=xy}catch{}const wy=_.createContext({isTransitioning:!1}),_y="startTransition",ad=mp[_y];function by(e){let{basename:t,children:r,future:n,window:s}=e,i=_.useRef();i.current==null&&(i.current=S0({window:s,v5Compat:!0}));let a=i.current,[o,u]=_.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=_.useCallback(f=>{c&&ad?ad(()=>u(f)):u(f)},[u,c]);return _.useLayoutEffect(()=>a.listen(d),[a,d]),_.useEffect(()=>fy(n),[n]),_.createElement(hy,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ky=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ms=_.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:u,to:c,preventScrollReset:d,viewTransition:f}=t,h=um(t,yy),{basename:v}=_.useContext(Cr),w,x=!1;if(typeof c=="string"&&ky.test(c)&&(w=c,jy))try{let g=new URL(window.location.href),j=c.startsWith("//")?new URL(g.protocol+c):new URL(c),S=Ln(j.pathname,v);j.origin===g.origin&&S!=null?c=S+j.search+j.hash:x=!0}catch{}let N=X0(c,{relative:s}),p=Sy(c,{replace:a,state:o,target:u,preventScrollReset:d,relative:s,viewTransition:f});function m(g){n&&n(g),g.defaultPrevented||p(g)}return _.createElement("a",ca({},h,{href:w||N,onClick:x||i?n:m,ref:r,target:u}))}),en=_.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:c,children:d}=t,f=um(t,vy),h=Aa(u,{relative:f.relative}),v=Js(),w=_.useContext(sm),{navigator:x,basename:N}=_.useContext(Cr),p=w!=null&&Ey(h)&&c===!0,m=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,g=v.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(g=g.toLowerCase(),j=j?j.toLowerCase():null,m=m.toLowerCase()),j&&N&&(j=Ln(j,N)||j);const S=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let I=g===m||!a&&g.startsWith(m)&&g.charAt(S)==="/",C=j!=null&&(j===m||!a&&j.startsWith(m)&&j.charAt(m.length)==="/"),P={isActive:I,isPending:C,isTransitioning:p},B=I?n:void 0,A;typeof i=="function"?A=i(P):A=[i,I?"active":null,C?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(P):o;return _.createElement(Ms,ca({},f,{"aria-current":B,className:A,ref:r,style:T,to:u,viewTransition:c}),typeof d=="function"?d(P):d)});var jo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jo||(jo={}));var ld;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ld||(ld={}));function Ny(e){let t=_.useContext(Oa);return t||we(!1),t}function Sy(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,u=er(),c=Js(),d=Aa(e,{relative:a});return _.useCallback(f=>{if(gy(f,r)){f.preventDefault();let h=n!==void 0?n:la(c)===la(d);u(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,u,d,n,s,r,e,i,a,o])}function Ey(e,t){t===void 0&&(t={});let r=_.useContext(wy);r==null&&we(!1);let{basename:n}=Ny(jo.useViewTransitionState),s=Aa(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Ln(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Ln(r.nextLocation.pathname,n)||r.nextLocation.pathname;return oa(s.pathname,a)!=null||oa(s.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(e,t)=>{const r=_.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,...c},d)=>_.createElement("svg",{ref:d,...Cy,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Py(e)}`,o].join(" "),...c},[...t.map(([f,h])=>_.createElement(f,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=G("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=G("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=G("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=G("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=G("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=G("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=G("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=G("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=G("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=G("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=G("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=G("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=G("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=G("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=G("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=G("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=G("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=G("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=G("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=G("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=G("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=G("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=G("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=G("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=G("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=G("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=G("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=G("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=G("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=G("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=G("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),tv="modulepreload",rv=function(e){return"/Nexus/"+e},dd={},Un=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=rv(u),u in dd)return;dd[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":tv,c||(f.as="script"),f.crossOrigin="",f.href=u,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,v)=>{f.addEventListener("load",h),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},nv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Un(async()=>{const{default:n}=await Promise.resolve().then(()=>Mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Au extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class sv extends Au{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class iv extends Au{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class av extends Au{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Co;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Co||(Co={}));var lv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class ov{constructor(t,{headers:r={},customFetch:n,region:s=Co.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=nv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return lv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(o["x-region"]=u);let c;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:c}).catch(w=>{throw new sv(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new iv(d);if(!d.ok)throw new av(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield d.json():h==="application/octet-stream"?v=yield d.blob():h==="text/event-stream"?v=d:h==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Xe={},$u={},$a={},Qs={},Ua={},Ia={},uv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},In=uv();const cv=In.fetch,gm=In.fetch.bind(In),ym=In.Headers,dv=In.Request,fv=In.Response,Mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:ym,Request:dv,Response:fv,default:gm,fetch:cv},Symbol.toStringTag,{value:"Module"})),hv=Zm(Mn);var Da={};Object.defineProperty(Da,"__esModule",{value:!0});let mv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Da.default=mv;var vm=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ia,"__esModule",{value:!0});const pv=vm(hv),gv=vm(Da);let yv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=pv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,u;let c=null,d=null,f=null,h=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),N=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");x&&N&&N.length>1&&(f=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,v="OK")}catch{i.status===404&&x===""?(h=204,v="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,h=200,v="OK"),c&&this.shouldThrowOnError)throw new gv.default(c)}return{error:c,data:d,count:f,status:h,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ia.default=yv;var vv=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ua,"__esModule",{value:!0});const xv=vv(Ia);let wv=class extends xv.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ua.default=wv;var _v=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qs,"__esModule",{value:!0});const bv=_v(Ua);let jv=class extends bv.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Qs.default=jv;var kv=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($a,"__esModule",{value:!0});const es=kv(Qs);let Nv=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new es.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(a.length>0){const o=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new es.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new es.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new es.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new es.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$a.default=Nv;var za={},Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.version=void 0;Fa.version="0.0.0-automated";Object.defineProperty(za,"__esModule",{value:!0});za.DEFAULT_HEADERS=void 0;const Sv=Fa;za.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Sv.version}`};var xm=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($u,"__esModule",{value:!0});const Ev=xm($a),Cv=xm(Qs),Pv=za;let Tv=class wm{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Pv.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Ev.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Cv.default({method:a,url:o,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};$u.default=Tv;var Vn=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const _m=Vn($u);Xe.PostgrestClient=_m.default;const bm=Vn($a);Xe.PostgrestQueryBuilder=bm.default;const jm=Vn(Qs);Xe.PostgrestFilterBuilder=jm.default;const km=Vn(Ua);Xe.PostgrestTransformBuilder=km.default;const Nm=Vn(Ia);Xe.PostgrestBuilder=Nm.default;const Sm=Vn(Da);Xe.PostgrestError=Sm.default;var Rv=Xe.default={PostgrestClient:_m.default,PostgrestQueryBuilder:bm.default,PostgrestFilterBuilder:jm.default,PostgrestTransformBuilder:km.default,PostgrestBuilder:Nm.default,PostgrestError:Sm.default};const{PostgrestClient:Ov,PostgrestQueryBuilder:d1,PostgrestFilterBuilder:f1,PostgrestTransformBuilder:h1,PostgrestBuilder:m1,PostgrestError:p1}=Rv,Lv="2.11.2",Av={"X-Client-Info":`realtime-js/${Lv}`},$v="1.0.0",Em=1e4,Uv=1e3;var Nn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Nn||(Nn={}));var st;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(st||(st={}));var kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kt||(kt={}));var Po;(function(e){e.websocket="websocket"})(Po||(Po={}));var $r;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($r||($r={}));class Iv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const u=n.decode(t.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:u,payload:c}}}class Cm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(le||(le={}));const fd=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=Dv(a,e,t,s),i),{})},Dv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Pm(i,a):To(a)},Pm=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Vv(t,r)}switch(e){case le.bool:return zv(t);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return Fv(t);case le.json:case le.jsonb:return Mv(t);case le.timestamp:return Bv(t);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return To(t);default:return To(t)}},To=e=>e,zv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Fv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Mv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Vv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Pm(t,o))}return e},Bv=e=>typeof e=="string"?e.replace(" ","T"):e,Tm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class _l{constructor(t,r,n={},s=Em){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hd||(hd={}));class ys{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ys.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=ys.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ys.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const h=d.map(N=>N.presence_ref),v=f.map(N=>N.presence_ref),w=d.filter(N=>v.indexOf(N.presence_ref)<0),x=f.filter(N=>h.indexOf(N.presence_ref)<0);w.length>0&&(o[c]=w),x.length>0&&(u[c]=x)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(u),d.length>0){const f=t[o].map(v=>v.presence_ref),h=d.filter(v=>f.indexOf(v.presence_ref)<0);t[o].unshift(...h)}n(o,d,u)}),this.map(a,(o,u)=>{let c=t[o];if(!c)return;const d=u.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=c,s(o,c,u),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var md;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(md||(md={}));var pd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pd||(pd={}));var Vt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vt||(Vt={}));class Uu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _l(this,kt.join,this.params,this.timeout),this.rejoinTimer=new Cm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ys(this),this.broadcastEndpointURL=Tm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(Vt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Vt.CLOSED));const u={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Vt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,v=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let x=0;x<v;x++){const N=h[x],{filter:{event:p,schema:m,table:g,filter:j}}=N,S=d&&d[x];if(S&&S.event===p&&S.schema===m&&S.table===g&&S.filter===j)w.push(Object.assign(Object.assign({},N),{id:S.id}));else{this.unsubscribe(),t==null||t(Vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Vt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=st.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new _l(this,kt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _l(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:c,join:d}=kt;if(n&&[o,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,x,N;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((N=(x=v.filter)===null||x===void 0?void 0:x.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===a}).map(v=>v.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var w,x,N,p,m,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const j=v.id,S=(w=v.filter)===null||w===void 0?void 0:w.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const j=(m=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return j==="*"||j===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:x,table:N,commit_timestamp:p,type:m,errors:g}=w;h=Object.assign(Object.assign({},{schema:x,table:N,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(w))}v.callback(h,n)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Uu.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kt.close,{},t)}_onError(t){this._on(kt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=fd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=fd(t.columns,t.old_record)),r}}const Hv=()=>{},qv=typeof WebSocket<"u",Wv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Av,this.params={},this.timeout=Em,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Hv,this.conn=null,this.sendBuffer=[],this.serializer=new Iv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Un(async()=>{const{default:u}=await Promise.resolve().then(()=>Mn);return{default:u}},void 0).then(({default:u})=>u(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${Po.websocket}`,this.httpEndpoint=Tm(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Cm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(qv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Kv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Un(async()=>{const{default:t}=await import("./browser-is38jysZ.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$v}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nn.connecting:return $r.Connecting;case Nn.open:return $r.Open;case Nn.closing:return $r.Closing;default:return $r.Closed}}isConnected(){return this.connectionState()===$r.Open}channel(t,r={config:{}}){const n=new Uu(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(kt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Uv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(kt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Wv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Kv{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Nn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Iu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Jv extends Iu{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ro extends Iu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Qv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Rm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Un(async()=>{const{default:n}=await Promise.resolve().then(()=>Mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Xv=()=>Qv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Un(()=>Promise.resolve().then(()=>Mn),void 0)).Response:Response}),Oo=e=>{if(Array.isArray(e))return e.map(r=>Oo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Oo(n)}),t};var Xr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const bl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zv=(e,t,r)=>Xr(void 0,void 0,void 0,function*(){const n=yield Xv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Jv(bl(s),e.status||500))}).catch(s=>{t(new Ro(bl(s),s))}):t(new Ro(bl(e),e))}),Yv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Xs(e,t,r,n,s,i){return Xr(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,Yv(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>Zv(u,o,n))})})}function fa(e,t,r,n){return Xr(this,void 0,void 0,function*(){return Xs(e,"GET",t,r,n)})}function ar(e,t,r,n,s){return Xr(this,void 0,void 0,function*(){return Xs(e,"POST",t,n,s,r)})}function ex(e,t,r,n,s){return Xr(this,void 0,void 0,function*(){return Xs(e,"PUT",t,n,s,r)})}function tx(e,t,r,n){return Xr(this,void 0,void 0,function*(){return Xs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Om(e,t,r,n,s){return Xr(this,void 0,void 0,function*(){return Xs(e,"DELETE",t,n,s,r)})}var Ke=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const rx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nx{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Rm(s)}uploadOrUpdate(t,r,n,s){return Ke(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},gd),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Oe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:gd.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:u,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(u){if(Oe(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ar(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Iu("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ke(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ke(this,void 0,void 0,function*(){try{return{data:{path:(yield ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield ar(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ke(this,void 0,void 0,function*(){try{const s=yield ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}download(t,r){return Ke(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield fa(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}info(t){return Ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield fa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Oo(n),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}exists(t){return Ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield tx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Oe(n)&&n instanceof Ro){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Om(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},rx),r),{prefix:t||""});return{data:yield ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const sx="2.7.1",ix={"X-Client-Info":`storage-js/${sx}`};var tn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class ax{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},ix),r),this.fetch=Rm(n)}listBuckets(){return tn(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Oe(t))return{data:null,error:t};throw t}})}getBucket(t){return tn(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return tn(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return tn(this,void 0,void 0,function*(){try{return{data:yield ex(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return tn(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return tn(this,void 0,void 0,function*(){try{return{data:yield Om(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}}class lx extends ax{constructor(t,r={},n){super(t,r,n)}from(t){return new nx(this.url,this.headers,t,this.fetch)}}const ox="2.49.4";let ls="";typeof Deno<"u"?ls="deno":typeof document<"u"?ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ls="react-native":ls="node";const ux={"X-Client-Info":`supabase-js-${ls}/${ox}`},cx={headers:ux},dx={schema:"public"},fx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hx={};var mx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const px=e=>{let t;return e?t=e:typeof fetch>"u"?t=gm:t=fetch,(...r)=>t(...r)},gx=()=>typeof Headers>"u"?ym:Headers,yx=(e,t,r)=>{const n=px(r),s=gx();return(i,a)=>mx(void 0,void 0,void 0,function*(){var o;const u=(o=yield t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var vx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};function xx(e){return e.replace(/\/$/,"")}function wx(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:a,auth:o,realtime:u,global:c}=t,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>vx(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Lm="2.69.1",an=30*1e3,Lo=3,jl=Lo*an,_x="http://localhost:9999",bx="supabase.auth.token",jx={"X-Client-Info":`gotrue-js/${Lm}`},Ao="X-Supabase-Api-Version",Am={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Nx=6e5;class Du extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Sx extends Du{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ex(e){return Q(e)&&e.name==="AuthApiError"}class $m extends Du{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Tr extends Du{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class rr extends Tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cx(e){return Q(e)&&e.name==="AuthSessionMissingError"}class kl extends Tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wi extends Tr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _i extends Tr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Px(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class yd extends Tr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $o extends Tr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Nl(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class vd extends Tr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class vs extends Tr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wd=` 	
\r=`.split(""),Tx=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wd.length;t+=1)e[wd[t].charCodeAt(0)]=-2;for(let t=0;t<xd.length;t+=1)e[xd[t].charCodeAt(0)]=t;return e})();function Um(e,t,r){const n=Tx[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _d(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Lx(a,n,r)};for(let a=0;a<e.length;a+=1)Um(e.charCodeAt(a),s,i);return t.join("")}function Rx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ox(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Rx(n,t)}}function Lx(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ax(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Um(e.charCodeAt(s),r,n);return new Uint8Array(t)}function $x(e){const t=[];return Ox(e,r=>t.push(r)),new Uint8Array(t)}function Ux(e){return Math.round(Date.now()/1e3)+e}function Ix(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ot=()=>typeof window<"u"&&typeof document<"u",Rr={tested:!1,writable:!1},xs=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rr.tested)return Rr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Rr.tested=!0,Rr.writable=!0}catch{Rr.tested=!0,Rr.writable=!1}return Rr.writable};function Dx(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Im=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Un(async()=>{const{default:n}=await Promise.resolve().then(()=>Mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Dm=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},bi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ji=async(e,t)=>{await e.removeItem(t)};class Ma{constructor(){this.promise=new Ma.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ma.promiseConstructor=Promise;function Sl(e){const t=e.split(".");if(t.length!==3)throw new vs("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!kx.test(t[n]))throw new vs("JWT not in base64url format");return{header:JSON.parse(_d(t[0])),payload:JSON.parse(_d(t[1])),signature:Ax(t[2]),raw:{header:t[0],payload:t[1]}}}async function Fx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Mx(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Vx(e){return("0"+e.toString(16)).substr(-2)}function Bx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Vx).join("")}async function Hx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function qx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Hx(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rn(e,t,r=!1){const n=Bx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Dm(e,`${t}-code-verifier`,s);const i=await qx(n);return[i,n===i?"plain":"s256"]}const Wx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gx(e){const t=e.headers.get(Ao);if(!t||!t.match(Wx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Kx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Jx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Qx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ar=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xx=[502,503,504];async function bd(e){var t;if(!zx(e))throw new $o(Ar(e),0);if(Xx.includes(e.status))throw new $o(Ar(e),e.status);let r;try{r=await e.json()}catch(i){throw new $m(Ar(i),i)}let n;const s=Gx(e);if(s&&s.getTime()>=Am["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new vd(Ar(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new rr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new vd(Ar(r),e.status,r.weak_password.reasons);throw new Sx(Ar(r),e.status||500,n)}const Zx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Y(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ao]||(i[Ao]=Am["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Yx(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Yx(e,t,r,n,s,i){const a=Zx(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new $o(Ar(u),0)}if(o.ok||await bd(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await bd(u)}}function nr(e){var t;let r=null;nw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ux(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function jd(e){const t=nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ur(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ew(e){return{data:e,error:null}}function tw(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Qx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function rw(e){return e}function nw(e){return e.access_token&&e.refresh_token&&e.expires_in}var sw=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class iw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Im(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ur})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=sw(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:tw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ur})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rw});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(w.split(";")[1].split("=")[1]);c[`${N}Page`]=x}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Q(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ur})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ur})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ur})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Y(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}const aw={getItem:e=>xs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{xs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{xs()&&globalThis.localStorage.removeItem(e)}};function kd(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function lw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const nn={debug:!!(globalThis&&xs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ow extends zm{}async function uw(e,t,r){nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ow(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(nn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}lw();const cw={url:_x,storageKey:bx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Nd(e,t,r){return await r()}class Vs{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vs.nextInstanceID,Vs.nextInstanceID+=1,this.instanceID>0&&Ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},cw),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new iw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Im(s.fetch),this.lock=s.lock||Nd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ot()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=uw:this.lock=Nd,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:xs()?this.storage=aw:(this.memoryStorage={},this.storage=kd(this.memoryStorage)):(this.memoryStorage={},this.storage=kd(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Dx(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ot()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Px(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Q(r)?{error:r}:{error:new $m("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:nr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await rn(this.storage,this.storageKey)),i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:w},xform:nr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:nr})}else throw new wi("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:jd})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:jd})}else throw new wi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new kl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await bi(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:nr});if(await ji(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new kl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nr}),{data:u,error:c}=o;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new kl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await rn(this.storage,this.storageKey));const{error:f}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:u}=t,{data:c,error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new wi("You must provide either an email or phone number.")}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:nr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await rn(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:ew})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new rr;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new wi("You must provide either an email or phone number and a type")}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await bi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<jl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ur}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rr}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ur})})}catch(r){if(Q(r))return Cx(r)&&(await this._removeSession(),await ji(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new rr;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await rn(this.storage,this.storageKey));const{data:c,error:d}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:ur});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Sl(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new rr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ot())throw new _i("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _i(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _i("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yd("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:c}=t;if(!i||!o||!a||!c)throw new _i("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;u&&(h=parseInt(u));const v=h-d;v*1e3<=an&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:x,error:N}=await this._getUser(i);if(N)throw N;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(Q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await bi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Ex(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await ji(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Ix(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await rn(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,c,d;const{data:f,error:h}=i;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ot()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Q(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Mx(async s=>(s>0&&await Fx(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Nl(i)&&Date.now()+a-n<an})}catch(n){if(this._debug(r,"error",n),Q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ot()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await bi(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<jl;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${jl}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Nl(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ma;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new rr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),Q(i)){const a={session:null,error:i};return Nl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Dm(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ji(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),an);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/an);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${an}ms, refresh threshold is ${Lo} ticks`),s<=Lo&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await rn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Y(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Sl(s.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Nx>Date.now()))return n;const{data:s,error:i}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new vs("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===t),!n)throw new vs("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:u}}=Sl(n);if(Kx(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const c=Jx(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,a,$x(`${o}.${u}`)))throw new vs("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}Vs.nextInstanceID=0;const dw=Vs;class fw extends dw{constructor(t){super(t)}}var hw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class mw{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=xx(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:dx,realtime:hx,auth:Object.assign(Object.assign({},fx),{storageKey:u}),global:cx},d=wx(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=yx(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Ov(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new ov(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return hw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fw({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Gv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fm=(e,t,r)=>new mw(e,t,r),pw="https://gtfgvqttfydelzgvgwly.supabase.co",gw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0Zmd2cXR0ZnlkZWx6Z3Znd2x5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQwMjE0OTEsImV4cCI6MjA1OTU5NzQ5MX0.nBdVMHZ6LJ8ZvdSuXk_uDVMb6DxB5iTeFdc0dM7zolI",he=Fm(pw,gw),yw="https://gtfgvqttfydelzgvgwly.supabase.co",vw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0Zmd2cXR0ZnlkZWx6Z3Znd2x5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQwMjE0OTEsImV4cCI6MjA1OTU5NzQ5MX0.nBdVMHZ6LJ8ZvdSuXk_uDVMb6DxB5iTeFdc0dM7zolI",ee=Fm(yw,vw);function xw(){const[e,t]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(""),[a,o]=_.useState(!1),u=er(),c=async f=>{f.preventDefault(),i(""),o(!0);try{const{error:h}=await ee.auth.signInWithPassword({email:e,password:r});if(h)throw h;u("/profile")}catch(h){console.error("Login error:",h),i(h.message||" ")}finally{o(!1)}},d=async()=>{try{const{error:f}=await ee.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}/profile`,queryParams:{access_type:"offline",prompt:"consent"}}});if(f)throw f}catch(f){console.error("GitHub login error:",f),i(f.message||"   GitHub")}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"  "}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[""," ",l.jsx(Ms,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"  "})]})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[s&&l.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:s}),l.jsxs("button",{onClick:d,className:"w-full flex justify-center items-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 mb-6",children:[l.jsx(zy,{size:20}),"  GitHub"]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"    email"})})]}),l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(fm,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:" email",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:""}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(An,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"password",type:"password",value:r,onChange:f=>n(f.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:" ",required:!0})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"...":""})})]})]})})]})}function ww(){const[e,t]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(""),[a,o]=_.useState(""),[u,c]=_.useState(""),[d,f]=_.useState(!1),h=er(),v=async w=>{w.preventDefault(),c(""),f(!0);try{const{data:x,error:N}=await ee.auth.signUp({email:s,password:a});if(N)throw N;if(x.user){const{error:p}=await ee.from("users").insert([{auth_user_id:x.user.id,name:e,lastName:r,email:s,password:a,date:new Date().toISOString()}]);if(p)throw p;h("/profile")}}catch(x){console.error("Registration error:",x),c(x.message||" ")}finally{f(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"  "}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[""," ",l.jsx(Ms,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"   "})]})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[u&&l.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:u}),l.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"'"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(da,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"name",type:"text",value:e,onChange:w=>t(w.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:" '",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:""}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(da,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"lastName",type:"text",value:r,onChange:w=>n(w.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:" ",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(fm,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"email",type:"email",value:s,onChange:w=>i(w.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:" email",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:""}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(An,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"password",type:"password",value:a,onChange:w=>o(w.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:" ",required:!0,minLength:6})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"...":""})})]})]})})]})}function Ye(){const e=er(),t=async()=>{try{const{error:r}=await ee.auth.signOut();if(r)throw r;e("/login")}catch(r){console.error("Error logging out:",r)}};return l.jsxs("div",{className:"w-64 bg-white h-screen fixed left-0 top-0 border-r border-gray-200",children:[l.jsx("div",{className:"p-4",children:l.jsx("h1",{className:"text-xl font-bold text-gray-800",children:" "})}),l.jsxs("nav",{className:"mt-8",children:[l.jsxs(en,{to:"/profile",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(Uy,{className:"w-5 h-5 mr-3"}),""]}),l.jsxs(en,{to:"/people",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx($n,{className:"w-5 h-5 mr-3"}),""]}),l.jsxs(en,{to:"/messages",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(ko,{className:"w-5 h-5 mr-3"}),""]}),l.jsxs(en,{to:"/friends",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx($n,{className:"w-5 h-5 mr-3"}),""]}),l.jsxs(en,{to:"/groups",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(Yy,{className:"w-5 h-5 mr-3"}),""]}),l.jsxs(en,{to:"/settings",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(mm,{className:"w-5 h-5 mr-3"}),""]})]}),l.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-200",children:l.jsxs("button",{onClick:t,className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 w-full",children:[l.jsx(Vy,{className:"w-5 h-5 mr-3"}),""]})})]})}class Ht{static async getCurrentUserProfile(){try{const{data:{user:t}}=await he.auth.getUser();if(!(t!=null&&t.email))return console.log("No authenticated user found"),null;const{data:r,error:n}=await he.from("users").select("*").eq("email",t.email).single();return n?n.code==="PGRST116"?await this.createUserProfile(t):(console.error("Error fetching user profile:",n),null):r}catch(t){return console.error("Error getting current user profile:",t),null}}static async createUserProfile(t){var r,n,s,i,a,o;try{const u={email:t.email,name:((r=t.user_metadata)==null?void 0:r.name)||((s=(n=t.user_metadata)==null?void 0:n.full_name)==null?void 0:s.split(" ")[0])||t.email.split("@")[0]||"User",lastName:((i=t.user_metadata)==null?void 0:i.lastName)||((o=(a=t.user_metadata)==null?void 0:a.full_name)==null?void 0:o.split(" ").slice(1).join(" "))||"",date:new Date().toISOString(),notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1}},{data:c,error:d}=await he.from("users").insert([u]).select().single();return d?(console.error("Error creating user profile:",d),null):c}catch(u){return console.error("Error creating user profile:",u),null}}static async searchUsers(t){try{if(t.length<2)return[];const{data:r,error:n}=await he.from("users").select("id, name, lastName, avatar, email").or(`name.ilike.%${t}%, lastName.ilike.%${t}%`).limit(10);if(n)throw n;return r||[]}catch(r){return console.error("Error searching users:",r),[]}}static async getUserFriends(){try{const t=await this.getCurrentUserProfile();if(!t)return[];const{data:r,error:n}=await he.from("friends").select(`
          friend_id,
          friend:users!friend_id (
            id,
            name,
            lastName,
            avatar,
            email
          )
        `).eq("user_id",t.id);if(n)throw n;return(r==null?void 0:r.map(s=>s.friend).filter(Boolean))||[]}catch(t){return console.error("Error fetching friends:",t),[]}}static async addFriend(t){try{const r=await this.getCurrentUserProfile();if(!r)return!1;const{error:n}=await he.from("friends").insert([{user_id:r.id,friend_id:t}]);if(n)throw n;return!0}catch(r){return console.error("Error adding friend:",r),!1}}static async updateUserProfile(t){try{const{data:{user:r}}=await he.auth.getUser();if(!(r!=null&&r.email))return!1;const{error:n}=await he.from("users").update(t).eq("email",r.email);if(n)throw n;return!0}catch(r){return console.error("Error updating user profile:",r),!1}}static async getUserMedia(){try{const t=await this.getCurrentUserProfile();if(!t)return[];const{data:r,error:n}=await he.from("media").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(t){return console.error("Error loading media:",t),[]}}}const Sd=[{name:"",filter:"none",css:""},{name:"",filter:"sepia",css:"sepia(100%)"},{name:"/",filter:"grayscale",css:"grayscale(100%)"},{name:"",filter:"invert",css:"invert(100%)"},{name:"",filter:"brightness",css:"brightness(150%)"},{name:"",filter:"contrast",css:"contrast(150%)"},{name:"",filter:"saturate",css:"saturate(200%)"},{name:"",filter:"blur",css:"blur(2px)"},{name:"",filter:"warm",css:"sepia(30%) saturate(120%) brightness(110%)"},{name:"",filter:"cool",css:"hue-rotate(180deg) saturate(120%)"},{name:"",filter:"vintage",css:"sepia(50%) contrast(120%) brightness(90%)"},{name:"",filter:"dramatic",css:"contrast(150%) brightness(90%) saturate(150%)"}];function _w({imageUrl:e,onApplyFilter:t,onClose:r}){const n=_.useRef(null),[s,i]=_.useState("none"),[a,o]=_.useState(100),[u,c]=_.useState(100),[d,f]=_.useState(100),[h,v]=_.useState(0),[w,x]=_.useState(0),[N,p]=_.useState(0),m=()=>`
      brightness(${a}%) 
      contrast(${u}%) 
      saturate(${d}%) 
      blur(${h}px) 
      sepia(${w}%) 
      grayscale(${N}%)
    `.trim(),g=()=>{if(s==="custom")return m();const C=Sd.find(P=>P.filter===s);return C?C.css:""},j=async C=>{const P=n.current;if(!P)return null;const B=P.getContext("2d");return B?new Promise(A=>{const T=new Image;T.crossOrigin="anonymous",T.onload=()=>{P.width=T.width,P.height=T.height,B.filter=C,B.drawImage(T,0,0);const D=P.toDataURL("image/jpeg",.9);A(D)},T.src=e}):null},S=async()=>{const C=g(),P=await j(C);P&&t(P)},I=()=>{i("none"),o(100),c(100),f(100),v(0),x(0),p(0)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" "}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:I,className:"flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:[l.jsx(hm,{size:18,className:"mr-1"}),""]}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:""})]})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-1 bg-gray-100 p-6 flex items-center justify-center",children:l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:e,alt:"Preview",className:"max-w-full max-h-96 object-contain rounded-lg",style:{filter:g()}}),l.jsx("canvas",{ref:n,className:"hidden"})]})}),l.jsxs("div",{className:"w-80 border-l border-gray-200 bg-gray-50 overflow-y-auto",children:[l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:""}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:Sd.map(C=>l.jsxs("button",{onClick:()=>i(C.filter),className:`relative p-2 rounded-lg border-2 transition-colors ${s===C.filter?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("div",{className:"w-full h-16 bg-gray-200 rounded mb-1 overflow-hidden",children:l.jsx("img",{src:e,alt:C.name,className:"w-full h-full object-cover",style:{filter:C.css}})}),l.jsx("span",{className:"text-xs text-gray-700",children:C.name}),s===C.filter&&l.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:l.jsx(Ly,{size:12,className:"text-white"})})]},C.filter))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:""}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[": ",a,"%"]}),l.jsx("input",{type:"range",min:"50",max:"200",value:a,onChange:C=>{o(Number(C.target.value)),i("custom")},className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[": ",u,"%"]}),l.jsx("input",{type:"range",min:"50",max:"200",value:u,onChange:C=>{c(Number(C.target.value)),i("custom")},className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[": ",d,"%"]}),l.jsx("input",{type:"range",min:"0",max:"300",value:d,onChange:C=>{f(Number(C.target.value)),i("custom")},className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[": ",h,"px"]}),l.jsx("input",{type:"range",min:"0",max:"10",value:h,onChange:C=>{v(Number(C.target.value)),i("custom")},className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[": ",w,"%"]}),l.jsx("input",{type:"range",min:"0",max:"100",value:w,onChange:C=>{x(Number(C.target.value)),i("custom")},className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["/: ",N,"%"]}),l.jsx("input",{type:"range",min:"0",max:"100",value:N,onChange:C=>{p(Number(C.target.value)),i("custom")},className:"w-full"})]})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 p-4",children:l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:""}),l.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""})]})})]})]})]})})}var Zs=e=>e.type==="checkbox",zr=e=>e instanceof Date,Be=e=>e==null;const Mm=e=>typeof e=="object";var be=e=>!Be(e)&&!Array.isArray(e)&&Mm(e)&&!zr(e),bw=e=>be(e)&&e.target?Zs(e.target)?e.target.checked:e.target.value:e,jw=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,kw=(e,t)=>e.has(jw(t)),Nw=e=>{const t=e.constructor&&e.constructor.prototype;return be(t)&&t.hasOwnProperty("isPrototypeOf")},zu=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Re(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(zu&&(e instanceof Blob||n))&&(r||be(e)))if(t=r?[]:{},!r&&!Nw(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Re(e[s]));else return e;return t}var Va=e=>/^\w*$/.test(e),ke=e=>e===void 0,Fu=e=>Array.isArray(e)?e.filter(Boolean):[],Mu=e=>Fu(e.replace(/["|']|\]/g,"").split(/\.|\[/)),V=(e,t,r)=>{if(!t||!be(e))return r;const n=(Va(t)?[t]:Mu(t)).reduce((s,i)=>Be(s)?s:s[i],e);return ke(n)||n===e?ke(e[t])?r:e[t]:n},At=e=>typeof e=="boolean",fe=(e,t,r)=>{let n=-1;const s=Va(t)?[t]:Mu(t),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let u=r;if(n!==a){const c=e[o];u=be(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=u,e=e[o]}};const Ed={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},St={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ft={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Sw=dt.createContext(null);Sw.displayName="HookFormContext";var Ew=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==St.all&&(t._proxyFormState[a]=!n||St.all),e[a]}});return s};const Cw=typeof window<"u"?_.useLayoutEffect:_.useEffect;var Ut=e=>typeof e=="string",Pw=(e,t,r,n,s)=>Ut(e)?(n&&t.watch.add(e),V(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),V(r,i))):(n&&(t.watchAll=!0),r),Tw=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},ws=e=>Array.isArray(e)?e:[e],Cd=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Uo=e=>Be(e)||!Mm(e);function cr(e,t,r=new WeakSet){if(Uo(e)||Uo(t))return e===t;if(zr(e)&&zr(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=t[i];if(zr(a)&&zr(o)||be(a)&&be(o)||Array.isArray(a)&&Array.isArray(o)?!cr(a,o,r):a!==o)return!1}}return!0}var Je=e=>be(e)&&!Object.keys(e).length,Vu=e=>e.type==="file",Et=e=>typeof e=="function",ha=e=>{if(!zu)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Vm=e=>e.type==="select-multiple",Bu=e=>e.type==="radio",Rw=e=>Bu(e)||Zs(e),El=e=>ha(e)&&e.isConnected;function Ow(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ke(e)?n++:e[t[n++]];return e}function Lw(e){for(const t in e)if(e.hasOwnProperty(t)&&!ke(e[t]))return!1;return!0}function je(e,t){const r=Array.isArray(t)?t:Va(t)?[t]:Mu(t),n=r.length===1?e:Ow(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(be(n)&&Je(n)||Array.isArray(n)&&Lw(n))&&je(e,r.slice(0,-1)),e}var Bm=e=>{for(const t in e)if(Et(e[t]))return!0;return!1};function ma(e,t={}){const r=Array.isArray(e);if(be(e)||r)for(const n in e)Array.isArray(e[n])||be(e[n])&&!Bm(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ma(e[n],t[n])):Be(e[n])||(t[n]=!0);return t}function Hm(e,t,r){const n=Array.isArray(e);if(be(e)||n)for(const s in e)Array.isArray(e[s])||be(e[s])&&!Bm(e[s])?ke(t)||Uo(r[s])?r[s]=Array.isArray(e[s])?ma(e[s],[]):{...ma(e[s])}:Hm(e[s],Be(t)?{}:t[s],r[s]):r[s]=!cr(e[s],t[s]);return r}var ts=(e,t)=>Hm(e,t,ma(t));const Pd={value:!1,isValid:!1},Td={value:!0,isValid:!0};var qm=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ke(e[0].attributes.value)?ke(e[0].value)||e[0].value===""?Td:{value:e[0].value,isValid:!0}:Td:Pd}return Pd},Wm=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ke(e)?e:t?e===""?NaN:e&&+e:r&&Ut(e)?new Date(e):n?n(e):e;const Rd={isValid:!1,value:null};var Gm=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Rd):Rd;function Od(e){const t=e.ref;return Vu(t)?t.files:Bu(t)?Gm(e.refs).value:Vm(t)?[...t.selectedOptions].map(({value:r})=>r):Zs(t)?qm(e.refs).value:Wm(ke(t.value)?e.ref.value:t.value,e)}var Aw=(e,t,r,n)=>{const s={};for(const i of e){const a=V(t,i);a&&fe(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},pa=e=>e instanceof RegExp,rs=e=>ke(e)?e:pa(e)?e.source:be(e)?pa(e.value)?e.value.source:e.value:e,Ld=e=>({isOnSubmit:!e||e===St.onSubmit,isOnBlur:e===St.onBlur,isOnChange:e===St.onChange,isOnAll:e===St.all,isOnTouch:e===St.onTouched});const Ad="AsyncFunction";var $w=e=>!!e&&!!e.validate&&!!(Et(e.validate)&&e.validate.constructor.name===Ad||be(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Ad)),Uw=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),$d=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const _s=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=V(e,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(_s(o,t))break}else if(be(o)&&_s(o,t))break}}};function Ud(e,t,r){const n=V(e,r);if(n||Va(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=V(t,i),o=V(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var Iw=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Je(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||St.all))},Dw=(e,t,r)=>!e||!t||e===t||ws(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),zw=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Fw=(e,t)=>!Fu(V(e,t)).length&&je(e,t),Mw=(e,t,r)=>{const n=ws(V(e,r));return fe(n,"root",t[r]),fe(e,r,n),e},Ui=e=>Ut(e);function Id(e,t,r="validate"){if(Ui(e)||Array.isArray(e)&&e.every(Ui)||At(e)&&!e)return{type:r,message:Ui(e)?e:"",ref:t}}var sn=e=>be(e)&&!pa(e)?e:{value:e,message:""},Dd=async(e,t,r,n,s,i)=>{const{ref:a,refs:o,required:u,maxLength:c,minLength:d,min:f,max:h,pattern:v,validate:w,name:x,valueAsNumber:N,mount:p}=e._f,m=V(r,x);if(!p||t.has(x))return{};const g=o?o[0]:a,j=D=>{s&&g.reportValidity&&(g.setCustomValidity(At(D)?"":D||""),g.reportValidity())},S={},I=Bu(a),C=Zs(a),P=I||C,B=(N||Vu(a))&&ke(a.value)&&ke(m)||ha(a)&&a.value===""||m===""||Array.isArray(m)&&!m.length,A=Tw.bind(null,x,n,S),T=(D,q,K,ae=Ft.maxLength,ne=Ft.minLength)=>{const Se=D?q:K;S[x]={type:D?ae:ne,message:Se,ref:a,...A(D?ae:ne,Se)}};if(i?!Array.isArray(m)||!m.length:u&&(!P&&(B||Be(m))||At(m)&&!m||C&&!qm(o).isValid||I&&!Gm(o).isValid)){const{value:D,message:q}=Ui(u)?{value:!!u,message:u}:sn(u);if(D&&(S[x]={type:Ft.required,message:q,ref:g,...A(Ft.required,q)},!n))return j(q),S}if(!B&&(!Be(f)||!Be(h))){let D,q;const K=sn(h),ae=sn(f);if(!Be(m)&&!isNaN(m)){const ne=a.valueAsNumber||m&&+m;Be(K.value)||(D=ne>K.value),Be(ae.value)||(q=ne<ae.value)}else{const ne=a.valueAsDate||new Date(m),Se=W=>new Date(new Date().toDateString()+" "+W),$=a.type=="time",H=a.type=="week";Ut(K.value)&&m&&(D=$?Se(m)>Se(K.value):H?m>K.value:ne>new Date(K.value)),Ut(ae.value)&&m&&(q=$?Se(m)<Se(ae.value):H?m<ae.value:ne<new Date(ae.value))}if((D||q)&&(T(!!D,K.message,ae.message,Ft.max,Ft.min),!n))return j(S[x].message),S}if((c||d)&&!B&&(Ut(m)||i&&Array.isArray(m))){const D=sn(c),q=sn(d),K=!Be(D.value)&&m.length>+D.value,ae=!Be(q.value)&&m.length<+q.value;if((K||ae)&&(T(K,D.message,q.message),!n))return j(S[x].message),S}if(v&&!B&&Ut(m)){const{value:D,message:q}=sn(v);if(pa(D)&&!m.match(D)&&(S[x]={type:Ft.pattern,message:q,ref:a,...A(Ft.pattern,q)},!n))return j(q),S}if(w){if(Et(w)){const D=await w(m,r),q=Id(D,g);if(q&&(S[x]={...q,...A(Ft.validate,q.message)},!n))return j(q.message),S}else if(be(w)){let D={};for(const q in w){if(!Je(D)&&!n)break;const K=Id(await w[q](m,r),g,q);K&&(D={...K,...A(q,K.message)},j(K.message),n&&(S[x]=D))}if(!Je(D)&&(S[x]={ref:g,...D},!n))return S}}return j(!0),S};const Vw={mode:St.onSubmit,reValidateMode:St.onChange,shouldFocusError:!0};function Bw(e={}){let t={...Vw,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Et(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=be(t.defaultValues)||be(t.values)?Re(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Re(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Cd(),state:Cd()},v=t.criteriaMode===St.all,w=y=>k=>{clearTimeout(c),c=setTimeout(y,k)},x=async y=>{if(!t.disabled&&(d.isValid||f.isValid||y)){const k=t.resolver?Je((await C()).errors):await B(n,!0);k!==r.isValid&&h.state.next({isValid:k})}},N=(y,k)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((y||Array.from(o.mount)).forEach(E=>{E&&(k?fe(r.validatingFields,E,k):je(r.validatingFields,E))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Je(r.validatingFields)}))},p=(y,k=[],E,z,U=!0,b=!0)=>{if(z&&E&&!t.disabled){if(a.action=!0,b&&Array.isArray(V(n,y))){const O=E(V(n,y),z.argA,z.argB);U&&fe(n,y,O)}if(b&&Array.isArray(V(r.errors,y))){const O=E(V(r.errors,y),z.argA,z.argB);U&&fe(r.errors,y,O),Fw(r.errors,y)}if((d.touchedFields||f.touchedFields)&&b&&Array.isArray(V(r.touchedFields,y))){const O=E(V(r.touchedFields,y),z.argA,z.argB);U&&fe(r.touchedFields,y,O)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=ts(s,i)),h.state.next({name:y,isDirty:T(y,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else fe(i,y,k)},m=(y,k)=>{fe(r.errors,y,k),h.state.next({errors:r.errors})},g=y=>{r.errors=y,h.state.next({errors:r.errors,isValid:!1})},j=(y,k,E,z)=>{const U=V(n,y);if(U){const b=V(i,y,ke(E)?V(s,y):E);ke(b)||z&&z.defaultChecked||k?fe(i,y,k?b:Od(U._f)):K(y,b),a.mount&&x()}},S=(y,k,E,z,U)=>{let b=!1,O=!1;const M={name:y};if(!t.disabled){if(!E||z){(d.isDirty||f.isDirty)&&(O=r.isDirty,r.isDirty=M.isDirty=T(),b=O!==M.isDirty);const X=cr(V(s,y),k);O=!!V(r.dirtyFields,y),X?je(r.dirtyFields,y):fe(r.dirtyFields,y,!0),M.dirtyFields=r.dirtyFields,b=b||(d.dirtyFields||f.dirtyFields)&&O!==!X}if(E){const X=V(r.touchedFields,y);X||(fe(r.touchedFields,y,E),M.touchedFields=r.touchedFields,b=b||(d.touchedFields||f.touchedFields)&&X!==E)}b&&U&&h.state.next(M)}return b?M:{}},I=(y,k,E,z)=>{const U=V(r.errors,y),b=(d.isValid||f.isValid)&&At(k)&&r.isValid!==k;if(t.delayError&&E?(u=w(()=>m(y,E)),u(t.delayError)):(clearTimeout(c),u=null,E?fe(r.errors,y,E):je(r.errors,y)),(E?!cr(U,E):U)||!Je(z)||b){const O={...z,...b&&At(k)?{isValid:k}:{},errors:r.errors,name:y};r={...r,...O},h.state.next(O)}},C=async y=>{N(y,!0);const k=await t.resolver(i,t.context,Aw(y||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return N(y),k},P=async y=>{const{errors:k}=await C(y);if(y)for(const E of y){const z=V(k,E);z?fe(r.errors,E,z):je(r.errors,E)}else r.errors=k;return k},B=async(y,k,E={valid:!0})=>{for(const z in y){const U=y[z];if(U){const{_f:b,...O}=U;if(b){const M=o.array.has(b.name),X=U._f&&$w(U._f);X&&d.validatingFields&&N([z],!0);const se=await Dd(U,o.disabled,i,v,t.shouldUseNativeValidation&&!k,M);if(X&&d.validatingFields&&N([z]),se[b.name]&&(E.valid=!1,k))break;!k&&(V(se,b.name)?M?Mw(r.errors,se,b.name):fe(r.errors,b.name,se[b.name]):je(r.errors,b.name))}!Je(O)&&await B(O,k,E)}}return E.valid},A=()=>{for(const y of o.unMount){const k=V(n,y);k&&(k._f.refs?k._f.refs.every(E=>!El(E)):!El(k._f.ref))&&Te(y)}o.unMount=new Set},T=(y,k)=>!t.disabled&&(y&&k&&fe(i,y,k),!cr(W(),s)),D=(y,k,E)=>Pw(y,o,{...a.mount?i:ke(k)?s:Ut(y)?{[y]:k}:k},E,k),q=y=>Fu(V(a.mount?i:s,y,t.shouldUnregister?V(s,y,[]):[])),K=(y,k,E={})=>{const z=V(n,y);let U=k;if(z){const b=z._f;b&&(!b.disabled&&fe(i,y,Wm(k,b)),U=ha(b.ref)&&Be(k)?"":k,Vm(b.ref)?[...b.ref.options].forEach(O=>O.selected=U.includes(O.value)):b.refs?Zs(b.ref)?b.refs.forEach(O=>{(!O.defaultChecked||!O.disabled)&&(Array.isArray(U)?O.checked=!!U.find(M=>M===O.value):O.checked=U===O.value||!!U)}):b.refs.forEach(O=>O.checked=O.value===U):Vu(b.ref)?b.ref.value="":(b.ref.value=U,b.ref.type||h.state.next({name:y,values:Re(i)})))}(E.shouldDirty||E.shouldTouch)&&S(y,U,E.shouldTouch,E.shouldDirty,!0),E.shouldValidate&&H(y)},ae=(y,k,E)=>{for(const z in k){if(!k.hasOwnProperty(z))return;const U=k[z],b=y+"."+z,O=V(n,b);(o.array.has(y)||be(U)||O&&!O._f)&&!zr(U)?ae(b,U,E):K(b,U,E)}},ne=(y,k,E={})=>{const z=V(n,y),U=o.array.has(y),b=Re(k);fe(i,y,b),U?(h.array.next({name:y,values:Re(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&E.shouldDirty&&h.state.next({name:y,dirtyFields:ts(s,i),isDirty:T(y,b)})):z&&!z._f&&!Be(b)?ae(y,b,E):K(y,b,E),$d(y,o)&&h.state.next({...r}),h.state.next({name:a.mount?y:void 0,values:Re(i)})},Se=async y=>{a.mount=!0;const k=y.target;let E=k.name,z=!0;const U=V(n,E),b=X=>{z=Number.isNaN(X)||zr(X)&&isNaN(X.getTime())||cr(X,V(i,E,X))},O=Ld(t.mode),M=Ld(t.reValidateMode);if(U){let X,se;const Zr=k.type?Od(U._f):bw(y),zt=y.type===Ed.BLUR||y.type===Ed.FOCUS_OUT,ri=!Uw(U._f)&&!t.resolver&&!V(r.errors,E)&&!U._f.deps||zw(zt,V(r.touchedFields,E),r.isSubmitted,M,O),qa=$d(E,o,zt);fe(i,E,Zr),zt?(U._f.onBlur&&U._f.onBlur(y),u&&u(0)):U._f.onChange&&U._f.onChange(y);const Wa=S(E,Zr,zt),Km=!Je(Wa)||qa;if(!zt&&h.state.next({name:E,type:y.type,values:Re(i)}),ri)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?zt&&x():zt||x()),Km&&h.state.next({name:E,...qa?{}:Wa});if(!zt&&qa&&h.state.next({...r}),t.resolver){const{errors:qu}=await C([E]);if(b(Zr),z){const Jm=Ud(r.errors,n,E),Wu=Ud(qu,n,Jm.name||E);X=Wu.error,E=Wu.name,se=Je(qu)}}else N([E],!0),X=(await Dd(U,o.disabled,i,v,t.shouldUseNativeValidation))[E],N([E]),b(Zr),z&&(X?se=!1:(d.isValid||f.isValid)&&(se=await B(n,!0)));z&&(U._f.deps&&H(U._f.deps),I(E,se,X,Wa))}},$=(y,k)=>{if(V(r.errors,k)&&y.focus)return y.focus(),1},H=async(y,k={})=>{let E,z;const U=ws(y);if(t.resolver){const b=await P(ke(y)?y:U);E=Je(b),z=y?!U.some(O=>V(b,O)):E}else y?(z=(await Promise.all(U.map(async b=>{const O=V(n,b);return await B(O&&O._f?{[b]:O}:O)}))).every(Boolean),!(!z&&!r.isValid)&&x()):z=E=await B(n);return h.state.next({...!Ut(y)||(d.isValid||f.isValid)&&E!==r.isValid?{}:{name:y},...t.resolver||!y?{isValid:E}:{},errors:r.errors}),k.shouldFocus&&!z&&_s(n,$,y?U:o.mount),z},W=y=>{const k={...a.mount?i:s};return ke(y)?k:Ut(y)?V(k,y):y.map(E=>V(k,E))},te=(y,k)=>({invalid:!!V((k||r).errors,y),isDirty:!!V((k||r).dirtyFields,y),error:V((k||r).errors,y),isValidating:!!V(r.validatingFields,y),isTouched:!!V((k||r).touchedFields,y)}),R=y=>{y&&ws(y).forEach(k=>je(r.errors,k)),h.state.next({errors:y?r.errors:{}})},J=(y,k,E)=>{const z=(V(n,y,{_f:{}})._f||{}).ref,U=V(r.errors,y)||{},{ref:b,message:O,type:M,...X}=U;fe(r.errors,y,{...X,...k,ref:z}),h.state.next({name:y,errors:r.errors,isValid:!1}),E&&E.shouldFocus&&z&&z.focus&&z.focus()},ve=(y,k)=>Et(y)?h.state.subscribe({next:E=>y(D(void 0,k),E)}):D(y,k,!0),ue=y=>h.state.subscribe({next:k=>{Dw(y.name,k.name,y.exact)&&Iw(k,y.formState||d,Ha,y.reRenderRoot)&&y.callback({values:{...i},...r,...k})}}).unsubscribe,Ee=y=>(a.mount=!0,f={...f,...y.formState},ue({...y,formState:f})),Te=(y,k={})=>{for(const E of y?ws(y):o.mount)o.mount.delete(E),o.array.delete(E),k.keepValue||(je(n,E),je(i,E)),!k.keepError&&je(r.errors,E),!k.keepDirty&&je(r.dirtyFields,E),!k.keepTouched&&je(r.touchedFields,E),!k.keepIsValidating&&je(r.validatingFields,E),!t.shouldUnregister&&!k.keepDefaultValue&&je(s,E);h.state.next({values:Re(i)}),h.state.next({...r,...k.keepDirty?{isDirty:T()}:{}}),!k.keepIsValid&&x()},nt=({disabled:y,name:k})=>{(At(y)&&a.mount||y||o.disabled.has(k))&&(y?o.disabled.add(k):o.disabled.delete(k))},Ge=(y,k={})=>{let E=V(n,y);const z=At(k.disabled)||At(t.disabled);return fe(n,y,{...E||{},_f:{...E&&E._f?E._f:{ref:{name:y}},name:y,mount:!0,...k}}),o.mount.add(y),E?nt({disabled:At(k.disabled)?k.disabled:t.disabled,name:y}):j(y,!0,k.value),{...z?{disabled:k.disabled||t.disabled}:{},...t.progressive?{required:!!k.required,min:rs(k.min),max:rs(k.max),minLength:rs(k.minLength),maxLength:rs(k.maxLength),pattern:rs(k.pattern)}:{},name:y,onChange:Se,onBlur:Se,ref:U=>{if(U){Ge(y,k),E=V(n,y);const b=ke(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,O=Rw(b),M=E._f.refs||[];if(O?M.find(X=>X===b):b===E._f.ref)return;fe(n,y,{_f:{...E._f,...O?{refs:[...M.filter(El),b,...Array.isArray(V(s,y))?[{}]:[]],ref:{type:b.type,name:y}}:{ref:b}}}),j(y,!1,void 0,b)}else E=V(n,y,{}),E._f&&(E._f.mount=!1),(t.shouldUnregister||k.shouldUnregister)&&!(kw(o.array,y)&&a.action)&&o.unMount.add(y)}}},xt=()=>t.shouldFocusError&&_s(n,$,o.mount),Bn=y=>{At(y)&&(h.state.next({disabled:y}),_s(n,(k,E)=>{const z=V(n,E);z&&(k.disabled=z._f.disabled||y,Array.isArray(z._f.refs)&&z._f.refs.forEach(U=>{U.disabled=z._f.disabled||y}))},0,!1))},Ys=(y,k)=>async E=>{let z;E&&(E.preventDefault&&E.preventDefault(),E.persist&&E.persist());let U=Re(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:b,values:O}=await C();r.errors=b,U=Re(O)}else await B(n);if(o.disabled.size)for(const b of o.disabled)je(U,b);if(je(r.errors,"root"),Je(r.errors)){h.state.next({errors:{}});try{await y(U,E)}catch(b){z=b}}else k&&await k({...r.errors},E),xt(),setTimeout(xt);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Je(r.errors)&&!z,submitCount:r.submitCount+1,errors:r.errors}),z)throw z},Ba=(y,k={})=>{V(n,y)&&(ke(k.defaultValue)?ne(y,Re(V(s,y))):(ne(y,k.defaultValue),fe(s,y,Re(k.defaultValue))),k.keepTouched||je(r.touchedFields,y),k.keepDirty||(je(r.dirtyFields,y),r.isDirty=k.defaultValue?T(y,Re(V(s,y))):T()),k.keepError||(je(r.errors,y),d.isValid&&x()),h.state.next({...r}))},ei=(y,k={})=>{const E=y?Re(y):s,z=Re(E),U=Je(y),b=U?s:z;if(k.keepDefaultValues||(s=E),!k.keepValues){if(k.keepDirtyValues){const O=new Set([...o.mount,...Object.keys(ts(s,i))]);for(const M of Array.from(O))V(r.dirtyFields,M)?fe(b,M,V(i,M)):ne(M,V(b,M))}else{if(zu&&ke(y))for(const O of o.mount){const M=V(n,O);if(M&&M._f){const X=Array.isArray(M._f.refs)?M._f.refs[0]:M._f.ref;if(ha(X)){const se=X.closest("form");if(se){se.reset();break}}}}if(k.keepFieldsRef)for(const O of o.mount)ne(O,V(b,O));else n={}}i=t.shouldUnregister?k.keepDefaultValues?Re(s):{}:Re(b),h.array.next({values:{...b}}),h.state.next({values:{...b}})}o={mount:k.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!k.keepIsValid||!!k.keepDirtyValues,a.watch=!!t.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:U?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!cr(y,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:U?{}:k.keepDirtyValues?k.keepDefaultValues&&i?ts(s,i):r.dirtyFields:k.keepDefaultValues&&y?ts(s,y):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ti=(y,k)=>ei(Et(y)?y(i):y,k),Hn=(y,k={})=>{const E=V(n,y),z=E&&E._f;if(z){const U=z.refs?z.refs[0]:z.ref;U.focus&&(U.focus(),k.shouldSelect&&Et(U.select)&&U.select())}},Ha=y=>{r={...r,...y}},qn={control:{register:Ge,unregister:Te,getFieldState:te,handleSubmit:Ys,setError:J,_subscribe:ue,_runSchema:C,_focusError:xt,_getWatch:D,_getDirty:T,_setValid:x,_setFieldArray:p,_setDisabledField:nt,_setErrors:g,_getFieldArray:q,_reset:ei,_resetDefaultValues:()=>Et(t.defaultValues)&&t.defaultValues().then(y=>{ti(y,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:Bn,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(y){a=y},get _defaultValues(){return s},get _names(){return o},set _names(y){o=y},get _formState(){return r},get _options(){return t},set _options(y){t={...t,...y}}},subscribe:Ee,trigger:H,register:Ge,handleSubmit:Ys,watch:ve,setValue:ne,getValues:W,reset:ti,resetField:Ba,clearErrors:R,unregister:Te,setError:J,setFocus:Hn,getFieldState:te};return{...qn,formControl:qn}}function Hw(e={}){const t=dt.useRef(void 0),r=dt.useRef(void 0),[n,s]=dt.useState({isDirty:!1,isValidating:!1,isLoading:Et(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Et(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Et(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=Bw(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,Cw(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),dt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),dt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),dt.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),dt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),dt.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),dt.useEffect(()=>{e.values&&!cr(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),dt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Ew(n,i),t.current}function qw(){var qn,y,k,E,z,U;const[e,t]=_.useState(null),[r,n]=_.useState(!0),[s,i]=_.useState([]),[a,o]=_.useState(""),[u,c]=_.useState(!1),[d,f]=_.useState(!1),[h,v]=_.useState(!1);_.useState(!1);const[w,x]=_.useState([]),[N,p]=_.useState([]),[m,g]=_.useState(0),[j,S]=_.useState(!1),[I,C]=_.useState(!1),[P,B]=_.useState(""),[A,T]=_.useState(-1),[D,q]=_.useState([]),[K,ae]=_.useState([]),ne=_.useRef(null),Se=_.useRef(null),$=er(),[H,W]=_.useState(!1),[te,R]=_.useState("photo"),[J,ve]=_.useState([{id:"1",author:e||{id:"",name:"User",lastName:"",avatar:""},content:"  !   !",images:["https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80"],created_at:"2024-07-20T10:00:00Z",likes:5,comments:2},{id:"2",author:e||{id:"",name:"User",lastName:"",avatar:""},content:"  !",images:["https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80","https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?auto=format&fit=crop&w=400&q=80"],created_at:"2024-07-18T15:30:00Z",likes:8,comments:3}]);_.useEffect(()=>{async function b(){try{n(!0),o("");const O=await Ht.getCurrentUserProfile();if(!O){$("/login");return}t(O);const M=await Ht.getUserMedia();i(M);const X=await Ht.getUserFriends();q(X),ae([{id:1,name:"Frontend Devs",avatar:"",members:12},{id:2,name:"React Ukraine",avatar:"",members:8}])}catch(O){console.error("Error loading profile:",O),o("  ")}finally{n(!1)}}b()},[$]);const ue=b=>{b.preventDefault(),f(!0)},Ee=b=>{b.preventDefault(),f(!1)},Te=b=>{b.preventDefault(),f(!1);const M=Array.from(b.dataTransfer.files).filter(X=>X.type.startsWith("image/")).slice(0,10);M.length===1?xt(M[0]):M.length>1&&Ge(M)},nt=b=>{var M;const O=(M=b.target.files)==null?void 0:M[0];O&&O.type.startsWith("image/")&&xt(O)},Ge=b=>{x(b);const O=b.map(M=>URL.createObjectURL(M));p(O),g(0),S(!0)},xt=async b=>{v(!0);try{const O=new FileReader;O.onload=async M=>{var se;const X=(se=M.target)==null?void 0:se.result;B(X),T(-1),C(!0),c(!1)},O.readAsDataURL(b)}catch(O){console.error("Error uploading file:",O)}finally{v(!1)}},Bn=async b=>{if(A===-1)await Ht.updateUserProfile({avatar:b})&&e&&t({...e,avatar:b});else{const O=[...N];O[A]=b,p(O)}C(!1),B(""),T(-1)},Ys=b=>{const O=w.filter((X,se)=>se!==b),M=N.filter((X,se)=>se!==b);URL.revokeObjectURL(N[b]),x(O),p(M),m>=M.length&&M.length>0&&g(M.length-1),O.length===0&&S(!1)},Ba=()=>{g(b=>(b+1)%N.length)},ei=()=>{g(b=>(b-1+N.length)%N.length)},ti=async()=>{if(w.length!==0){v(!0);try{console.log("Creating post with",w.length,"images"),N.forEach(b=>URL.revokeObjectURL(b)),x([]),p([]),S(!1),g(0)}catch(b){console.error("Error creating post:",b)}finally{v(!1)}}},Hn=b=>b?new Date(b).toLocaleDateString("uk-UA",{day:"numeric",month:"long",year:"numeric"}):" ";function Ha({open:b,onClose:O,user:M,onSave:X}){const{register:se,handleSubmit:Zr,formState:{errors:zt},reset:ri}=Hw({defaultValues:M});return _.useEffect(()=>{ri(M)},[M,ri]),b?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("form",{onSubmit:Zr(X),className:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 p-8",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",children:" "}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsx("input",{...se("name",{required:!0}),placeholder:"'",className:"border rounded p-2"}),l.jsx("input",{...se("lastName",{required:!0}),placeholder:"",className:"border rounded p-2"}),l.jsx("input",{...se("city"),placeholder:"",className:"border rounded p-2"}),l.jsx("input",{...se("familyStatus"),placeholder:" ",className:"border rounded p-2"}),l.jsx("input",{...se("status"),placeholder:"",className:"border rounded p-2"}),l.jsx("input",{...se("phone"),placeholder:"",className:"border rounded p-2"}),l.jsx("input",{...se("website"),placeholder:"-",className:"border rounded p-2"}),l.jsx("input",{...se("birthDate"),type:"date",placeholder:" ",className:"border rounded p-2"})]}),l.jsxs("div",{className:"flex justify-end mt-6 space-x-2",children:[l.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:""}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""})]})]})}):null}const Hu=async b=>{t({...e,...b}),W(!1)};return r?l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:" ..."})]})})]}):a?l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" "})]})})]}):!e&&!r?($("/login"),null):e?l.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"relative h-60 bg-gradient-to-r from-blue-400 to-blue-600 rounded-b-2xl shadow-md",children:[l.jsx("img",{src:e.cover||"https://vk.com/images/cover_default.jpg",alt:"Cover",className:"w-full h-60 object-cover rounded-b-2xl",style:{objectPosition:"center"}}),l.jsx("div",{className:"absolute left-8 -bottom-16 w-40 h-40 rounded-full border-4 border-white bg-gray-200 overflow-hidden shadow-lg",children:e.avatar?l.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:l.jsx("span",{className:"text-5xl text-white font-bold",children:((y=(qn=e.name)==null?void 0:qn[0])==null?void 0:y.toUpperCase())||"?"})})})]}),l.jsxs("div",{className:"pt-20 px-8 flex flex-col md:flex-row md:items-end md:justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[e.name," ",e.lastName]}),l.jsx("div",{className:"text-gray-600 mt-1",children:e.status||"   !"}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-2 space-x-4",children:[e.city&&l.jsxs("span",{children:[l.jsx(By,{size:14,className:"inline mr-1"}),e.city]}),e.birthDate&&l.jsxs("span",{children:[l.jsx(cm,{size:14,className:"inline mr-1"}),Hn(e.birthDate)]}),e.phone&&l.jsxs("span",{children:[l.jsx(Gy,{size:14,className:"inline mr-1"}),e.phone]}),e.website&&l.jsxs("span",{children:[l.jsx(Ou,{size:14,className:"inline mr-1"}),e.website]})]})]}),l.jsxs("div",{className:"flex space-x-3 mt-4 md:mt-0",children:[l.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:""}),l.jsx("button",{className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300",children:"  "}),l.jsxs("button",{onClick:()=>W(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center",children:[l.jsx(cd,{size:16,className:"mr-2"}),""]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 px-8",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 col-span-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),l.jsxs("div",{className:"space-y-2 text-gray-700",children:[l.jsxs("div",{children:[l.jsx("b",{children:":"})," ",e.city||" "]}),l.jsxs("div",{children:[l.jsx("b",{children:" :"})," ",Hn(e.birthDate)]}),l.jsxs("div",{children:[l.jsx("b",{children:":"})," "]}),l.jsxs("div",{children:[l.jsx("b",{children:" :"})," ",e.familyStatus||" "]}),l.jsxs("div",{children:[l.jsx("b",{children:":"})," ",e.phone||" "]}),l.jsxs("div",{children:[l.jsx("b",{children:"-:"})," ",e.website||" "]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 col-span-1",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:[" (",D.length,")"]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:D.length===0?l.jsx("span",{className:"text-gray-500",children:" "}):D.slice(0,6).map(b=>{var O,M;return l.jsxs("button",{className:"flex flex-col items-center w-16 group",onClick:()=>$(`/profile/${b.id}`),children:[l.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 mb-1 group-hover:ring-2 group-hover:ring-blue-500 transition",children:b.avatar?l.jsx("img",{src:b.avatar,alt:b.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:l.jsx("span",{className:"text-white font-bold",children:((M=(O=b.name)==null?void 0:O[0])==null?void 0:M.toUpperCase())||"?"})})}),l.jsx("span",{className:"text-xs text-gray-700 text-center",children:b.name})]},b.id)})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 col-span-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),l.jsxs("div",{className:"mb-2 flex space-x-2",children:[l.jsx("button",{onClick:()=>R("photo"),className:`px-3 py-1 rounded ${te==="photo"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:""}),l.jsx("button",{onClick:()=>R("video"),className:`px-3 py-1 rounded ${te==="video"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:""}),l.jsx("button",{onClick:()=>R("album"),className:`px-3 py-1 rounded ${te==="album"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:""})]}),te==="photo"&&l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.filter(b=>b.type==="photo").slice(0,6).map(b=>l.jsx("img",{src:b.url,alt:"",className:"w-full h-16 object-cover rounded"},b.id)),s.filter(b=>b.type==="photo").length===0&&l.jsx("span",{className:"text-gray-500 col-span-3",children:" "})]}),te==="video"&&l.jsx("div",{className:"text-gray-500",children:" "}),te==="album"&&l.jsx("div",{className:"text-gray-500",children:" "})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mt-8 mx-8",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:[" (",K.length,")"]}),l.jsx("div",{className:"flex flex-wrap gap-4",children:K.length===0?l.jsx("span",{className:"text-gray-500",children:" "}):K.map(b=>{var O,M;return l.jsxs("button",{className:"flex flex-col items-center w-20 group",onClick:()=>$(`/group/${b.id}`),children:[l.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 mb-1 group-hover:ring-2 group-hover:ring-green-500 transition",children:b.avatar?l.jsx("img",{src:b.avatar,alt:b.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-green-400 to-blue-600",children:l.jsx("span",{className:"text-white font-bold",children:((M=(O=b.name)==null?void 0:O[0])==null?void 0:M.toUpperCase())||"?"})})}),l.jsx("span",{className:"text-xs text-gray-700 text-center",children:b.name}),l.jsxs("span",{className:"text-[10px] text-gray-500",children:[b.members," "]})]},b.id)})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mt-8 mx-8",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200",children:e.avatar?l.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:l.jsx("span",{className:"text-white font-bold",children:((E=(k=e.name)==null?void 0:k[0])==null?void 0:E.toUpperCase())||"?"})})}),l.jsx("input",{type:"text",placeholder:"   ?",className:"flex-1 px-4 py-2 bg-gray-50 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""})]}),J.length===0?l.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(cd,{className:"text-gray-400",size:24})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"     "}),l.jsx("p",{className:"text-gray-600",children:"      "})]}):l.jsx("div",{className:"space-y-6",children:J.map(b=>{var O,M;return l.jsxs("div",{className:"border-b pb-6 last:border-b-0",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-200 mr-2",children:b.author.avatar?l.jsx("img",{src:b.author.avatar,alt:b.author.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:l.jsx("span",{className:"text-white font-bold text-sm",children:((M=(O=b.author.name)==null?void 0:O[0])==null?void 0:M.toUpperCase())||"?"})})}),l.jsxs("span",{className:"font-semibold text-gray-900 mr-2",children:[b.author.name," ",b.author.lastName]}),l.jsx("span",{className:"text-xs text-gray-500",children:Hn(b.created_at)})]}),l.jsx("div",{className:"mb-2 text-gray-800",children:b.content}),b.images.length>0&&l.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:b.images.map((X,se)=>l.jsx("img",{src:X,alt:"post",className:"w-full h-40 object-cover rounded"},se))}),l.jsxs("div",{className:"flex space-x-4 text-gray-500 text-sm",children:[l.jsxs("span",{children:[" ",b.likes]}),l.jsxs("span",{children:[" ",b.comments]})]})]},b.id)})})]})]})}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" "}),l.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Vr,{size:24})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${d?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:ue,onDragLeave:Ee,onDrop:Te,children:[l.jsx(pm,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),l.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),l.jsx("p",{className:"text-gray-600 mb-4",children:"    "}),l.jsx("button",{onClick:()=>{var b;return(b=ne.current)==null?void 0:b.click()},disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:h?"...":" "}),l.jsx("input",{ref:ne,type:"file",accept:"image/*",onChange:nt,className:"hidden"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:" : JPG, PNG, GIF.  : 10MB"})]})]})}),j&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"  "}),l.jsx("button",{onClick:()=>{N.forEach(b=>URL.revokeObjectURL(b)),x([]),p([]),S(!1),g(0)},className:"text-gray-400 hover:text-gray-600",children:l.jsx(Vr,{size:24})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-1 bg-black relative",children:N.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("img",{src:N[m],alt:`Preview ${m+1}`,className:"w-full h-96 object-contain"}),N.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:ei,className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-75",children:l.jsx(Ay,{size:20})}),l.jsx("button",{onClick:Ba,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-75",children:l.jsx($y,{size:20})})]}),N.length>1&&l.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white px-2 py-1 rounded-full text-sm",children:[m+1," / ",N.length]})]})}),l.jsxs("div",{className:"w-80 border-l border-gray-200",children:[l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-200 mr-3",children:e.avatar?l.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:l.jsx("span",{className:"text-white font-bold text-sm",children:((U=(z=e.name)==null?void 0:z[0])==null?void 0:U.toUpperCase())||"?"})})}),l.jsxs("span",{className:"font-semibold text-gray-900",children:[e.name," ",e.lastName]})]}),l.jsx("textarea",{placeholder:" ...",className:"w-full h-32 p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:500}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:[" (",w.length,")"]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:N.map((b,O)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:b,alt:`Thumbnail ${O+1}`,className:`w-full h-16 object-cover rounded cursor-pointer ${O===m?"ring-2 ring-blue-500":""}`,onClick:()=>g(O)}),l.jsx("button",{onClick:()=>{B(b),T(O),C(!0)},className:"absolute top-1 left-1 w-5 h-5 bg-blue-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Wy,{size:12})}),l.jsx("button",{onClick:()=>Ys(O),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Vr,{size:12})})]},O))})]}),l.jsx("button",{onClick:()=>{var b;return(b=Se.current)==null?void 0:b.click()},className:"w-full mt-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 transition-colors",children:"+   "})]}),l.jsx("div",{className:"border-t border-gray-200 p-4",children:l.jsx("button",{onClick:ti,disabled:h||w.length===0,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"...":""})})]})]})]})}),I&&l.jsx(_w,{imageUrl:P,onApplyFilter:Bn,onClose:()=>{C(!1),B(""),T(-1)}}),l.jsx(Ha,{open:H,onClose:()=>W(!1),user:e,onSave:Hu})]}):l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-600",children:"  "}),l.jsx("button",{onClick:()=>$("/login"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""})]})})]})}function Ww(){return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:""}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:l.jsx("p",{className:"text-gray-600",children:"    "})})]})})]})}function Gw(){const[e,t]=_.useState([]),[r,n]=_.useState([]),[s,i]=_.useState(""),[a,o]=_.useState(!0);_.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:{user:f}}=await ee.auth.getUser();if(!f)return;const{data:h,error:v}=await ee.from("friends").select(`
          friend_id,
          friend:users!friend_id (
            id,
            name,
            lastName,
            avatar
          )
        `).eq("user_id",f.id);if(v)throw v;t((h==null?void 0:h.map(w=>w.friend))||[])}catch(f){console.error("Error fetching friends:",f)}finally{o(!1)}},c=async f=>{if(i(f),f.length<2){n([]);return}try{const{data:h,error:v}=await ee.from("users").select("id, name, lastName, avatar").or(`name.ilike.%${f}%, lastName.ilike.%${f}%`).limit(10);if(v)throw v;n(h||[])}catch(h){console.error("Error searching users:",h)}},d=async f=>{try{const{data:{user:h}}=await ee.auth.getUser();if(!h)return;const{error:v}=await ee.from("friends").insert([{user_id:h.id,friend_id:f}]);if(v)throw v;await u()}catch(h){console.error("Error adding friend:",h)}};return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Lu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:"  '  ",value:s,onChange:f=>c(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.length>0&&l.jsx("div",{className:"mt-4 bg-white rounded-lg shadow-sm",children:r.map(f=>l.jsxs("div",{className:"flex items-center justify-between p-4 border-b last:border-b-0",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:f.avatar?l.jsx("img",{src:f.avatar,alt:f.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-lg text-gray-600",children:f.name[0]})}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"font-medium text-gray-900",children:[f.name," ",f.lastName]})})]}),l.jsxs("button",{onClick:()=>d(f.id),className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Eo,{size:18,className:"mr-1"}),""]})]},f.id))})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" "}),a?l.jsx("div",{className:"text-center py-8",children:"..."}):e.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(f=>l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:f.avatar?l.jsx("img",{src:f.avatar,alt:f.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-xl text-gray-600",children:f.name[0]})}),l.jsxs("div",{className:"ml-4",children:[l.jsxs("p",{className:"font-medium text-gray-900",children:[f.name," ",f.lastName]}),l.jsxs("button",{className:"flex items-center text-sm text-blue-600 hover:text-blue-700 mt-1",children:[l.jsx(Xy,{size:16,className:"mr-1"}),""]})]})]},f.id))}):l.jsx("div",{className:"text-center py-8 text-gray-600",children:"    "})]})]})})]})}function Kw(){const[e,t]=_.useState("profile"),[r,n]=_.useState(!0),s=er(),[i,a]=_.useState({name:"",lastName:"",email:"",bio:"",city:"",birthDate:"",notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1}});_.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:d},error:f}=await ee.auth.getUser();if(f||!d){s("/login");return}const{data:h,error:v}=await ee.from("users").select("*").eq("auth_user_id",d.id).single();if(v){console.error("Error fetching user settings:",v);return}a({...i,...h,notifications:h.notifications||i.notifications,privacy:h.privacy||i.privacy})}catch(d){console.error("Error loading user settings:",d)}finally{n(!1)}},u=async d=>{d.preventDefault();try{const{data:{user:f},error:h}=await ee.auth.getUser();if(h||!f){s("/login");return}const{error:v}=await ee.from("users").update({name:i.name,lastName:i.lastName,bio:i.bio,city:i.city,birthDate:i.birthDate,notifications:i.notifications,privacy:i.privacy}).eq("auth_user_id",f.id);if(v)throw v;alert("  ")}catch(f){console.error("Error saving settings:",f),alert("   ")}},c=[{id:"profile",label:"",icon:da},{id:"privacy",label:"",icon:An},{id:"notifications",label:"",icon:Oy}];return r?l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsx("div",{className:"text-center",children:"..."})})]}):l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:""}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[l.jsx("div",{className:"flex border-b border-gray-200",children:c.map(({id:d,label:f,icon:h})=>l.jsxs("button",{onClick:()=>t(d),className:`flex items-center px-6 py-3 text-sm font-medium ${e===d?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[l.jsx(h,{size:18,className:"mr-2"}),f]},d))}),l.jsxs("div",{className:"p-6",children:[e==="profile"&&l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"'"}),l.jsx("input",{type:"text",value:i.name,onChange:d=>a({...i,name:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),l.jsx("input",{type:"text",value:i.lastName,onChange:d=>a({...i,lastName:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),l.jsx("textarea",{value:i.bio,onChange:d=>a({...i,bio:d.target.value}),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),l.jsx("input",{type:"text",value:i.city,onChange:d=>a({...i,city:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),l.jsx("input",{type:"date",value:i.birthDate,onChange:d=>a({...i,birthDate:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:" "})})]}),e==="privacy"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:" "}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),l.jsxs("select",{value:i.privacy.profileVisibility,onChange:d=>a({...i,privacy:{...i.privacy,profileVisibility:d.target.value}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"public",children:""}),l.jsx("option",{value:"friends",children:" "}),l.jsx("option",{value:"private",children:""})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"  "}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.privacy.showBirthDate,onChange:d=>a({...i,privacy:{...i.privacy,showBirthDate:d.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:" email"}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.privacy.showEmail,onChange:d=>a({...i,privacy:{...i.privacy,showEmail:d.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),e==="notifications"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:" "}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Email "}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.notifications.email,onChange:d=>a({...i,notifications:{...i.notifications,email:d.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"  "}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.notifications.messages,onChange:d=>a({...i,notifications:{...i.notifications,messages:d.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"    "}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.notifications.friendRequests,onChange:d=>a({...i,notifications:{...i.notifications,friendRequests:d.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})})]})]})]})})]})}function Jw(){const[e,t]=_.useState([]),[r,n]=_.useState([]),[s,i]=_.useState(""),[a,o]=_.useState("public"),[u,c]=_.useState(!0),[d,f]=_.useState(null),[h,v]=_.useState(!1),[w,x]=_.useState(!1),N=er(),[p,m]=_.useState({name:"",description:"",isPrivate:!1,avatar:null});_.useEffect(()=>{g()},[]),_.useEffect(()=>{d&&(j(),S())},[d]);const g=async()=>{try{const{data:{user:T},error:D}=await ee.auth.getUser();if(D||!T){N("/login");return}const{data:q,error:K}=await ee.from("user_profiles").select("*").eq("auth_user_id",T.id).single();if(K){console.error("Error fetching user profile:",K);return}f(q)}catch(T){console.error("Error fetching current user:",T)}},j=async()=>{try{c(!0);const{data:T,error:D}=await ee.from("groups").select(`
          *,
          created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
        `).eq("is_private",!1).order("created_at",{ascending:!1});if(D)throw D;t(T||[])}catch(T){console.error("Error fetching groups:",T)}finally{c(!1)}},S=async()=>{try{if(!d)return;const{data:T,error:D}=await ee.from("group_members").select(`
          *,
          group:groups(
            *,
            created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
          )
        `).eq("user_id",d.id);if(D)throw D;n((T==null?void 0:T.map(q=>q.group))||[])}catch(T){console.error("Error fetching my groups:",T)}},I=async T=>{if(T.preventDefault(),!!d)try{x(!0);let D=null;if(p.avatar){const ne=p.avatar.name.split(".").pop(),$=`group-avatars/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${ne}`}`,{error:H}=await ee.storage.from("avatars").upload($,p.avatar);if(H)throw H;const{data:{publicUrl:W}}=ee.storage.from("avatars").getPublicUrl($);D=W}const{data:q,error:K}=await ee.from("groups").insert([{name:p.name,description:p.description,is_private:p.isPrivate,avatar:D,created_by:d.id}]).select().single();if(K)throw K;const{error:ae}=await ee.from("group_members").insert([{group_id:q.id,user_id:d.id,role:"admin"}]);if(ae)throw ae;v(!1),m({name:"",description:"",isPrivate:!1,avatar:null}),j(),S(),alert("  !")}catch(D){console.error("Error creating group:",D),alert("   ")}finally{x(!1)}},C=async T=>{try{if(!d)return;const{error:D}=await ee.from("group_members").insert([{group_id:T,user_id:d.id,role:"member"}]);if(D)throw D;j(),S(),alert("    !")}catch(D){console.error("Error joining group:",D),alert("    ")}},P=T=>r.some(D=>D.id===T),B=(a==="public"?e:r).filter(T=>T.name.toLowerCase().includes(s.toLowerCase())||T.description&&T.description.toLowerCase().includes(s.toLowerCase())),A=T=>new Date(T).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric"});return u&&!d?l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsx("div",{className:"text-center",children:"..."})})]}):l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),l.jsxs("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(No,{size:20,className:"mr-2"})," "]})]}),l.jsx("p",{className:"text-gray-600",children:"      "})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(Lu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:" ...",value:s,onChange:T=>i(T.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[l.jsx("button",{onClick:()=>o("public"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${a==="public"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" "}),l.jsxs("button",{onClick:()=>o("my"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${a==="my"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["  (",r.length,")"]})]})}),B.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(T=>{var D,q,K;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-200",children:[l.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-500 to-purple-600 relative",children:[T.avatar&&l.jsx("img",{src:T.avatar,alt:T.name,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute top-3 right-3",children:T.is_private?l.jsx(An,{size:16,className:"text-white bg-black bg-opacity-50 p-1 rounded"}):l.jsx(Ou,{size:16,className:"text-white bg-black bg-opacity-50 p-1 rounded"})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:T.name}),T.description&&l.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-2",children:T.description}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx($n,{size:14,className:"mr-1"}),T.member_count||1," "]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(cm,{size:14,className:"mr-1"}),A(T.created_at)]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(D=T.created_by_profile)!=null&&D.avatar?l.jsx("img",{src:T.created_by_profile.avatar,alt:"Creator",className:"w-full h-full rounded-full object-cover"}):l.jsx(da,{size:16,className:"text-gray-400"})}),l.jsx("div",{className:"ml-2",children:l.jsxs("p",{className:"text-xs text-gray-600",children:[(q=T.created_by_profile)==null?void 0:q.name," ",(K=T.created_by_profile)==null?void 0:K.last_name]})})]}),a==="public"&&!P(T.id)?l.jsx("button",{onClick:()=>C(T.id),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:""}):l.jsx("button",{onClick:()=>N(`/groups/${T.id}`),className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 transition-colors",children:""})]})]})]},T.id)})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx($n,{size:32,className:"text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a==="public"?"  ":"      "}),l.jsx("p",{className:"text-gray-600",children:a==="public"?"   ":"      "})]})]})}),h&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" "}),l.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Vr,{size:24})})]}),l.jsxs("form",{onSubmit:I,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),l.jsx("input",{type:"text",value:p.name,onChange:T=>m({...p,name:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  ",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsx("textarea",{value:p.description,onChange:T=>m({...p,description:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ",rows:3})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("label",{className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx(dm,{size:18,className:"mr-2 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600",children:p.avatar?p.avatar.name:" "}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:T=>m({...p,avatar:T.target.files[0]})})]})})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"isPrivate",checked:p.isPrivate,onChange:T=>m({...p,isPrivate:T.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isPrivate",className:"ml-2 block text-sm text-gray-700",children:"  (  )"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:""}),l.jsx("button",{type:"submit",disabled:w||!p.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"...":""})]})]})]})})]})}function Qw(){var W,te;const{groupId:e}=Y0(),t=er(),[r,n]=_.useState(null),[s,i]=_.useState([]),[a,o]=_.useState([]),[u,c]=_.useState(null),[d,f]=_.useState(null),[h,v]=_.useState(!0),[w,x]=_.useState("posts"),[N,p]=_.useState(""),[m,g]=_.useState([]),[j,S]=_.useState(!1);_.useEffect(()=>{I()},[]),_.useEffect(()=>{u&&e&&(C(),P(),B(),A())},[u,e]);const I=async()=>{try{const{data:{user:R},error:J}=await ee.auth.getUser();if(J||!R){t("/login");return}const{data:ve,error:ue}=await ee.from("user_profiles").select("*").eq("auth_user_id",R.id).single();if(ue){console.error("Error fetching user profile:",ue);return}c(ve)}catch(R){console.error("Error fetching current user:",R)}},C=async()=>{try{const{data:R,error:J}=await ee.from("groups").select(`
          *,
          created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
        `).eq("id",e).single();if(J)throw J;n(R)}catch(R){console.error("Error fetching group details:",R),t("/groups")}finally{v(!1)}},P=async()=>{try{const{data:R,error:J}=await ee.from("group_posts").select(`
          *,
          author:user_profiles!group_posts_author_id_fkey(name, last_name, avatar),
          media:group_post_media(*)
        `).eq("group_id",e).order("created_at",{ascending:!1});if(J)throw J;i(R||[])}catch(R){console.error("Error fetching group posts:",R)}},B=async()=>{try{const{data:R,error:J}=await ee.from("group_members").select(`
          *,
          user:user_profiles!group_members_user_id_fkey(name, last_name, avatar)
        `).eq("group_id",e).order("joined_at",{ascending:!1});if(J)throw J;o(R||[])}catch(R){console.error("Error fetching group members:",R)}},A=async()=>{try{if(!u)return;const{data:R,error:J}=await ee.from("group_members").select("*").eq("group_id",e).eq("user_id",u.id).single();if(J&&J.code!=="PGRST116")throw J;f(R)}catch(R){console.error("Error checking user membership:",R)}},T=async()=>{try{if(!u)return;const{error:R}=await ee.from("group_members").insert([{group_id:e,user_id:u.id,role:"member"}]);if(R)throw R;A(),B(),alert("    !")}catch(R){console.error("Error joining group:",R),alert("    ")}},D=async()=>{try{if(!u||!d)return;if(d.role==="admin"){alert("    ");return}const{error:R}=await ee.from("group_members").delete().eq("group_id",e).eq("user_id",u.id);if(R)throw R;f(null),B(),alert("  ")}catch(R){console.error("Error leaving group:",R),alert("    ")}},q=R=>{const J=Array.from(R.target.files);g(J)},K=R=>{g(J=>J.filter((ve,ue)=>ue!==R))},ae=async R=>{if(R.preventDefault(),!(!u||!d||!N.trim()&&m.length===0))try{S(!0);const{data:J,error:ve}=await ee.from("group_posts").insert([{group_id:e,author_id:u.id,content:N.trim()}]).select().single();if(ve)throw ve;if(m.length>0)for(const ue of m){const Ee=ue.name.split(".").pop(),Te=`${Date.now()}-${Math.random().toString(36).substring(7)}.${Ee}`,nt=`group-posts/${e}/${Te}`,Ge=ue.type.startsWith("video/")?"video":"image",{error:xt}=await ee.storage.from("media").upload(nt,ue);if(xt)throw xt;const{data:{publicUrl:Bn}}=ee.storage.from("media").getPublicUrl(nt);await ee.from("group_post_media").insert([{post_id:J.id,type:Ge,url:Bn,filename:ue.name,file_size:ue.size}])}p(""),g([]),P()}catch(J){console.error("Error creating post:",J),alert("   ")}finally{S(!1)}},ne=R=>new Date(R).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Se=R=>{switch(R){case"admin":return"";case"moderator":return"";default:return""}};if(h)return l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsx("div",{className:"text-center",children:"..."})})]});if(!r)return l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsx("div",{className:"text-center",children:"  "})})]});const $=!!d,H=(d==null?void 0:d.role)==="admin";return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"flex-1 ml-64",children:[l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-8 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>t("/groups"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(Ty,{size:20})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mr-4",children:r.avatar?l.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full rounded-full object-cover"}):l.jsx($n,{size:24,className:"text-gray-400"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mr-2",children:r.name}),r.is_private?l.jsx(An,{size:16,className:"text-gray-500"}):l.jsx(Ou,{size:16,className:"text-gray-500"})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[l.jsxs("span",{children:[r.member_count||a.length," "]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[" ",ne(r.created_at)]})]})]})]})]}),l.jsx("div",{className:"flex items-center space-x-3",children:$?l.jsxs(l.Fragment,{children:[!H&&l.jsxs("button",{onClick:D,className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[l.jsx(Zy,{size:18,className:"mr-2"}),""]}),H&&l.jsxs("button",{className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[l.jsx(mm,{size:18,className:"mr-2"}),""]})]}):l.jsxs("button",{onClick:T,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsx(Eo,{size:18,className:"mr-2"}),""]})})]}),r.description&&l.jsx("p",{className:"mt-4 text-gray-600",children:r.description})]})}),l.jsx("div",{className:"max-w-6xl mx-auto px-8 py-6",children:$?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[l.jsxs("button",{onClick:()=>x("posts"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${w==="posts"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[" (",s.length,")"]}),l.jsxs("button",{onClick:()=>x("members"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${w==="members"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[" (",a.length,")"]})]})}),w==="posts"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsx("form",{onSubmit:ae,children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:u!=null&&u.avatar?l.jsx("img",{src:u.avatar,alt:u.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-sm text-gray-600",children:(te=(W=u==null?void 0:u.name)==null?void 0:W[0])==null?void 0:te.toUpperCase()})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("textarea",{value:N,onChange:R=>p(R.target.value),placeholder:"   ...",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3}),m.length>0&&l.jsx("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-2",children:m.map((R,J)=>l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:R.type.startsWith("image/")?l.jsx("img",{src:URL.createObjectURL(R),alt:"",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(ev,{size:24,className:"text-gray-400"})})}),l.jsx("button",{type:"button",onClick:()=>K(J),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:l.jsx(Vr,{size:12})})]},J))}),l.jsxs("div",{className:"flex items-center justify-between mt-3",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("label",{className:"flex items-center px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg cursor-pointer",children:[l.jsx(dm,{size:18,className:"mr-1"}),l.jsx("span",{className:"text-sm",children:"/"}),l.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:q})]})}),l.jsxs("button",{type:"submit",disabled:j||!N.trim()&&m.length===0,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[j?l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):l.jsx(Ky,{size:16,className:"mr-2"}),j?"...":""]})]})]})]})})}),s.length>0?s.map(R=>{var J,ve,ue,Ee,Te,nt;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(J=R.author)!=null&&J.avatar?l.jsx("img",{src:R.author.avatar,alt:R.author.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-sm text-gray-600",children:(Ee=(ue=(ve=R.author)==null?void 0:ve.name)==null?void 0:ue[0])==null?void 0:Ee.toUpperCase()})}),l.jsxs("div",{className:"ml-3",children:[l.jsxs("p",{className:"font-medium text-gray-900",children:[(Te=R.author)==null?void 0:Te.name," ",(nt=R.author)==null?void 0:nt.last_name]}),l.jsx("p",{className:"text-sm text-gray-500",children:ne(R.created_at)})]})]}),l.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(ud,{size:16,className:"text-gray-400"})})]})}),R.content&&l.jsx("div",{className:"px-6 pb-4",children:l.jsx("p",{className:"text-gray-900",children:R.content})}),R.media&&R.media.length>0&&l.jsx("div",{className:"px-6 pb-4",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:R.media.map((Ge,xt)=>l.jsx("div",{className:"rounded-lg overflow-hidden",children:Ge.type==="image"?l.jsx("img",{src:Ge.url,alt:"",className:"w-full h-64 object-cover"}):l.jsx("video",{src:Ge.url,className:"w-full h-64 object-cover",controls:!0})},xt))})}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("button",{className:"flex items-center text-gray-600 hover:text-red-500",children:[l.jsx(Fy,{size:18,className:"mr-1"}),l.jsx("span",{className:"text-sm",children:""})]}),l.jsxs("button",{className:"flex items-center text-gray-600 hover:text-blue-500",children:[l.jsx(ko,{size:18,className:"mr-1"}),l.jsx("span",{className:"text-sm",children:""})]}),l.jsxs("button",{className:"flex items-center text-gray-600 hover:text-green-500",children:[l.jsx(Jy,{size:18,className:"mr-1"}),l.jsx("span",{className:"text-sm",children:""})]})]})})})]},R.id)}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ko,{size:32,className:"text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"   "}),l.jsx("p",{className:"text-gray-600",children:" ,    !"})]})]}),w==="members"&&l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["  (",a.length,")"]}),l.jsx("div",{className:"space-y-4",children:a.map(R=>{var J,ve,ue,Ee,Te,nt,Ge;return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(J=R.user)!=null&&J.avatar?l.jsx("img",{src:R.user.avatar,alt:R.user.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-lg text-gray-600",children:(Ee=(ue=(ve=R.user)==null?void 0:ve.name)==null?void 0:ue[0])==null?void 0:Ee.toUpperCase()})}),l.jsxs("div",{className:"ml-4",children:[l.jsxs("p",{className:"font-medium text-gray-900",children:[(Te=R.user)==null?void 0:Te.name," ",(nt=R.user)==null?void 0:nt.last_name]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${R.role==="admin"?"bg-red-100 text-red-800":R.role==="moderator"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:Se(R.role)}),l.jsxs("span",{className:"ml-2",children:[" ",ne(R.joined_at)]})]})]})]}),H&&((Ge=R.user)==null?void 0:Ge.id)!==(u==null?void 0:u.id)&&l.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:l.jsx(ud,{size:16})})]},R.id)})})]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(An,{size:32,className:"text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),l.jsx("p",{className:"text-gray-600 mb-6",children:"       ,   "}),l.jsxs("button",{onClick:T,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mx-auto",children:[l.jsx(Eo,{size:18,className:"mr-2"}),"  "]})]})})]})]})}class qt{static async getAllGames(t,r){try{let n=he.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).order("created_at",{ascending:!1});t&&t!=="other"&&(n=n.eq("category",t)),r&&r.length>=2&&(n=n.ilike("title",`%${r}%`));const{data:s,error:i}=await n;if(i)throw i;return s||[]}catch(n){return console.error("Error fetching games:",n),[]}}static async getGameById(t){try{const{data:r,error:n}=await he.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("id",t).eq("is_active",!0).single();if(n)throw n;return r}catch(r){return console.error("Error fetching game:",r),null}}static async createGame(t){try{const r=await Ht.getCurrentUserProfile();if(!r)return null;const{data:n,error:s}=await he.from("games").insert([{...t,developer_id:r.id.toString()}]).select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).single();if(s)throw s;return n}catch(r){return console.error("Error creating game:",r),null}}static async updateGame(t,r){try{const{error:n}=await he.from("games").update({...r,updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n;return!0}catch(n){return console.error("Error updating game:",n),!1}}static async deleteGame(t){try{const{error:r}=await he.from("games").delete().eq("id",t);if(r)throw r;return!0}catch(r){return console.error("Error deleting game:",r),!1}}static async getGamesByDeveloper(){try{const t=await Ht.getCurrentUserProfile();if(!t)return[];const{data:r,error:n}=await he.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("developer_id",t.id.toString()).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(t){return console.error("Error fetching developer games:",t),[]}}static async recordGamePlay(t,r=0){try{const n=await Ht.getCurrentUserProfile();if(!n)return!1;const{error:s}=await he.from("game_plays").insert([{game_id:t,user_id:n.id.toString(),duration:r}]);if(s)throw s;return!0}catch(n){return console.error("Error recording game play:",n),!1}}static async rateGame(t,r,n=""){try{const s=await Ht.getCurrentUserProfile();if(!s)return!1;const{error:i}=await he.from("game_ratings").upsert([{game_id:t,user_id:s.id.toString(),rating:r,review:n}]);if(i)throw i;return!0}catch(s){return console.error("Error rating game:",s),!1}}static async getGameRatings(t){try{const{data:r,error:n}=await he.from("game_ratings").select(`
          *,
          user:users!game_ratings_user_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("game_id",t).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){return console.error("Error fetching game ratings:",r),[]}}static async getUserGameRating(t){try{const r=await Ht.getCurrentUserProfile();if(!r)return null;const{data:n,error:s}=await he.from("game_ratings").select("*").eq("game_id",t).eq("user_id",r.id.toString()).single();if(s){if(s.code==="PGRST116")return null;throw s}return n}catch(r){return console.error("Error fetching user game rating:",r),null}}static async getPopularGames(t=10){try{const{data:r,error:n}=await he.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).order("play_count",{ascending:!1}).limit(t);if(n)throw n;return r||[]}catch(r){return console.error("Error fetching popular games:",r),[]}}static async getTopRatedGames(t=10){try{const{data:r,error:n}=await he.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).gt("rating",0).order("rating",{ascending:!1}).limit(t);if(n)throw n;return r||[]}catch(r){return console.error("Error fetching top rated games:",r),[]}}}function Xw({game:e,onPlay:t}){var s,i,a,o,u,c;const r=d=>({action:"",puzzle:"",strategy:"",arcade:"",adventure:"",simulation:"",sports:"",racing:"",other:""})[d]||d,n=d=>d>=1e3?`${(d/1e3).toFixed(1)}k`:d.toString();return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[l.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-500 to-purple-600 overflow-hidden",children:[e.thumbnail?l.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(wl,{className:"text-white opacity-50",size:48})}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsxs("button",{onClick:t,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(wl,{size:20,className:"mr-2"}),""]})}),l.jsx("div",{className:"absolute top-3 left-3",children:l.jsx("span",{className:"px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded-full",children:r(e.category)})}),e.rating>0&&l.jsx("div",{className:"absolute top-3 right-3",children:l.jsxs("div",{className:"flex items-center px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded-full",children:[l.jsx(So,{size:12,className:"mr-1 fill-current text-yellow-400"}),e.rating.toFixed(1)]})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:e.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description||" "}),l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-2",children:(s=e.developer)!=null&&s.avatar?l.jsx("img",{src:e.developer.avatar,alt:e.developer.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-xs text-gray-600",children:(o=(a=(i=e.developer)==null?void 0:i.name)==null?void 0:a[0])==null?void 0:o.toUpperCase()})}),l.jsxs("span",{className:"text-sm text-gray-600",children:[(u=e.developer)==null?void 0:u.name," ",(c=e.developer)==null?void 0:c.lastName]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Iy,{size:16,className:"mr-1"}),l.jsxs("span",{children:[n(e.play_count)," "]})]}),l.jsx("span",{children:new Date(e.created_at).toLocaleDateString("uk-UA")})]}),l.jsxs("button",{onClick:t,className:"w-full mt-4 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(wl,{size:18,className:"mr-2"})," "]})]})]})}const Zw=[{value:"action",label:""},{value:"puzzle",label:""},{value:"strategy",label:""},{value:"arcade",label:""},{value:"adventure",label:""},{value:"simulation",label:""},{value:"sports",label:""},{value:"racing",label:""},{value:"other",label:""}];function Yw({onClose:e,onSubmit:t}){const[r,n]=_.useState(""),[s,i]=_.useState(""),[a,o]=_.useState(""),[u,c]=_.useState(""),[d,f]=_.useState("other"),[h,v]=_.useState(!1),w=async x=>{if(x.preventDefault(),!(!r.trim()||!u.trim())){v(!0);try{await t({title:r.trim(),description:s.trim(),thumbnail:a.trim()||void 0,game_url:u.trim(),category:d})}finally{v(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"  "}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Vr,{size:24})})]}),l.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),l.jsx("input",{type:"text",value:r,onChange:x=>n(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  ",required:!0,maxLength:100})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),l.jsx("textarea",{value:s,onChange:x=>i(x.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ...",maxLength:500})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),l.jsx("select",{value:d,onChange:x=>f(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Zw.map(x=>l.jsx("option",{value:x.value,children:x.label},x.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL  *"}),l.jsxs("div",{className:"relative",children:[l.jsx(My,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"url",value:u,onChange:x=>c(x.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/game.html",required:!0})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  HTML    -  "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (URL)"}),l.jsxs("div",{className:"relative",children:[l.jsx(pm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"url",value:a,onChange:x=>o(x.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/thumbnail.jpg"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  -  (')"})]}),a&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:":"}),l.jsx("img",{src:a,alt:"Game thumbnail preview",className:"w-full h-32 object-cover rounded-lg",onError:x=>{x.currentTarget.style.display="none"}})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:""}),l.jsx("button",{type:"submit",disabled:h||!r.trim()||!u.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"...":" "})]})]})]})})}function e1({game:e,onClose:t}){var P,B;const[r,n]=_.useState(!1),[s,i]=_.useState(null),[a,o]=_.useState([]),[u,c]=_.useState(0),[d,f]=_.useState(""),[h,v]=_.useState(!1),[w]=_.useState(Date.now()),[x,N]=_.useState(!1);_.useEffect(()=>{p(),m(),g()},[e.id]);const p=async()=>{const A=await qt.getGameRatings(e.id);o(A)},m=async()=>{const A=await qt.getUserGameRating(e.id);i(A),A&&(c(A.rating),f(A.review))},g=async()=>{await qt.recordGamePlay(e.id)},j=async A=>{if(A.preventDefault(),u===0)return;N(!0),await qt.rateGame(e.id,u,d)&&(await p(),await m(),v(!1)),N(!1)},S=async()=>{const A=Math.floor((Date.now()-w)/1e3);A>10&&await qt.recordGamePlay(e.id,A),t()},I=()=>{n(!r)},C=(A,T=!1,D)=>l.jsx("div",{className:"flex",children:[1,2,3,4,5].map(q=>l.jsx("button",{type:T?"button":void 0,onClick:T&&D?()=>D(q):void 0,className:`${T?"cursor-pointer hover:scale-110":"cursor-default"} transition-transform`,disabled:!T,children:l.jsx(So,{size:20,className:`${q<=A?"text-yellow-400 fill-current":"text-gray-300"}`})},q))});return l.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 ${r?"p-0":"p-4"}`,children:l.jsxs("div",{className:`bg-white rounded-lg shadow-xl ${r?"w-full h-full rounded-none":"w-full max-w-6xl h-[90vh]"} flex flex-col`,children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mr-4",children:e.title}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(So,{size:16,className:"mr-1 text-yellow-400 fill-current"}),l.jsxs("span",{children:[e.rating.toFixed(1)," (",a.length," )"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:I,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",title:r?"   ":" ",children:l.jsx(Hy,{size:20})}),l.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",title:" ",children:l.jsx(hm,{size:20})}),l.jsx("button",{onClick:S,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:l.jsx(Vr,{size:20})})]})]}),l.jsxs("div",{className:"flex-1 flex",children:[l.jsx("div",{className:"flex-1 bg-gray-100",children:l.jsx("iframe",{src:e.game_url,className:"w-full h-full border-0",title:e.title,allowFullScreen:!0,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-pointer-lock"})}),!r&&l.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 overflow-y-auto",children:l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" "}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description||" "}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:":"}),l.jsxs("span",{className:"text-gray-900",children:[(P=e.developer)==null?void 0:P.name," ",(B=e.developer)==null?void 0:B.lastName]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:":"}),l.jsx("span",{className:"text-gray-900",children:e.category})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:":"}),l.jsxs("span",{className:"text-gray-900",children:[e.play_count," "]})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:""}),!s&&l.jsx("button",{onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:""})]}),h&&l.jsxs("form",{onSubmit:j,className:"mb-4 p-3 bg-white rounded-lg border",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" :"}),C(u,!0,c)]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ('):"}),l.jsx("textarea",{value:d,onChange:A=>f(A.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ..."})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:""}),l.jsx("button",{type:"submit",disabled:x||u===0,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 disabled:opacity-50",children:x?"...":""})]})]}),s&&l.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:" :"}),l.jsx("button",{onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:""})]}),C(s.rating),s.review&&l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s.review})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[l.jsx(qy,{size:18,className:"mr-2"})," (",a.length,")"]}),l.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:a.length>0?a.map(A=>{var T,D,q,K,ae,ne;return l.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-2",children:(T=A.user)!=null&&T.avatar?l.jsx("img",{src:A.user.avatar,alt:A.user.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-xs text-gray-600",children:(K=(q=(D=A.user)==null?void 0:D.name)==null?void 0:q[0])==null?void 0:K.toUpperCase()})}),l.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[(ae=A.user)==null?void 0:ae.name," ",(ne=A.user)==null?void 0:ne.lastName]})]}),C(A.rating)]}),A.review&&l.jsx("p",{className:"text-sm text-gray-600",children:A.review}),l.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(A.created_at).toLocaleDateString("uk-UA")})]},A.id)}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"  "})})]})]})})]})]})})}const t1=[{value:"action",label:""},{value:"puzzle",label:""},{value:"strategy",label:""},{value:"arcade",label:""},{value:"adventure",label:""},{value:"simulation",label:""},{value:"sports",label:""},{value:"racing",label:""},{value:"other",label:""}];function r1(){const[e,t]=_.useState([]),[r,n]=_.useState([]),[s,i]=_.useState([]),[a,o]=_.useState(!0),[u,c]=_.useState(""),[d,f]=_.useState(""),[h,v]=_.useState(!1),[w,x]=_.useState(null),[N,p]=_.useState("all");er(),_.useEffect(()=>{m(),g(),j()},[]),_.useEffect(()=>{const P=setTimeout(()=>{m()},300);return()=>clearTimeout(P)},[u,d]);const m=async()=>{try{o(!0);const P=await qt.getAllGames(d,u);t(P)}catch(P){console.error("Error loading games:",P)}finally{o(!1)}},g=async()=>{try{const P=await qt.getPopularGames(6);n(P)}catch(P){console.error("Error loading popular games:",P)}},j=async()=>{try{const P=await qt.getTopRatedGames(6);i(P)}catch(P){console.error("Error loading top rated games:",P)}},S=async P=>{const B=await qt.createGame(P);B&&(t(A=>[B,...A]),v(!1))},I=P=>{x(P)},C=()=>{switch(N){case"popular":return r;case"top-rated":return s;default:return e}};return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(od,{className:"h-8 w-8 text-blue-600 mr-3"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""})]}),l.jsxs("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(No,{size:20,className:"mr-2"})," "]})]}),l.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg w-fit",children:[l.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${N==="all"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" "}),l.jsxs("button",{onClick:()=>p("popular"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${N==="popular"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(Qy,{size:16,className:"mr-1"}),""]}),l.jsxs("button",{onClick:()=>p("top-rated"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${N==="top-rated"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(Ry,{size:16,className:"mr-1"}),""]})]}),N==="all"&&l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Lu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:" ...",value:u,onChange:P=>c(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Dy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsxs("select",{value:d,onChange:P=>f(P.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[l.jsx("option",{value:"",children:" "}),t1.map(P=>l.jsx("option",{value:P.value,children:P.label},P.value))]})]})]}),a?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:" ..."})]}):C().length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:C().map(P=>l.jsx(Xw,{game:P,onPlay:()=>I(P)},P.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(od,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:u||d?"  ":" "}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u||d?"     ":"    "}),!u&&!d&&l.jsx("div",{className:"mt-6",children:l.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(No,{className:"-ml-1 mr-2 h-5 w-5"})," "]})})]})]})}),h&&l.jsx(Yw,{onClose:()=>v(!1),onSubmit:S}),w&&l.jsx(e1,{game:w,onClose:()=>x(null)})]})}function n1(){return _.useEffect(()=>{(async()=>{var r,n,s,i,a,o,u;const{data:{session:t}}=await he.auth.getSession();if(t!=null&&t.user){const{data:c}=await he.from("users").select("id").eq("email",t.user.email).single();c||await he.from("users").insert([{name:((r=t.user.user_metadata)==null?void 0:r.name)||((s=(n=t.user.user_metadata)==null?void 0:n.full_name)==null?void 0:s.split(" ")[0])||((i=t.user.email)==null?void 0:i.split("@")[0])||"User",lastName:((a=t.user.user_metadata)==null?void 0:a.lastName)||((u=(o=t.user.user_metadata)==null?void 0:o.full_name)==null?void 0:u.split(" ").slice(1).join(" "))||"",email:t.user.email,date:new Date().toISOString(),notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1}}])}})()},[]),null}function s1(){return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx($n,{className:"h-8 w-8 text-blue-600"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(Ms,{to:"/login",className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:""}),l.jsx(Ms,{to:"/register",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200",children:""})]})]})})}),l.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-8",children:"    "}),l.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"    ,    ,      ."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:""}),l.jsx("p",{className:"text-gray-600",children:"      "})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:""}),l.jsx("p",{className:"text-gray-600",children:" ,    "})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:""}),l.jsx("p",{className:"text-gray-600",children:"      "})]})]})]})})]})}function i1(){return l.jsxs(by,{children:[l.jsx(n1,{}),l.jsxs(my,{children:[l.jsx(_t,{path:"/",element:l.jsx(s1,{})}),l.jsx(_t,{path:"/login",element:l.jsx(xw,{})}),l.jsx(_t,{path:"/register",element:l.jsx(ww,{})}),l.jsx(_t,{path:"/profile",element:l.jsx(qw,{})}),l.jsx(_t,{path:"/messages",element:l.jsx(Ww,{})}),l.jsx(_t,{path:"/friends",element:l.jsx(Gw,{})}),l.jsx(_t,{path:"/settings",element:l.jsx(Kw,{})}),l.jsx(_t,{path:"/groups",element:l.jsx(Jw,{})}),l.jsx(_t,{path:"/groups/:groupId",element:l.jsx(Qw,{})}),l.jsx(_t,{path:"/games",element:l.jsx(r1,{})})]})]})}Zh(document.getElementById("root")).render(l.jsx(_.StrictMode,{children:l.jsx(i1,{})}));export{Xm as g};
