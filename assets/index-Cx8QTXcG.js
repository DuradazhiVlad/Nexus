function Jm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ym(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Fd={exports:{}},va={},Md={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=Symbol.for("react.element"),Zm=Symbol.for("react.portal"),ep=Symbol.for("react.fragment"),tp=Symbol.for("react.strict_mode"),rp=Symbol.for("react.profiler"),np=Symbol.for("react.provider"),sp=Symbol.for("react.context"),ip=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),lp=Symbol.for("react.memo"),op=Symbol.for("react.lazy"),Ku=Symbol.iterator;function up(e){return e===null||typeof e!="object"?null:(e=Ku&&e[Ku]||e["@@iterator"],typeof e=="function"?e:null)}var Vd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bd=Object.assign,qd={};function Wn(e,t,r){this.props=e,this.context=t,this.refs=qd,this.updater=r||Vd}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hd(){}Hd.prototype=Wn.prototype;function Io(e,t,r){this.props=e,this.context=t,this.refs=qd,this.updater=r||Vd}var zo=Io.prototype=new Hd;zo.constructor=Io;Bd(zo,Wn.prototype);zo.isPureReactComponent=!0;var Qu=Array.isArray,Wd=Object.prototype.hasOwnProperty,Fo={current:null},Gd={key:!0,ref:!0,__self:!0,__source:!0};function Kd(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Wd.call(t,n)&&!Gd.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),d=0;d<o;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Qs,type:e,key:i,ref:a,props:s,_owner:Fo.current}}function cp(e,t){return{$$typeof:Qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qs}function dp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ju=/\/+/g;function Ga(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dp(""+e.key):t.toString(36)}function Si(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Qs:case Zm:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ga(a,0):n,Qu(s)?(r="",e!=null&&(r=e.replace(Ju,"$&/")+"/"),Si(s,t,r,"",function(d){return d})):s!=null&&(Mo(s)&&(s=cp(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ju,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Qu(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+Ga(i,o);a+=Si(i,t,r,u,s)}else if(u=up(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+Ga(i,o++),a+=Si(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ii(e,t,r){if(e==null)return e;var n=[],s=0;return Si(e,n,"","",function(i){return t.call(r,i,s++)}),n}function fp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},Ei={transition:null},hp={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:Ei,ReactCurrentOwner:Fo};function Qd(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:ii,forEach:function(e,t,r){ii(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ii(e,function(){t++}),t},toArray:function(e){return ii(e,function(t){return t})||[]},only:function(e){if(!Mo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Wn;Z.Fragment=ep;Z.Profiler=rp;Z.PureComponent=Io;Z.StrictMode=tp;Z.Suspense=ap;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hp;Z.act=Qd;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Bd({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Fo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Wd.call(t,u)&&!Gd.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var d=0;d<u;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Qs,type:e.type,key:s,ref:i,props:n,_owner:a}};Z.createContext=function(e){return e={$$typeof:sp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:np,_context:e},e.Consumer=e};Z.createElement=Kd;Z.createFactory=function(e){var t=Kd.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:ip,render:e}};Z.isValidElement=Mo;Z.lazy=function(e){return{$$typeof:op,_payload:{_status:-1,_result:e},_init:fp}};Z.memo=function(e,t){return{$$typeof:lp,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Ei.transition;Ei.transition={};try{e()}finally{Ei.transition=t}};Z.unstable_act=Qd;Z.useCallback=function(e,t){return We.current.useCallback(e,t)};Z.useContext=function(e){return We.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return We.current.useDeferredValue(e)};Z.useEffect=function(e,t){return We.current.useEffect(e,t)};Z.useId=function(){return We.current.useId()};Z.useImperativeHandle=function(e,t,r){return We.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return We.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return We.current.useReducer(e,t,r)};Z.useRef=function(e){return We.current.useRef(e)};Z.useState=function(e){return We.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return We.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return We.current.useTransition()};Z.version="18.3.1";Md.exports=Z;var x=Md.exports;const pt=Xm(x),mp=Jm({__proto__:null,default:pt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=x,gp=Symbol.for("react.element"),yp=Symbol.for("react.fragment"),vp=Object.prototype.hasOwnProperty,xp=pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wp={key:!0,ref:!0,__self:!0,__source:!0};function Jd(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)vp.call(t,n)&&!wp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:gp,type:e,key:i,ref:a,props:s,_owner:xp.current}}va.Fragment=yp;va.jsx=Jd;va.jsxs=Jd;Fd.exports=va;var l=Fd.exports,Xd={exports:{}},ft={},Yd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,W){var G=D.length;D.push(W);e:for(;0<G;){var te=G-1>>>1,le=D[te];if(0<s(le,W))D[te]=W,D[G]=le,G=te;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var W=D[0],G=D.pop();if(G!==W){D[0]=G;e:for(var te=0,le=D.length,mt=le>>>1;te<mt;){var Ve=2*(te+1)-1,At=D[Ve],Ke=Ve+1,Ue=D[Ke];if(0>s(At,G))Ke<le&&0>s(Ue,At)?(D[te]=Ue,D[Ke]=G,te=Ke):(D[te]=At,D[Ve]=G,te=Ve);else if(Ke<le&&0>s(Ue,G))D[te]=Ue,D[Ke]=G,te=Ke;else break e}}return W}function s(D,W){var G=D.sortIndex-W.sortIndex;return G!==0?G:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],d=[],c=1,f=null,h=3,v=!1,b=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var W=r(d);W!==null;){if(W.callback===null)n(d);else if(W.startTime<=D)n(d),W.sortIndex=W.expirationTime,t(u,W);else break;W=r(d)}}function j(D){if(w=!1,g(D),!b)if(r(u)!==null)b=!0,se(S);else{var W=r(d);W!==null&&we(j,W.startTime-D)}}function S(D,W){b=!1,w&&(w=!1,p(T),T=-1),v=!0;var G=h;try{for(g(W),f=r(u);f!==null&&(!(f.expirationTime>W)||D&&!C());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var le=te(f.expirationTime<=W);W=e.unstable_now(),typeof le=="function"?f.callback=le:f===r(u)&&n(u),g(W)}else n(u);f=r(u)}if(f!==null)var mt=!0;else{var Ve=r(d);Ve!==null&&we(j,Ve.startTime-W),mt=!1}return mt}finally{f=null,h=G,v=!1}}var I=!1,P=null,T=-1,A=5,R=-1;function C(){return!(e.unstable_now()-R<A)}function U(){if(P!==null){var D=e.unstable_now();R=D;var W=!0;try{W=P(!0,D)}finally{W?H():(I=!1,P=null)}}else I=!1}var H;if(typeof m=="function")H=function(){m(U)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ae=Q.port2;Q.port1.onmessage=U,H=function(){ae.postMessage(null)}}else H=function(){N(U,0)};function se(D){P=D,I||(I=!0,H())}function we(D,W){T=N(function(){D(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,se(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var G=h;h=W;try{return D()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=h;h=D;try{return W()}finally{h=G}},e.unstable_scheduleCallback=function(D,W,G){var te=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,D){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=G+le,D={id:c++,callback:W,priorityLevel:D,startTime:G,expirationTime:le,sortIndex:-1},G>te?(D.sortIndex=G,t(d,D),r(u)===null&&D===r(d)&&(w?(p(T),T=-1):w=!0,we(j,G-te))):(D.sortIndex=le,t(u,D),b||v||(b=!0,se(S))),D},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(D){var W=h;return function(){var G=h;h=W;try{return D.apply(this,arguments)}finally{h=G}}}})(Zd);Yd.exports=Zd;var bp=Yd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=x,dt=bp;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ef=new Set,Cs={};function tn(e,t){An(e,t),An(e+"Capture",t)}function An(e,t){for(Cs[e]=t,e=0;e<t.length;e++)ef.add(t[e])}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=Object.prototype.hasOwnProperty,jp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xu={},Yu={};function kp(e){return Cl.call(Yu,e)?!0:Cl.call(Xu,e)?!1:jp.test(e)?Yu[e]=!0:(Xu[e]=!0,!1)}function Np(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sp(e,t,r,n){if(t===null||typeof t>"u"||Np(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vo=/[\-:]([a-z])/g;function Bo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vo,Bo);$e[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vo,Bo);$e[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vo,Bo);$e[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function qo(e,t,r,n){var s=$e.hasOwnProperty(t)?$e[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sp(t,r,s,n)&&(r=null),n||s===null?kp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var sr=_p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ai=Symbol.for("react.element"),pn=Symbol.for("react.portal"),gn=Symbol.for("react.fragment"),Ho=Symbol.for("react.strict_mode"),Pl=Symbol.for("react.profiler"),tf=Symbol.for("react.provider"),rf=Symbol.for("react.context"),Wo=Symbol.for("react.forward_ref"),Tl=Symbol.for("react.suspense"),Rl=Symbol.for("react.suspense_list"),Go=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),nf=Symbol.for("react.offscreen"),Zu=Symbol.iterator;function Yn(e){return e===null||typeof e!="object"?null:(e=Zu&&e[Zu]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Ka;function us(e){if(Ka===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ka=t&&t[1]||""}return`
`+Ka+e}var Qa=!1;function Ja(e,t){if(!e||Qa)return"";Qa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{Qa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?us(e):""}function Ep(e){switch(e.tag){case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return e=Ja(e.type,!1),e;case 11:return e=Ja(e.type.render,!1),e;case 1:return e=Ja(e.type,!0),e;default:return""}}function Ol(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gn:return"Fragment";case pn:return"Portal";case Pl:return"Profiler";case Ho:return"StrictMode";case Tl:return"Suspense";case Rl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rf:return(e.displayName||"Context")+".Consumer";case tf:return(e._context.displayName||"Context")+".Provider";case Wo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Go:return t=e.displayName||null,t!==null?t:Ol(e.type)||"Memo";case cr:t=e._payload,e=e._init;try{return Ol(e(t))}catch{}}return null}function Cp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ol(t);case 8:return t===Ho?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pp(e){var t=sf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function li(e){e._valueTracker||(e._valueTracker=Pp(e))}function af(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sf(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ll(e,t){var r=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ec(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lf(e,t){t=t.checked,t!=null&&qo(e,"checked",t,!1)}function Al(e,t){lf(e,t);var r=Pr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$l(e,t.type,r):t.hasOwnProperty("defaultValue")&&$l(e,t.type,Pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $l(e,t,r){(t!=="number"||zi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cs=Array.isArray;function En(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ul(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(cs(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pr(r)}}function of(e,t){var r=Pr(t.value),n=Pr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oi,cf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ps(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tp=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(e){Tp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ms[t]=ms[e]})});function df(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ms.hasOwnProperty(e)&&ms[e]?(""+t).trim():t+"px"}function ff(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=df(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Rp=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(e,t){if(t){if(Rp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function zl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function Ko(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ml=null,Cn=null,Pn=null;function sc(e){if(e=Ys(e)){if(typeof Ml!="function")throw Error(L(280));var t=e.stateNode;t&&(t=ja(t),Ml(e.stateNode,e.type,t))}}function hf(e){Cn?Pn?Pn.push(e):Pn=[e]:Cn=e}function mf(){if(Cn){var e=Cn,t=Pn;if(Pn=Cn=null,sc(e),t)for(e=0;e<t.length;e++)sc(t[e])}}function pf(e,t){return e(t)}function gf(){}var Xa=!1;function yf(e,t,r){if(Xa)return e(t,r);Xa=!0;try{return pf(e,t,r)}finally{Xa=!1,(Cn!==null||Pn!==null)&&(gf(),mf())}}function Ts(e,t){var r=e.stateNode;if(r===null)return null;var n=ja(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Vl=!1;if(er)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{Vl=!1}function Op(e,t,r,n,s,i,a,o,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(c){this.onError(c)}}var ps=!1,Fi=null,Mi=!1,Bl=null,Lp={onError:function(e){ps=!0,Fi=e}};function Ap(e,t,r,n,s,i,a,o,u){ps=!1,Fi=null,Op.apply(Lp,arguments)}function $p(e,t,r,n,s,i,a,o,u){if(Ap.apply(this,arguments),ps){if(ps){var d=Fi;ps=!1,Fi=null}else throw Error(L(198));Mi||(Mi=!0,Bl=d)}}function rn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ic(e){if(rn(e)!==e)throw Error(L(188))}function Up(e){var t=e.alternate;if(!t){if(t=rn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ic(s),e;if(i===n)return ic(s),t;i=i.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function xf(e){return e=Up(e),e!==null?wf(e):null}function wf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wf(e);if(t!==null)return t;e=e.sibling}return null}var bf=dt.unstable_scheduleCallback,ac=dt.unstable_cancelCallback,Dp=dt.unstable_shouldYield,Ip=dt.unstable_requestPaint,be=dt.unstable_now,zp=dt.unstable_getCurrentPriorityLevel,Qo=dt.unstable_ImmediatePriority,_f=dt.unstable_UserBlockingPriority,Vi=dt.unstable_NormalPriority,Fp=dt.unstable_LowPriority,jf=dt.unstable_IdlePriority,xa=null,Vt=null;function Mp(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(xa,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:qp,Vp=Math.log,Bp=Math.LN2;function qp(e){return e>>>=0,e===0?32:31-(Vp(e)/Bp|0)|0}var ui=64,ci=4194304;function ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=ds(o):(i&=a,i!==0&&(n=ds(i)))}else a=r&~s,a!==0?n=ds(a):i!==0&&(n=ds(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Rt(t),s=1<<r,n|=e[r],t&=~s;return n}function Hp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Rt(i),o=1<<a,u=s[a];u===-1?(!(o&r)||o&n)&&(s[a]=Hp(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function ql(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kf(){var e=ui;return ui<<=1,!(ui&4194240)&&(ui=64),e}function Ya(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Js(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rt(t),e[t]=r}function Gp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Rt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Jo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Rt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ie=0;function Nf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sf,Xo,Ef,Cf,Pf,Hl=!1,di=[],wr=null,br=null,_r=null,Rs=new Map,Os=new Map,hr=[],Kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lc(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(t.pointerId)}}function es(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ys(t),t!==null&&Xo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Qp(e,t,r,n,s){switch(t){case"focusin":return wr=es(wr,e,t,r,n,s),!0;case"dragenter":return br=es(br,e,t,r,n,s),!0;case"mouseover":return _r=es(_r,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Rs.set(i,es(Rs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Os.set(i,es(Os.get(i)||null,e,t,r,n,s)),!0}return!1}function Tf(e){var t=Br(e.target);if(t!==null){var r=rn(t);if(r!==null){if(t=r.tag,t===13){if(t=vf(r),t!==null){e.blockedOn=t,Pf(e.priority,function(){Ef(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fl=n,r.target.dispatchEvent(n),Fl=null}else return t=Ys(r),t!==null&&Xo(t),e.blockedOn=r,!1;t.shift()}return!0}function oc(e,t,r){Ci(e)&&r.delete(t)}function Jp(){Hl=!1,wr!==null&&Ci(wr)&&(wr=null),br!==null&&Ci(br)&&(br=null),_r!==null&&Ci(_r)&&(_r=null),Rs.forEach(oc),Os.forEach(oc)}function ts(e,t){e.blockedOn===t&&(e.blockedOn=null,Hl||(Hl=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Jp)))}function Ls(e){function t(s){return ts(s,e)}if(0<di.length){ts(di[0],e);for(var r=1;r<di.length;r++){var n=di[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wr!==null&&ts(wr,e),br!==null&&ts(br,e),_r!==null&&ts(_r,e),Rs.forEach(t),Os.forEach(t),r=0;r<hr.length;r++)n=hr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)Tf(r),r.blockedOn===null&&hr.shift()}var Tn=sr.ReactCurrentBatchConfig,qi=!0;function Xp(e,t,r,n){var s=ie,i=Tn.transition;Tn.transition=null;try{ie=1,Yo(e,t,r,n)}finally{ie=s,Tn.transition=i}}function Yp(e,t,r,n){var s=ie,i=Tn.transition;Tn.transition=null;try{ie=4,Yo(e,t,r,n)}finally{ie=s,Tn.transition=i}}function Yo(e,t,r,n){if(qi){var s=Wl(e,t,r,n);if(s===null)ol(e,t,n,Hi,r),lc(e,n);else if(Qp(s,e,t,r,n))n.stopPropagation();else if(lc(e,n),t&4&&-1<Kp.indexOf(e)){for(;s!==null;){var i=Ys(s);if(i!==null&&Sf(i),i=Wl(e,t,r,n),i===null&&ol(e,t,n,Hi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ol(e,t,n,null,r)}}var Hi=null;function Wl(e,t,r,n){if(Hi=null,e=Ko(n),e=Br(e),e!==null)if(t=rn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hi=e,null}function Rf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zp()){case Qo:return 1;case _f:return 4;case Vi:case Fp:return 16;case jf:return 536870912;default:return 16}default:return 16}}var yr=null,Zo=null,Pi=null;function Of(){if(Pi)return Pi;var e,t=Zo,r=t.length,n,s="value"in yr?yr.value:yr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Pi=s.slice(e,1<n?1-n:void 0)}function Ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fi(){return!0}function uc(){return!1}function ht(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fi:uc,this.isPropagationStopped=uc,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),t}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=ht(Gn),Xs=ye({},Gn,{view:0,detail:0}),Zp=ht(Xs),Za,el,rs,wa=ye({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(Za=e.screenX-rs.screenX,el=e.screenY-rs.screenY):el=Za=0,rs=e),Za)},movementY:function(e){return"movementY"in e?e.movementY:el}}),cc=ht(wa),eg=ye({},wa,{dataTransfer:0}),tg=ht(eg),rg=ye({},Xs,{relatedTarget:0}),tl=ht(rg),ng=ye({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),sg=ht(ng),ig=ye({},Gn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ag=ht(ig),lg=ye({},Gn,{data:0}),dc=ht(lg),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cg[e])?!!t[e]:!1}function tu(){return dg}var fg=ye({},Xs,{key:function(e){if(e.key){var t=og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ug[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(e){return e.type==="keypress"?Ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hg=ht(fg),mg=ye({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fc=ht(mg),pg=ye({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),gg=ht(pg),yg=ye({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),vg=ht(yg),xg=ye({},wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=ht(xg),bg=[9,13,27,32],ru=er&&"CompositionEvent"in window,gs=null;er&&"documentMode"in document&&(gs=document.documentMode);var _g=er&&"TextEvent"in window&&!gs,Lf=er&&(!ru||gs&&8<gs&&11>=gs),hc=" ",mc=!1;function Af(e,t){switch(e){case"keyup":return bg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yn=!1;function jg(e,t){switch(e){case"compositionend":return $f(t);case"keypress":return t.which!==32?null:(mc=!0,hc);case"textInput":return e=t.data,e===hc&&mc?null:e;default:return null}}function kg(e,t){if(yn)return e==="compositionend"||!ru&&Af(e,t)?(e=Of(),Pi=Zo=yr=null,yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lf&&t.locale!=="ko"?null:t.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ng[e.type]:t==="textarea"}function Uf(e,t,r,n){hf(n),t=Wi(t,"onChange"),0<t.length&&(r=new eu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ys=null,As=null;function Sg(e){Gf(e,0)}function ba(e){var t=wn(e);if(af(t))return e}function Eg(e,t){if(e==="change")return t}var Df=!1;if(er){var rl;if(er){var nl="oninput"in document;if(!nl){var gc=document.createElement("div");gc.setAttribute("oninput","return;"),nl=typeof gc.oninput=="function"}rl=nl}else rl=!1;Df=rl&&(!document.documentMode||9<document.documentMode)}function yc(){ys&&(ys.detachEvent("onpropertychange",If),As=ys=null)}function If(e){if(e.propertyName==="value"&&ba(As)){var t=[];Uf(t,As,e,Ko(e)),yf(Sg,t)}}function Cg(e,t,r){e==="focusin"?(yc(),ys=t,As=r,ys.attachEvent("onpropertychange",If)):e==="focusout"&&yc()}function Pg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ba(As)}function Tg(e,t){if(e==="click")return ba(t)}function Rg(e,t){if(e==="input"||e==="change")return ba(t)}function Og(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:Og;function $s(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Cl.call(t,s)||!Lt(e[s],t[s]))return!1}return!0}function vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xc(e,t){var r=vc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vc(r)}}function zf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ff(){for(var e=window,t=zi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zi(e.document)}return t}function nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lg(e){var t=Ff(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&zf(r.ownerDocument.documentElement,r)){if(n!==null&&nu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=xc(r,i);var a=xc(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ag=er&&"documentMode"in document&&11>=document.documentMode,vn=null,Gl=null,vs=null,Kl=!1;function wc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kl||vn==null||vn!==zi(n)||(n=vn,"selectionStart"in n&&nu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vs&&$s(vs,n)||(vs=n,n=Wi(Gl,"onSelect"),0<n.length&&(t=new eu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vn)))}function hi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xn={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},sl={},Mf={};er&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);function _a(e){if(sl[e])return sl[e];if(!xn[e])return e;var t=xn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Mf)return sl[e]=t[r];return e}var Vf=_a("animationend"),Bf=_a("animationiteration"),qf=_a("animationstart"),Hf=_a("transitionend"),Wf=new Map,bc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Wf.set(e,t),tn(t,[e])}for(var il=0;il<bc.length;il++){var al=bc[il],$g=al.toLowerCase(),Ug=al[0].toUpperCase()+al.slice(1);Rr($g,"on"+Ug)}Rr(Vf,"onAnimationEnd");Rr(Bf,"onAnimationIteration");Rr(qf,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(Hf,"onTransitionEnd");An("onMouseEnter",["mouseout","mouseover"]);An("onMouseLeave",["mouseout","mouseover"]);An("onPointerEnter",["pointerout","pointerover"]);An("onPointerLeave",["pointerout","pointerover"]);tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dg=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function _c(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,$p(n,t,void 0,e),e.currentTarget=null}function Gf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,d=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;_c(s,o,d),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,d=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;_c(s,o,d),i=u}}}if(Mi)throw e=Bl,Mi=!1,Bl=null,e}function ce(e,t){var r=t[Zl];r===void 0&&(r=t[Zl]=new Set);var n=e+"__bubble";r.has(n)||(Kf(t,e,2,!1),r.add(n))}function ll(e,t,r){var n=0;t&&(n|=4),Kf(r,e,n,t)}var mi="_reactListening"+Math.random().toString(36).slice(2);function Us(e){if(!e[mi]){e[mi]=!0,ef.forEach(function(r){r!=="selectionchange"&&(Dg.has(r)||ll(r,!1,e),ll(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mi]||(t[mi]=!0,ll("selectionchange",!1,t))}}function Kf(e,t,r,n){switch(Rf(t)){case 1:var s=Xp;break;case 4:s=Yp;break;default:s=Yo}r=s.bind(null,t,r,e),s=void 0,!Vl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ol(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Br(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}yf(function(){var d=i,c=Ko(r),f=[];e:{var h=Wf.get(e);if(h!==void 0){var v=eu,b=e;switch(e){case"keypress":if(Ti(r)===0)break e;case"keydown":case"keyup":v=hg;break;case"focusin":b="focus",v=tl;break;case"focusout":b="blur",v=tl;break;case"beforeblur":case"afterblur":v=tl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=gg;break;case Vf:case Bf:case qf:v=sg;break;case Hf:v=vg;break;case"scroll":v=Zp;break;case"wheel":v=wg;break;case"copy":case"cut":case"paste":v=ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=fc}var w=(t&4)!==0,N=!w&&e==="scroll",p=w?h!==null?h+"Capture":null:h;w=[];for(var m=d,g;m!==null;){g=m;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,p!==null&&(j=Ts(m,p),j!=null&&w.push(Ds(m,j,g)))),N)break;m=m.return}0<w.length&&(h=new v(h,b,null,r,c),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&r!==Fl&&(b=r.relatedTarget||r.fromElement)&&(Br(b)||b[tr]))break e;if((v||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,v?(b=r.relatedTarget||r.toElement,v=d,b=b?Br(b):null,b!==null&&(N=rn(b),b!==N||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=d),v!==b)){if(w=cc,j="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=fc,j="onPointerLeave",p="onPointerEnter",m="pointer"),N=v==null?h:wn(v),g=b==null?h:wn(b),h=new w(j,m+"leave",v,r,c),h.target=N,h.relatedTarget=g,j=null,Br(c)===d&&(w=new w(p,m+"enter",b,r,c),w.target=g,w.relatedTarget=N,j=w),N=j,v&&b)t:{for(w=v,p=b,m=0,g=w;g;g=on(g))m++;for(g=0,j=p;j;j=on(j))g++;for(;0<m-g;)w=on(w),m--;for(;0<g-m;)p=on(p),g--;for(;m--;){if(w===p||p!==null&&w===p.alternate)break t;w=on(w),p=on(p)}w=null}else w=null;v!==null&&jc(f,h,v,w,!1),b!==null&&N!==null&&jc(f,N,b,w,!0)}}e:{if(h=d?wn(d):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var S=Eg;else if(pc(h))if(Df)S=Rg;else{S=Pg;var I=Cg}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Tg);if(S&&(S=S(e,d))){Uf(f,S,r,c);break e}I&&I(e,h,d),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&$l(h,"number",h.value)}switch(I=d?wn(d):window,e){case"focusin":(pc(I)||I.contentEditable==="true")&&(vn=I,Gl=d,vs=null);break;case"focusout":vs=Gl=vn=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,wc(f,r,c);break;case"selectionchange":if(Ag)break;case"keydown":case"keyup":wc(f,r,c)}var P;if(ru)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else yn?Af(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Lf&&r.locale!=="ko"&&(yn||T!=="onCompositionStart"?T==="onCompositionEnd"&&yn&&(P=Of()):(yr=c,Zo="value"in yr?yr.value:yr.textContent,yn=!0)),I=Wi(d,T),0<I.length&&(T=new dc(T,e,null,r,c),f.push({event:T,listeners:I}),P?T.data=P:(P=$f(r),P!==null&&(T.data=P)))),(P=_g?jg(e,r):kg(e,r))&&(d=Wi(d,"onBeforeInput"),0<d.length&&(c=new dc("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:d}),c.data=P))}Gf(f,t)})}function Ds(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ts(e,r),i!=null&&n.unshift(Ds(e,i,s)),i=Ts(e,t),i!=null&&n.push(Ds(e,i,s))),e=e.return}return n}function on(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jc(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,d=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&d!==null&&(o=d,s?(u=Ts(r,i),u!=null&&a.unshift(Ds(r,u,o))):s||(u=Ts(r,i),u!=null&&a.push(Ds(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Ig=/\r\n?/g,zg=/\u0000|\uFFFD/g;function kc(e){return(typeof e=="string"?e:""+e).replace(Ig,`
`).replace(zg,"")}function pi(e,t,r){if(t=kc(t),kc(e)!==t&&r)throw Error(L(425))}function Gi(){}var Ql=null,Jl=null;function Xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yl=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,Nc=typeof Promise=="function"?Promise:void 0,Mg=typeof queueMicrotask=="function"?queueMicrotask:typeof Nc<"u"?function(e){return Nc.resolve(null).then(e).catch(Vg)}:Yl;function Vg(e){setTimeout(function(){throw e})}function ul(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ls(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ls(t)}function jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Kn=Math.random().toString(36).slice(2),zt="__reactFiber$"+Kn,Is="__reactProps$"+Kn,tr="__reactContainer$"+Kn,Zl="__reactEvents$"+Kn,Bg="__reactListeners$"+Kn,qg="__reactHandles$"+Kn;function Br(e){var t=e[zt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[tr]||r[zt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Sc(e);e!==null;){if(r=e[zt])return r;e=Sc(e)}return t}e=r,r=e.parentNode}return null}function Ys(e){return e=e[zt]||e[tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function ja(e){return e[Is]||null}var eo=[],bn=-1;function Or(e){return{current:e}}function de(e){0>bn||(e.current=eo[bn],eo[bn]=null,bn--)}function ue(e,t){bn++,eo[bn]=e.current,e.current=t}var Tr={},Me=Or(Tr),rt=Or(!1),Jr=Tr;function $n(e,t){var r=e.type.contextTypes;if(!r)return Tr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function nt(e){return e=e.childContextTypes,e!=null}function Ki(){de(rt),de(Me)}function Ec(e,t,r){if(Me.current!==Tr)throw Error(L(168));ue(Me,t),ue(rt,r)}function Qf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,Cp(e)||"Unknown",s));return ye({},r,n)}function Qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,Jr=Me.current,ue(Me,e),ue(rt,rt.current),!0}function Cc(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=Qf(e,t,Jr),n.__reactInternalMemoizedMergedChildContext=e,de(rt),de(Me),ue(Me,e)):de(rt),ue(rt,r)}var Qt=null,ka=!1,cl=!1;function Jf(e){Qt===null?Qt=[e]:Qt.push(e)}function Hg(e){ka=!0,Jf(e)}function Lr(){if(!cl&&Qt!==null){cl=!0;var e=0,t=ie;try{var r=Qt;for(ie=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Qt=null,ka=!1}catch(s){throw Qt!==null&&(Qt=Qt.slice(e+1)),bf(Qo,Lr),s}finally{ie=t,cl=!1}}return null}var _n=[],jn=0,Ji=null,Xi=0,gt=[],yt=0,Xr=null,Xt=1,Yt="";function zr(e,t){_n[jn++]=Xi,_n[jn++]=Ji,Ji=e,Xi=t}function Xf(e,t,r){gt[yt++]=Xt,gt[yt++]=Yt,gt[yt++]=Xr,Xr=e;var n=Xt;e=Yt;var s=32-Rt(n)-1;n&=~(1<<s),r+=1;var i=32-Rt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Xt=1<<32-Rt(t)+s|r<<s|n,Yt=i+e}else Xt=1<<i|r<<s|n,Yt=e}function su(e){e.return!==null&&(zr(e,1),Xf(e,1,0))}function iu(e){for(;e===Ji;)Ji=_n[--jn],_n[jn]=null,Xi=_n[--jn],_n[jn]=null;for(;e===Xr;)Xr=gt[--yt],gt[yt]=null,Yt=gt[--yt],gt[yt]=null,Xt=gt[--yt],gt[yt]=null}var ct=null,ut=null,he=!1,Ct=null;function Yf(e,t){var r=vt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Pc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,ut=jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xr!==null?{id:Xt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ct=e,ut=null,!0):!1;default:return!1}}function to(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ro(e){if(he){var t=ut;if(t){var r=t;if(!Pc(e,t)){if(to(e))throw Error(L(418));t=jr(r.nextSibling);var n=ct;t&&Pc(e,t)?Yf(n,r):(e.flags=e.flags&-4097|2,he=!1,ct=e)}}else{if(to(e))throw Error(L(418));e.flags=e.flags&-4097|2,he=!1,ct=e}}}function Tc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function gi(e){if(e!==ct)return!1;if(!he)return Tc(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xl(e.type,e.memoizedProps)),t&&(t=ut)){if(to(e))throw Zf(),Error(L(418));for(;t;)Yf(e,t),t=jr(t.nextSibling)}if(Tc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ut=jr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=ct?jr(e.stateNode.nextSibling):null;return!0}function Zf(){for(var e=ut;e;)e=jr(e.nextSibling)}function Un(){ut=ct=null,he=!1}function au(e){Ct===null?Ct=[e]:Ct.push(e)}var Wg=sr.ReactCurrentBatchConfig;function ns(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rc(e){var t=e._init;return t(e._payload)}function eh(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Er(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,m,g,j){return m===null||m.tag!==6?(m=yl(g,p.mode,j),m.return=p,m):(m=s(m,g),m.return=p,m)}function u(p,m,g,j){var S=g.type;return S===gn?c(p,m,g.props.children,j,g.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===cr&&Rc(S)===m.type)?(j=s(m,g.props),j.ref=ns(p,m,g),j.return=p,j):(j=Di(g.type,g.key,g.props,null,p.mode,j),j.ref=ns(p,m,g),j.return=p,j)}function d(p,m,g,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=vl(g,p.mode,j),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function c(p,m,g,j,S){return m===null||m.tag!==7?(m=Kr(g,p.mode,j,S),m.return=p,m):(m=s(m,g),m.return=p,m)}function f(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=yl(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ai:return g=Di(m.type,m.key,m.props,null,p.mode,g),g.ref=ns(p,null,m),g.return=p,g;case pn:return m=vl(m,p.mode,g),m.return=p,m;case cr:var j=m._init;return f(p,j(m._payload),g)}if(cs(m)||Yn(m))return m=Kr(m,p.mode,g,null),m.return=p,m;yi(p,m)}return null}function h(p,m,g,j){var S=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:o(p,m,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ai:return g.key===S?u(p,m,g,j):null;case pn:return g.key===S?d(p,m,g,j):null;case cr:return S=g._init,h(p,m,S(g._payload),j)}if(cs(g)||Yn(g))return S!==null?null:c(p,m,g,j,null);yi(p,g)}return null}function v(p,m,g,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(g)||null,o(m,p,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ai:return p=p.get(j.key===null?g:j.key)||null,u(m,p,j,S);case pn:return p=p.get(j.key===null?g:j.key)||null,d(m,p,j,S);case cr:var I=j._init;return v(p,m,g,I(j._payload),S)}if(cs(j)||Yn(j))return p=p.get(g)||null,c(m,p,j,S,null);yi(m,j)}return null}function b(p,m,g,j){for(var S=null,I=null,P=m,T=m=0,A=null;P!==null&&T<g.length;T++){P.index>T?(A=P,P=null):A=P.sibling;var R=h(p,P,g[T],j);if(R===null){P===null&&(P=A);break}e&&P&&R.alternate===null&&t(p,P),m=i(R,m,T),I===null?S=R:I.sibling=R,I=R,P=A}if(T===g.length)return r(p,P),he&&zr(p,T),S;if(P===null){for(;T<g.length;T++)P=f(p,g[T],j),P!==null&&(m=i(P,m,T),I===null?S=P:I.sibling=P,I=P);return he&&zr(p,T),S}for(P=n(p,P);T<g.length;T++)A=v(P,p,T,g[T],j),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?T:A.key),m=i(A,m,T),I===null?S=A:I.sibling=A,I=A);return e&&P.forEach(function(C){return t(p,C)}),he&&zr(p,T),S}function w(p,m,g,j){var S=Yn(g);if(typeof S!="function")throw Error(L(150));if(g=S.call(g),g==null)throw Error(L(151));for(var I=S=null,P=m,T=m=0,A=null,R=g.next();P!==null&&!R.done;T++,R=g.next()){P.index>T?(A=P,P=null):A=P.sibling;var C=h(p,P,R.value,j);if(C===null){P===null&&(P=A);break}e&&P&&C.alternate===null&&t(p,P),m=i(C,m,T),I===null?S=C:I.sibling=C,I=C,P=A}if(R.done)return r(p,P),he&&zr(p,T),S;if(P===null){for(;!R.done;T++,R=g.next())R=f(p,R.value,j),R!==null&&(m=i(R,m,T),I===null?S=R:I.sibling=R,I=R);return he&&zr(p,T),S}for(P=n(p,P);!R.done;T++,R=g.next())R=v(P,p,T,R.value,j),R!==null&&(e&&R.alternate!==null&&P.delete(R.key===null?T:R.key),m=i(R,m,T),I===null?S=R:I.sibling=R,I=R);return e&&P.forEach(function(U){return t(p,U)}),he&&zr(p,T),S}function N(p,m,g,j){if(typeof g=="object"&&g!==null&&g.type===gn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ai:e:{for(var S=g.key,I=m;I!==null;){if(I.key===S){if(S=g.type,S===gn){if(I.tag===7){r(p,I.sibling),m=s(I,g.props.children),m.return=p,p=m;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===cr&&Rc(S)===I.type){r(p,I.sibling),m=s(I,g.props),m.ref=ns(p,I,g),m.return=p,p=m;break e}r(p,I);break}else t(p,I);I=I.sibling}g.type===gn?(m=Kr(g.props.children,p.mode,j,g.key),m.return=p,p=m):(j=Di(g.type,g.key,g.props,null,p.mode,j),j.ref=ns(p,m,g),j.return=p,p=j)}return a(p);case pn:e:{for(I=g.key;m!==null;){if(m.key===I)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=vl(g,p.mode,j),m.return=p,p=m}return a(p);case cr:return I=g._init,N(p,m,I(g._payload),j)}if(cs(g))return b(p,m,g,j);if(Yn(g))return w(p,m,g,j);yi(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,g),m.return=p,p=m):(r(p,m),m=yl(g,p.mode,j),m.return=p,p=m),a(p)):r(p,m)}return N}var Dn=eh(!0),th=eh(!1),Yi=Or(null),Zi=null,kn=null,lu=null;function ou(){lu=kn=Zi=null}function uu(e){var t=Yi.current;de(Yi),e._currentValue=t}function no(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Rn(e,t){Zi=e,lu=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function bt(e){var t=e._currentValue;if(lu!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(Zi===null)throw Error(L(308));kn=e,Zi.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var qr=null;function cu(e){qr===null?qr=[e]:qr.push(e)}function rh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,cu(t)):(r.next=s.next,s.next=r),t.interleaved=r,rr(e,n)}function rr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var dr=!1;function du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,rr(e,r)}return s=n.interleaved,s===null?(t.next=t,cu(n)):(t.next=s.next,s.next=t),n.interleaved=t,rr(e,r)}function Ri(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jo(e,r)}}function Oc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ea(e,t,r,n){var s=e.updateQueue;dr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,d=u.next;u.next=null,a===null?i=d:a.next=d,a=u;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=d:o.next=d,c.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;a=0,c=d=u=null,o=i;do{var h=o.lane,v=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=e,w=o;switch(h=t,v=r,w.tag){case 1:if(b=w.payload,typeof b=="function"){f=b.call(v,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,h=typeof b=="function"?b.call(v,f,h):b,h==null)break e;f=ye({},f,h);break e;case 2:dr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else v={eventTime:v,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(d=c=v,u=f):c=c.next=v,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(u=f),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Zr|=a,e.lanes=a,e.memoizedState=f}}function Lc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Zs={},Bt=Or(Zs),zs=Or(Zs),Fs=Or(Zs);function Hr(e){if(e===Zs)throw Error(L(174));return e}function fu(e,t){switch(ue(Fs,t),ue(zs,e),ue(Bt,Zs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dl(t,e)}de(Bt),ue(Bt,t)}function In(){de(Bt),de(zs),de(Fs)}function sh(e){Hr(Fs.current);var t=Hr(Bt.current),r=Dl(t,e.type);t!==r&&(ue(zs,e),ue(Bt,r))}function hu(e){zs.current===e&&(de(Bt),de(zs))}var pe=Or(0);function ta(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dl=[];function mu(){for(var e=0;e<dl.length;e++)dl[e]._workInProgressVersionPrimary=null;dl.length=0}var Oi=sr.ReactCurrentDispatcher,fl=sr.ReactCurrentBatchConfig,Yr=0,ge=null,Se=null,Re=null,ra=!1,xs=!1,Ms=0,Gg=0;function Ie(){throw Error(L(321))}function pu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lt(e[r],t[r]))return!1;return!0}function gu(e,t,r,n,s,i){if(Yr=i,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oi.current=e===null||e.memoizedState===null?Xg:Yg,e=r(n,s),xs){i=0;do{if(xs=!1,Ms=0,25<=i)throw Error(L(301));i+=1,Re=Se=null,t.updateQueue=null,Oi.current=Zg,e=r(n,s)}while(xs)}if(Oi.current=na,t=Se!==null&&Se.next!==null,Yr=0,Re=Se=ge=null,ra=!1,t)throw Error(L(300));return e}function yu(){var e=Ms!==0;return Ms=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ge.memoizedState=Re=e:Re=Re.next=e,Re}function _t(){if(Se===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Re===null?ge.memoizedState:Re.next;if(t!==null)Re=t,Se=e;else{if(e===null)throw Error(L(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Re===null?ge.memoizedState=Re=e:Re=Re.next=e}return Re}function Vs(e,t){return typeof t=="function"?t(e):t}function hl(e){var t=_t(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,d=i;do{var c=d.lane;if((Yr&c)===c)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:c,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(o=u=f,a=n):u=u.next=f,ge.lanes|=c,Zr|=c}d=d.next}while(d!==null&&d!==i);u===null?a=n:u.next=o,Lt(n,t.memoizedState)||(et=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ge.lanes|=i,Zr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ml(e){var t=_t(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Lt(i,t.memoizedState)||(et=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ih(){}function ah(e,t){var r=ge,n=_t(),s=t(),i=!Lt(n.memoizedState,s);if(i&&(n.memoizedState=s,et=!0),n=n.queue,vu(uh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Re!==null&&Re.memoizedState.tag&1){if(r.flags|=2048,Bs(9,oh.bind(null,r,n,s,t),void 0,null),Oe===null)throw Error(L(349));Yr&30||lh(r,t,s)}return s}function lh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function oh(e,t,r,n){t.value=r,t.getSnapshot=n,ch(t)&&dh(e)}function uh(e,t,r){return r(function(){ch(t)&&dh(e)})}function ch(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lt(e,r)}catch{return!0}}function dh(e){var t=rr(e,1);t!==null&&Ot(t,e,1,-1)}function Ac(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:e},t.queue=e,e=e.dispatch=Jg.bind(null,ge,e),[t.memoizedState,e]}function Bs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function fh(){return _t().memoizedState}function Li(e,t,r,n){var s=Dt();ge.flags|=e,s.memoizedState=Bs(1|t,r,void 0,n===void 0?null:n)}function Na(e,t,r,n){var s=_t();n=n===void 0?null:n;var i=void 0;if(Se!==null){var a=Se.memoizedState;if(i=a.destroy,n!==null&&pu(n,a.deps)){s.memoizedState=Bs(t,r,i,n);return}}ge.flags|=e,s.memoizedState=Bs(1|t,r,i,n)}function $c(e,t){return Li(8390656,8,e,t)}function vu(e,t){return Na(2048,8,e,t)}function hh(e,t){return Na(4,2,e,t)}function mh(e,t){return Na(4,4,e,t)}function ph(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gh(e,t,r){return r=r!=null?r.concat([e]):null,Na(4,4,ph.bind(null,t,e),r)}function xu(){}function yh(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function vh(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xh(e,t,r){return Yr&21?(Lt(r,t)||(r=kf(),ge.lanes|=r,Zr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=r)}function Kg(e,t){var r=ie;ie=r!==0&&4>r?r:4,e(!0);var n=fl.transition;fl.transition={};try{e(!1),t()}finally{ie=r,fl.transition=n}}function wh(){return _t().memoizedState}function Qg(e,t,r){var n=Sr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},bh(e))_h(t,r);else if(r=rh(e,t,r,n),r!==null){var s=He();Ot(r,e,n,s),jh(r,t,n)}}function Jg(e,t,r){var n=Sr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(bh(e))_h(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Lt(o,a)){var u=t.interleaved;u===null?(s.next=s,cu(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=rh(e,t,s,n),r!==null&&(s=He(),Ot(r,e,n,s),jh(r,t,n))}}function bh(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function _h(e,t){xs=ra=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jo(e,r)}}var na={readContext:bt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Xg={readContext:bt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:$c,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Li(4194308,4,ph.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var r=Dt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Dt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Qg.bind(null,ge,e),[n.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:Ac,useDebugValue:xu,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=Ac(!1),t=e[0];return e=Kg.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ge,s=Dt();if(he){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Oe===null)throw Error(L(349));Yr&30||lh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,$c(uh.bind(null,n,i,e),[e]),n.flags|=2048,Bs(9,oh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Dt(),t=Oe.identifierPrefix;if(he){var r=Yt,n=Xt;r=(n&~(1<<32-Rt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ms++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Gg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yg={readContext:bt,useCallback:yh,useContext:bt,useEffect:vu,useImperativeHandle:gh,useInsertionEffect:hh,useLayoutEffect:mh,useMemo:vh,useReducer:hl,useRef:fh,useState:function(){return hl(Vs)},useDebugValue:xu,useDeferredValue:function(e){var t=_t();return xh(t,Se.memoizedState,e)},useTransition:function(){var e=hl(Vs)[0],t=_t().memoizedState;return[e,t]},useMutableSource:ih,useSyncExternalStore:ah,useId:wh,unstable_isNewReconciler:!1},Zg={readContext:bt,useCallback:yh,useContext:bt,useEffect:vu,useImperativeHandle:gh,useInsertionEffect:hh,useLayoutEffect:mh,useMemo:vh,useReducer:ml,useRef:fh,useState:function(){return ml(Vs)},useDebugValue:xu,useDeferredValue:function(e){var t=_t();return Se===null?t.memoizedState=e:xh(t,Se.memoizedState,e)},useTransition:function(){var e=ml(Vs)[0],t=_t().memoizedState;return[e,t]},useMutableSource:ih,useSyncExternalStore:ah,useId:wh,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function so(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sa={isMounted:function(e){return(e=e._reactInternals)?rn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=He(),s=Sr(e),i=Zt(n,s);i.payload=t,r!=null&&(i.callback=r),t=kr(e,i,s),t!==null&&(Ot(t,e,s,n),Ri(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=He(),s=Sr(e),i=Zt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=kr(e,i,s),t!==null&&(Ot(t,e,s,n),Ri(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=He(),n=Sr(e),s=Zt(r,n);s.tag=2,t!=null&&(s.callback=t),t=kr(e,s,n),t!==null&&(Ot(t,e,n,r),Ri(t,e,n))}};function Uc(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!$s(r,n)||!$s(s,i):!0}function kh(e,t,r){var n=!1,s=Tr,i=t.contextType;return typeof i=="object"&&i!==null?i=bt(i):(s=nt(t)?Jr:Me.current,n=t.contextTypes,i=(n=n!=null)?$n(e,s):Tr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Dc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function io(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},du(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=bt(i):(i=nt(t)?Jr:Me.current,s.context=$n(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(so(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Sa.enqueueReplaceState(s,s.state,null),ea(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function zn(e,t){try{var r="",n=t;do r+=Ep(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function pl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ao(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var e0=typeof WeakMap=="function"?WeakMap:Map;function Nh(e,t,r){r=Zt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ia||(ia=!0,yo=n),ao(e,t)},r}function Sh(e,t,r){r=Zt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ao(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ao(e,t),typeof n!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Ic(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new e0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=m0.bind(null,e,t,r),t.then(e,e))}function zc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Zt(-1,1),t.tag=2,kr(r,t,1))),r.lanes|=1),e)}var t0=sr.ReactCurrentOwner,et=!1;function Be(e,t,r,n){t.child=e===null?th(t,null,r,n):Dn(t,e.child,r,n)}function Mc(e,t,r,n,s){r=r.render;var i=t.ref;return Rn(t,s),n=gu(e,t,r,n,i,s),r=yu(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,nr(e,t,s)):(he&&r&&su(t),t.flags|=1,Be(e,t,n,s),t.child)}function Vc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Eu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Eh(e,t,i,n,s)):(e=Di(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(a,n)&&e.ref===t.ref)return nr(e,t,s)}return t.flags|=1,e=Er(i,n),e.ref=t.ref,e.return=t,t.child=e}function Eh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if($s(i,n)&&e.ref===t.ref)if(et=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,nr(e,t,s)}return lo(e,t,r,n,s)}function Ch(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Sn,ot),ot|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Sn,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ue(Sn,ot),ot|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ue(Sn,ot),ot|=n;return Be(e,t,s,r),t.child}function Ph(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lo(e,t,r,n,s){var i=nt(r)?Jr:Me.current;return i=$n(t,i),Rn(t,s),r=gu(e,t,r,n,i,s),n=yu(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,nr(e,t,s)):(he&&n&&su(t),t.flags|=1,Be(e,t,r,s),t.child)}function Bc(e,t,r,n,s){if(nt(r)){var i=!0;Qi(t)}else i=!1;if(Rn(t,s),t.stateNode===null)Ai(e,t),kh(t,r,n),io(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=bt(d):(d=nt(r)?Jr:Me.current,d=$n(t,d));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==d)&&Dc(t,a,n,d),dr=!1;var h=t.memoizedState;a.state=h,ea(t,n,a,s),u=t.memoizedState,o!==n||h!==u||rt.current||dr?(typeof c=="function"&&(so(t,r,c,n),u=t.memoizedState),(o=dr||Uc(t,r,o,n,h,u,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=d,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,nh(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Nt(t.type,o),a.props=d,f=t.pendingProps,h=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=bt(u):(u=nt(r)?Jr:Me.current,u=$n(t,u));var v=r.getDerivedStateFromProps;(c=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==u)&&Dc(t,a,n,u),dr=!1,h=t.memoizedState,a.state=h,ea(t,n,a,s);var b=t.memoizedState;o!==f||h!==b||rt.current||dr?(typeof v=="function"&&(so(t,r,v,n),b=t.memoizedState),(d=dr||Uc(t,r,d,n,h,b,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),a.props=n,a.state=b,a.context=u,n=d):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return oo(e,t,r,n,i,s)}function oo(e,t,r,n,s,i){Ph(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Cc(t,r,!1),nr(e,t,i);n=t.stateNode,t0.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Dn(t,e.child,null,i),t.child=Dn(t,null,o,i)):Be(e,t,o,i),t.memoizedState=n.state,s&&Cc(t,r,!0),t.child}function Th(e){var t=e.stateNode;t.pendingContext?Ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ec(e,t.context,!1),fu(e,t.containerInfo)}function qc(e,t,r,n,s){return Un(),au(s),t.flags|=256,Be(e,t,r,n),t.child}var uo={dehydrated:null,treeContext:null,retryLane:0};function co(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rh(e,t,r){var n=t.pendingProps,s=pe.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(pe,s&1),e===null)return ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Pa(a,n,0,null),e=Kr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=co(r),t.memoizedState=uo,e):wu(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return r0(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Er(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Er(o,i):(i=Kr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?co(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=uo,n}return i=e.child,e=i.sibling,n=Er(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function wu(e,t){return t=Pa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vi(e,t,r,n){return n!==null&&au(n),Dn(t,e.child,null,r),e=wu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function r0(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=pl(Error(L(422))),vi(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Pa({mode:"visible",children:n.children},s,0,null),i=Kr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Dn(t,e.child,null,a),t.child.memoizedState=co(a),t.memoizedState=uo,i);if(!(t.mode&1))return vi(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(L(419)),n=pl(i,n,void 0),vi(e,t,a,n)}if(o=(a&e.childLanes)!==0,et||o){if(n=Oe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,rr(e,s),Ot(n,e,s,-1))}return Su(),n=pl(Error(L(421))),vi(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=p0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ut=jr(s.nextSibling),ct=t,he=!0,Ct=null,e!==null&&(gt[yt++]=Xt,gt[yt++]=Yt,gt[yt++]=Xr,Xt=e.id,Yt=e.overflow,Xr=t),t=wu(t,n.children),t.flags|=4096,t)}function Hc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),no(e.return,t,r)}function gl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Oh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Be(e,t,n.children,r),n=pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hc(e,r,t);else if(e.tag===19)Hc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ue(pe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ta(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),gl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ta(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}gl(t,!0,r,null,i);break;case"together":gl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ai(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Zr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=Er(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Er(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function n0(e,t,r){switch(t.tag){case 3:Th(t),Un();break;case 5:sh(t);break;case 1:nt(t.type)&&Qi(t);break;case 4:fu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ue(Yi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ue(pe,pe.current&1),t.flags|=128,null):r&t.child.childLanes?Rh(e,t,r):(ue(pe,pe.current&1),e=nr(e,t,r),e!==null?e.sibling:null);ue(pe,pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Oh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(pe,pe.current),n)break;return null;case 22:case 23:return t.lanes=0,Ch(e,t,r)}return nr(e,t,r)}var Lh,fo,Ah,$h;Lh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fo=function(){};Ah=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Hr(Bt.current);var i=null;switch(r){case"input":s=Ll(e,s),n=Ll(e,n),i=[];break;case"select":s=ye({},s,{value:void 0}),n=ye({},n,{value:void 0}),i=[];break;case"textarea":s=Ul(e,s),n=Ul(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Gi)}Il(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Cs.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var u=n[d];if(o=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&u!==o&&(u!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(d,r)),r=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Cs.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&ce("scroll",e),i||o===u||(i=[])):(i=i||[]).push(d,u))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};$h=function(e,t,r,n){r!==n&&(t.flags|=4)};function ss(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function s0(e,t,r){var n=t.pendingProps;switch(iu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return nt(t.type)&&Ki(),ze(t),null;case 3:return n=t.stateNode,In(),de(rt),de(Me),mu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(wo(Ct),Ct=null))),fo(e,t),ze(t),null;case 5:hu(t);var s=Hr(Fs.current);if(r=t.type,e!==null&&t.stateNode!=null)Ah(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return ze(t),null}if(e=Hr(Bt.current),gi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[zt]=t,n[Is]=i,e=(t.mode&1)!==0,r){case"dialog":ce("cancel",n),ce("close",n);break;case"iframe":case"object":case"embed":ce("load",n);break;case"video":case"audio":for(s=0;s<fs.length;s++)ce(fs[s],n);break;case"source":ce("error",n);break;case"img":case"image":case"link":ce("error",n),ce("load",n);break;case"details":ce("toggle",n);break;case"input":ec(n,i),ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ce("invalid",n);break;case"textarea":rc(n,i),ce("invalid",n)}Il(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&pi(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&pi(n.textContent,o,e),s=["children",""+o]):Cs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ce("scroll",n)}switch(r){case"input":li(n),tc(n,i,!0);break;case"textarea":li(n),nc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Gi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[zt]=t,e[Is]=n,Lh(e,t,!1,!1),t.stateNode=e;e:{switch(a=zl(r,n),r){case"dialog":ce("cancel",e),ce("close",e),s=n;break;case"iframe":case"object":case"embed":ce("load",e),s=n;break;case"video":case"audio":for(s=0;s<fs.length;s++)ce(fs[s],e);s=n;break;case"source":ce("error",e),s=n;break;case"img":case"image":case"link":ce("error",e),ce("load",e),s=n;break;case"details":ce("toggle",e),s=n;break;case"input":ec(e,n),s=Ll(e,n),ce("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ye({},n,{value:void 0}),ce("invalid",e);break;case"textarea":rc(e,n),s=Ul(e,n),ce("invalid",e);break;default:s=n}Il(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?ff(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cf(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Ps(e,u):typeof u=="number"&&Ps(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cs.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ce("scroll",e):u!=null&&qo(e,i,u,a))}switch(r){case"input":li(e),tc(e,n,!1);break;case"textarea":li(e),nc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?En(e,!!n.multiple,i,!1):n.defaultValue!=null&&En(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)$h(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Hr(Fs.current),Hr(Bt.current),gi(t)){if(n=t.stateNode,r=t.memoizedProps,n[zt]=t,(i=n.nodeValue!==r)&&(e=ct,e!==null))switch(e.tag){case 3:pi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zt]=t,t.stateNode=n}return ze(t),null;case 13:if(de(pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&ut!==null&&t.mode&1&&!(t.flags&128))Zf(),Un(),t.flags|=98560,i=!1;else if(i=gi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[zt]=t}else Un(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),i=!1}else Ct!==null&&(wo(Ct),Ct=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Ee===0&&(Ee=3):Su())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return In(),fo(e,t),e===null&&Us(t.stateNode.containerInfo),ze(t),null;case 10:return uu(t.type._context),ze(t),null;case 17:return nt(t.type)&&Ki(),ze(t),null;case 19:if(de(pe),i=t.memoizedState,i===null)return ze(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)ss(i,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ta(e),a!==null){for(t.flags|=128,ss(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(pe,pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&be()>Fn&&(t.flags|=128,n=!0,ss(i,!1),t.lanes=4194304)}else{if(!n)if(e=ta(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ss(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!he)return ze(t),null}else 2*be()-i.renderingStartTime>Fn&&r!==1073741824&&(t.flags|=128,n=!0,ss(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=be(),t.sibling=null,r=pe.current,ue(pe,n?r&1|2:r&1),t):(ze(t),null);case 22:case 23:return Nu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ot&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function i0(e,t){switch(iu(t),t.tag){case 1:return nt(t.type)&&Ki(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return In(),de(rt),de(Me),mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hu(t),null;case 13:if(de(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(pe),null;case 4:return In(),null;case 10:return uu(t.type._context),null;case 22:case 23:return Nu(),null;case 24:return null;default:return null}}var xi=!1,Fe=!1,a0=typeof WeakSet=="function"?WeakSet:Set,M=null;function Nn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ve(e,t,n)}else r.current=null}function ho(e,t,r){try{r()}catch(n){ve(e,t,n)}}var Wc=!1;function l0(e,t){if(Ql=qi,e=Ff(),nu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,d=0,c=0,f=e,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(u=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===r&&++d===s&&(o=a),h===i&&++c===n&&(u=a),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jl={focusedElem:e,selectionRange:r},qi=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,N=b.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:Nt(t.type,w),N);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(j){ve(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return b=Wc,Wc=!1,b}function ws(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ho(t,r,i)}s=s.next}while(s!==n)}}function Ea(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Uh(e){var t=e.alternate;t!==null&&(e.alternate=null,Uh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[Is],delete t[Zl],delete t[Bg],delete t[qg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dh(e){return e.tag===5||e.tag===3||e.tag===4}function Gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function po(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gi));else if(n!==4&&(e=e.child,e!==null))for(po(e,t,r),e=e.sibling;e!==null;)po(e,t,r),e=e.sibling}function go(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(go(e,t,r),e=e.sibling;e!==null;)go(e,t,r),e=e.sibling}var Le=null,St=!1;function lr(e,t,r){for(r=r.child;r!==null;)Ih(e,t,r),r=r.sibling}function Ih(e,t,r){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(xa,r)}catch{}switch(r.tag){case 5:Fe||Nn(r,t);case 6:var n=Le,s=St;Le=null,lr(e,t,r),Le=n,St=s,Le!==null&&(St?(e=Le,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Le.removeChild(r.stateNode));break;case 18:Le!==null&&(St?(e=Le,r=r.stateNode,e.nodeType===8?ul(e.parentNode,r):e.nodeType===1&&ul(e,r),Ls(e)):ul(Le,r.stateNode));break;case 4:n=Le,s=St,Le=r.stateNode.containerInfo,St=!0,lr(e,t,r),Le=n,St=s;break;case 0:case 11:case 14:case 15:if(!Fe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ho(r,t,a),s=s.next}while(s!==n)}lr(e,t,r);break;case 1:if(!Fe&&(Nn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ve(r,t,o)}lr(e,t,r);break;case 21:lr(e,t,r);break;case 22:r.mode&1?(Fe=(n=Fe)||r.memoizedState!==null,lr(e,t,r),Fe=n):lr(e,t,r);break;default:lr(e,t,r)}}function Kc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new a0),t.forEach(function(n){var s=g0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function jt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Le=o.stateNode,St=!1;break e;case 3:Le=o.stateNode.containerInfo,St=!0;break e;case 4:Le=o.stateNode.containerInfo,St=!0;break e}o=o.return}if(Le===null)throw Error(L(160));Ih(i,a,s),Le=null,St=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){ve(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zh(t,e),t=t.sibling}function zh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),$t(e),n&4){try{ws(3,e,e.return),Ea(3,e)}catch(w){ve(e,e.return,w)}try{ws(5,e,e.return)}catch(w){ve(e,e.return,w)}}break;case 1:jt(t,e),$t(e),n&512&&r!==null&&Nn(r,r.return);break;case 5:if(jt(t,e),$t(e),n&512&&r!==null&&Nn(r,r.return),e.flags&32){var s=e.stateNode;try{Ps(s,"")}catch(w){ve(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&lf(s,i),zl(o,a);var d=zl(o,i);for(a=0;a<u.length;a+=2){var c=u[a],f=u[a+1];c==="style"?ff(s,f):c==="dangerouslySetInnerHTML"?cf(s,f):c==="children"?Ps(s,f):qo(s,c,f,d)}switch(o){case"input":Al(s,i);break;case"textarea":of(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?En(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?En(s,!!i.multiple,i.defaultValue,!0):En(s,!!i.multiple,i.multiple?[]:"",!1))}s[Is]=i}catch(w){ve(e,e.return,w)}}break;case 6:if(jt(t,e),$t(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ve(e,e.return,w)}}break;case 3:if(jt(t,e),$t(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ls(t.containerInfo)}catch(w){ve(e,e.return,w)}break;case 4:jt(t,e),$t(e);break;case 13:jt(t,e),$t(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ju=be())),n&4&&Kc(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Fe=(d=Fe)||c,jt(t,e),Fe=d):jt(t,e),$t(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!c&&e.mode&1)for(M=e,c=e.child;c!==null;){for(f=M=c;M!==null;){switch(h=M,v=h.child,h.tag){case 0:case 11:case 14:case 15:ws(4,h,h.return);break;case 1:Nn(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){ve(n,r,w)}}break;case 5:Nn(h,h.return);break;case 22:if(h.memoizedState!==null){Jc(f);continue}}v!==null?(v.return=h,M=v):Jc(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=df("display",a))}catch(w){ve(e,e.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(w){ve(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jt(t,e),$t(e),n&4&&Kc(e);break;case 21:break;default:jt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Dh(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ps(s,""),n.flags&=-33);var i=Gc(e);go(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Gc(e);po(e,o,a);break;default:throw Error(L(161))}}catch(u){ve(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function o0(e,t,r){M=e,Fh(e)}function Fh(e,t,r){for(var n=(e.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||xi;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Fe;o=xi;var d=Fe;if(xi=a,(Fe=u)&&!d)for(M=s;M!==null;)a=M,u=a.child,a.tag===22&&a.memoizedState!==null?Xc(s):u!==null?(u.return=a,M=u):Xc(s);for(;i!==null;)M=i,Fh(i),i=i.sibling;M=s,xi=o,Fe=d}Qc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):Qc(e)}}function Qc(e){for(;M!==null;){var t=M;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Ea(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Nt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Lc(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lc(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var c=d.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ls(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Fe||t.flags&512&&mo(t)}catch(h){ve(t,t.return,h)}}if(t===e){M=null;break}if(r=t.sibling,r!==null){r.return=t.return,M=r;break}M=t.return}}function Jc(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var r=t.sibling;if(r!==null){r.return=t.return,M=r;break}M=t.return}}function Xc(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ea(4,t)}catch(u){ve(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){ve(t,s,u)}}var i=t.return;try{mo(t)}catch(u){ve(t,i,u)}break;case 5:var a=t.return;try{mo(t)}catch(u){ve(t,a,u)}}}catch(u){ve(t,t.return,u)}if(t===e){M=null;break}var o=t.sibling;if(o!==null){o.return=t.return,M=o;break}M=t.return}}var u0=Math.ceil,sa=sr.ReactCurrentDispatcher,bu=sr.ReactCurrentOwner,xt=sr.ReactCurrentBatchConfig,re=0,Oe=null,Ne=null,Ae=0,ot=0,Sn=Or(0),Ee=0,qs=null,Zr=0,Ca=0,_u=0,bs=null,Ye=null,ju=0,Fn=1/0,Gt=null,ia=!1,yo=null,Nr=null,wi=!1,vr=null,aa=0,_s=0,vo=null,$i=-1,Ui=0;function He(){return re&6?be():$i!==-1?$i:$i=be()}function Sr(e){return e.mode&1?re&2&&Ae!==0?Ae&-Ae:Wg.transition!==null?(Ui===0&&(Ui=kf()),Ui):(e=ie,e!==0||(e=window.event,e=e===void 0?16:Rf(e.type)),e):1}function Ot(e,t,r,n){if(50<_s)throw _s=0,vo=null,Error(L(185));Js(e,r,n),(!(re&2)||e!==Oe)&&(e===Oe&&(!(re&2)&&(Ca|=r),Ee===4&&mr(e,Ae)),st(e,n),r===1&&re===0&&!(t.mode&1)&&(Fn=be()+500,ka&&Lr()))}function st(e,t){var r=e.callbackNode;Wp(e,t);var n=Bi(e,e===Oe?Ae:0);if(n===0)r!==null&&ac(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ac(r),t===1)e.tag===0?Hg(Yc.bind(null,e)):Jf(Yc.bind(null,e)),Mg(function(){!(re&6)&&Lr()}),r=null;else{switch(Nf(n)){case 1:r=Qo;break;case 4:r=_f;break;case 16:r=Vi;break;case 536870912:r=jf;break;default:r=Vi}r=Kh(r,Mh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Mh(e,t){if($i=-1,Ui=0,re&6)throw Error(L(327));var r=e.callbackNode;if(On()&&e.callbackNode!==r)return null;var n=Bi(e,e===Oe?Ae:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=la(e,n);else{t=n;var s=re;re|=2;var i=Bh();(Oe!==e||Ae!==t)&&(Gt=null,Fn=be()+500,Gr(e,t));do try{f0();break}catch(o){Vh(e,o)}while(!0);ou(),sa.current=i,re=s,Ne!==null?t=0:(Oe=null,Ae=0,t=Ee)}if(t!==0){if(t===2&&(s=ql(e),s!==0&&(n=s,t=xo(e,s))),t===1)throw r=qs,Gr(e,0),mr(e,n),st(e,be()),r;if(t===6)mr(e,n);else{if(s=e.current.alternate,!(n&30)&&!c0(s)&&(t=la(e,n),t===2&&(i=ql(e),i!==0&&(n=i,t=xo(e,i))),t===1))throw r=qs,Gr(e,0),mr(e,n),st(e,be()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Fr(e,Ye,Gt);break;case 3:if(mr(e,n),(n&130023424)===n&&(t=ju+500-be(),10<t)){if(Bi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){He(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Yl(Fr.bind(null,e,Ye,Gt),t);break}Fr(e,Ye,Gt);break;case 4:if(mr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Rt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*u0(n/1960))-n,10<n){e.timeoutHandle=Yl(Fr.bind(null,e,Ye,Gt),n);break}Fr(e,Ye,Gt);break;case 5:Fr(e,Ye,Gt);break;default:throw Error(L(329))}}}return st(e,be()),e.callbackNode===r?Mh.bind(null,e):null}function xo(e,t){var r=bs;return e.current.memoizedState.isDehydrated&&(Gr(e,t).flags|=256),e=la(e,t),e!==2&&(t=Ye,Ye=r,t!==null&&wo(t)),e}function wo(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function c0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Lt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t){for(t&=~_u,t&=~Ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rt(t),n=1<<r;e[r]=-1,t&=~n}}function Yc(e){if(re&6)throw Error(L(327));On();var t=Bi(e,0);if(!(t&1))return st(e,be()),null;var r=la(e,t);if(e.tag!==0&&r===2){var n=ql(e);n!==0&&(t=n,r=xo(e,n))}if(r===1)throw r=qs,Gr(e,0),mr(e,t),st(e,be()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fr(e,Ye,Gt),st(e,be()),null}function ku(e,t){var r=re;re|=1;try{return e(t)}finally{re=r,re===0&&(Fn=be()+500,ka&&Lr())}}function en(e){vr!==null&&vr.tag===0&&!(re&6)&&On();var t=re;re|=1;var r=xt.transition,n=ie;try{if(xt.transition=null,ie=1,e)return e()}finally{ie=n,xt.transition=r,re=t,!(re&6)&&Lr()}}function Nu(){ot=Sn.current,de(Sn)}function Gr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Fg(r)),Ne!==null)for(r=Ne.return;r!==null;){var n=r;switch(iu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ki();break;case 3:In(),de(rt),de(Me),mu();break;case 5:hu(n);break;case 4:In();break;case 13:de(pe);break;case 19:de(pe);break;case 10:uu(n.type._context);break;case 22:case 23:Nu()}r=r.return}if(Oe=e,Ne=e=Er(e.current,null),Ae=ot=t,Ee=0,qs=null,_u=Ca=Zr=0,Ye=bs=null,qr!==null){for(t=0;t<qr.length;t++)if(r=qr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}qr=null}return e}function Vh(e,t){do{var r=Ne;try{if(ou(),Oi.current=na,ra){for(var n=ge.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ra=!1}if(Yr=0,Re=Se=ge=null,xs=!1,Ms=0,bu.current=null,r===null||r.return===null){Ee=1,qs=t,Ne=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=Ae,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=zc(a);if(v!==null){v.flags&=-257,Fc(v,a,o,i,t),v.mode&1&&Ic(i,d,t),t=v,u=d;var b=t.updateQueue;if(b===null){var w=new Set;w.add(u),t.updateQueue=w}else b.add(u);break e}else{if(!(t&1)){Ic(i,d,t),Su();break e}u=Error(L(426))}}else if(he&&o.mode&1){var N=zc(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Fc(N,a,o,i,t),au(zn(u,o));break e}}i=u=zn(u,o),Ee!==4&&(Ee=2),bs===null?bs=[i]:bs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Nh(i,u,t);Oc(i,p);break e;case 1:o=u;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Nr===null||!Nr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Sh(i,o,t);Oc(i,j);break e}}i=i.return}while(i!==null)}Hh(r)}catch(S){t=S,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(!0)}function Bh(){var e=sa.current;return sa.current=na,e===null?na:e}function Su(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Oe===null||!(Zr&268435455)&&!(Ca&268435455)||mr(Oe,Ae)}function la(e,t){var r=re;re|=2;var n=Bh();(Oe!==e||Ae!==t)&&(Gt=null,Gr(e,t));do try{d0();break}catch(s){Vh(e,s)}while(!0);if(ou(),re=r,sa.current=n,Ne!==null)throw Error(L(261));return Oe=null,Ae=0,Ee}function d0(){for(;Ne!==null;)qh(Ne)}function f0(){for(;Ne!==null&&!Dp();)qh(Ne)}function qh(e){var t=Gh(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?Hh(e):Ne=t,bu.current=null}function Hh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=i0(r,t),r!==null){r.flags&=32767,Ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Ne=null;return}}else if(r=s0(r,t,ot),r!==null){Ne=r;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Ee===0&&(Ee=5)}function Fr(e,t,r){var n=ie,s=xt.transition;try{xt.transition=null,ie=1,h0(e,t,r,n)}finally{xt.transition=s,ie=n}return null}function h0(e,t,r,n){do On();while(vr!==null);if(re&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Gp(e,i),e===Oe&&(Ne=Oe=null,Ae=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wi||(wi=!0,Kh(Vi,function(){return On(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xt.transition,xt.transition=null;var a=ie;ie=1;var o=re;re|=4,bu.current=null,l0(e,r),zh(r,e),Lg(Jl),qi=!!Ql,Jl=Ql=null,e.current=r,o0(r),Ip(),re=o,ie=a,xt.transition=i}else e.current=r;if(wi&&(wi=!1,vr=e,aa=s),i=e.pendingLanes,i===0&&(Nr=null),Mp(r.stateNode),st(e,be()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ia)throw ia=!1,e=yo,yo=null,e;return aa&1&&e.tag!==0&&On(),i=e.pendingLanes,i&1?e===vo?_s++:(_s=0,vo=e):_s=0,Lr(),null}function On(){if(vr!==null){var e=Nf(aa),t=xt.transition,r=ie;try{if(xt.transition=null,ie=16>e?16:e,vr===null)var n=!1;else{if(e=vr,vr=null,aa=0,re&6)throw Error(L(331));var s=re;for(re|=4,M=e.current;M!==null;){var i=M,a=i.child;if(M.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var d=o[u];for(M=d;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:ws(8,c,i)}var f=c.child;if(f!==null)f.return=c,M=f;else for(;M!==null;){c=M;var h=c.sibling,v=c.return;if(Uh(c),c===d){M=null;break}if(h!==null){h.return=v,M=h;break}M=v}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var N=w.sibling;w.sibling=null,w=N}while(w!==null)}}M=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,M=a;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ws(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,M=p;break e}M=i.return}}var m=e.current;for(M=m;M!==null;){a=M;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,M=g;else e:for(a=m;M!==null;){if(o=M,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ea(9,o)}}catch(S){ve(o,o.return,S)}if(o===a){M=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,M=j;break e}M=o.return}}if(re=s,Lr(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(xa,e)}catch{}n=!0}return n}finally{ie=r,xt.transition=t}}return!1}function Zc(e,t,r){t=zn(r,t),t=Nh(e,t,1),e=kr(e,t,1),t=He(),e!==null&&(Js(e,1,t),st(e,t))}function ve(e,t,r){if(e.tag===3)Zc(e,e,r);else for(;t!==null;){if(t.tag===3){Zc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Nr===null||!Nr.has(n))){e=zn(r,e),e=Sh(t,e,1),t=kr(t,e,1),e=He(),t!==null&&(Js(t,1,e),st(t,e));break}}t=t.return}}function m0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&r,Oe===e&&(Ae&r)===r&&(Ee===4||Ee===3&&(Ae&130023424)===Ae&&500>be()-ju?Gr(e,0):_u|=r),st(e,t)}function Wh(e,t){t===0&&(e.mode&1?(t=ci,ci<<=1,!(ci&130023424)&&(ci=4194304)):t=1);var r=He();e=rr(e,t),e!==null&&(Js(e,t,r),st(e,r))}function p0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Wh(e,r)}function g0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),Wh(e,r)}var Gh;Gh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)et=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return et=!1,n0(e,t,r);et=!!(e.flags&131072)}else et=!1,he&&t.flags&1048576&&Xf(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ai(e,t),e=t.pendingProps;var s=$n(t,Me.current);Rn(t,r),s=gu(null,t,n,e,s,r);var i=yu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(n)?(i=!0,Qi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,du(t),s.updater=Sa,t.stateNode=s,s._reactInternals=t,io(t,n,e,r),t=oo(null,t,n,!0,i,r)):(t.tag=0,he&&i&&su(t),Be(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ai(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=v0(n),e=Nt(n,e),s){case 0:t=lo(null,t,n,e,r);break e;case 1:t=Bc(null,t,n,e,r);break e;case 11:t=Mc(null,t,n,e,r);break e;case 14:t=Vc(null,t,n,Nt(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Nt(n,s),lo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Nt(n,s),Bc(e,t,n,s,r);case 3:e:{if(Th(t),e===null)throw Error(L(387));n=t.pendingProps,i=t.memoizedState,s=i.element,nh(e,t),ea(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=zn(Error(L(423)),t),t=qc(e,t,n,r,s);break e}else if(n!==s){s=zn(Error(L(424)),t),t=qc(e,t,n,r,s);break e}else for(ut=jr(t.stateNode.containerInfo.firstChild),ct=t,he=!0,Ct=null,r=th(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Un(),n===s){t=nr(e,t,r);break e}Be(e,t,n,r)}t=t.child}return t;case 5:return sh(t),e===null&&ro(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Xl(n,s)?a=null:i!==null&&Xl(n,i)&&(t.flags|=32),Ph(e,t),Be(e,t,a,r),t.child;case 6:return e===null&&ro(t),null;case 13:return Rh(e,t,r);case 4:return fu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Dn(t,null,n,r):Be(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Nt(n,s),Mc(e,t,n,s,r);case 7:return Be(e,t,t.pendingProps,r),t.child;case 8:return Be(e,t,t.pendingProps.children,r),t.child;case 12:return Be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ue(Yi,n._currentValue),n._currentValue=a,i!==null)if(Lt(i.value,a)){if(i.children===s.children&&!rt.current){t=nr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Zt(-1,r&-r),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var c=d.pending;c===null?u.next=u:(u.next=c.next,c.next=u),d.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),no(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(L(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),no(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Be(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Rn(t,r),s=bt(s),n=n(s),t.flags|=1,Be(e,t,n,r),t.child;case 14:return n=t.type,s=Nt(n,t.pendingProps),s=Nt(n.type,s),Vc(e,t,n,s,r);case 15:return Eh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Nt(n,s),Ai(e,t),t.tag=1,nt(n)?(e=!0,Qi(t)):e=!1,Rn(t,r),kh(t,n,s),io(t,n,s,r),oo(null,t,n,!0,e,r);case 19:return Oh(e,t,r);case 22:return Ch(e,t,r)}throw Error(L(156,t.tag))};function Kh(e,t){return bf(e,t)}function y0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,r,n){return new y0(e,t,r,n)}function Eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v0(e){if(typeof e=="function")return Eu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wo)return 11;if(e===Go)return 14}return 2}function Er(e,t){var r=e.alternate;return r===null?(r=vt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Di(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Eu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case gn:return Kr(r.children,s,i,t);case Ho:a=8,s|=8;break;case Pl:return e=vt(12,r,t,s|2),e.elementType=Pl,e.lanes=i,e;case Tl:return e=vt(13,r,t,s),e.elementType=Tl,e.lanes=i,e;case Rl:return e=vt(19,r,t,s),e.elementType=Rl,e.lanes=i,e;case nf:return Pa(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tf:a=10;break e;case rf:a=9;break e;case Wo:a=11;break e;case Go:a=14;break e;case cr:a=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=vt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Kr(e,t,r,n){return e=vt(7,e,n,t),e.lanes=r,e}function Pa(e,t,r,n){return e=vt(22,e,n,t),e.elementType=nf,e.lanes=r,e.stateNode={isHidden:!1},e}function yl(e,t,r){return e=vt(6,e,null,t),e.lanes=r,e}function vl(e,t,r){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function x0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ya(0),this.expirationTimes=Ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cu(e,t,r,n,s,i,a,o,u){return e=new x0(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},du(i),e}function w0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Qh(e){if(!e)return Tr;e=e._reactInternals;e:{if(rn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(nt(r))return Qf(e,r,t)}return t}function Jh(e,t,r,n,s,i,a,o,u){return e=Cu(r,n,!0,e,s,i,a,o,u),e.context=Qh(null),r=e.current,n=He(),s=Sr(r),i=Zt(n,s),i.callback=t??null,kr(r,i,s),e.current.lanes=s,Js(e,s,n),st(e,n),e}function Ta(e,t,r,n){var s=t.current,i=He(),a=Sr(s);return r=Qh(r),t.context===null?t.context=r:t.pendingContext=r,t=Zt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=kr(s,t,a),e!==null&&(Ot(e,s,a,i),Ri(e,s,a)),a}function oa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Pu(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function b0(){return null}var Xh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tu(e){this._internalRoot=e}Ra.prototype.render=Tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Ta(e,t,null,null)};Ra.prototype.unmount=Tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;en(function(){Ta(null,e,null,null)}),t[tr]=null}};function Ra(e){this._internalRoot=e}Ra.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<hr.length&&t!==0&&t<hr[r].priority;r++);hr.splice(r,0,e),r===0&&Tf(e)}};function Ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function td(){}function _0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=oa(a);i.call(d)}}var a=Jh(t,n,e,0,null,!1,!1,"",td);return e._reactRootContainer=a,e[tr]=a.current,Us(e.nodeType===8?e.parentNode:e),en(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var d=oa(u);o.call(d)}}var u=Cu(e,0,!1,null,null,!1,!1,"",td);return e._reactRootContainer=u,e[tr]=u.current,Us(e.nodeType===8?e.parentNode:e),en(function(){Ta(t,u,r,n)}),u}function La(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=oa(a);o.call(u)}}Ta(t,a,e,s)}else a=_0(r,t,e,s,n);return oa(a)}Sf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ds(t.pendingLanes);r!==0&&(Jo(t,r|1),st(t,be()),!(re&6)&&(Fn=be()+500,Lr()))}break;case 13:en(function(){var n=rr(e,1);if(n!==null){var s=He();Ot(n,e,1,s)}}),Pu(e,1)}};Xo=function(e){if(e.tag===13){var t=rr(e,134217728);if(t!==null){var r=He();Ot(t,e,134217728,r)}Pu(e,134217728)}};Ef=function(e){if(e.tag===13){var t=Sr(e),r=rr(e,t);if(r!==null){var n=He();Ot(r,e,t,n)}Pu(e,t)}};Cf=function(){return ie};Pf=function(e,t){var r=ie;try{return ie=e,t()}finally{ie=r}};Ml=function(e,t,r){switch(t){case"input":if(Al(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ja(n);if(!s)throw Error(L(90));af(n),Al(n,s)}}}break;case"textarea":of(e,r);break;case"select":t=r.value,t!=null&&En(e,!!r.multiple,t,!1)}};pf=ku;gf=en;var j0={usingClientEntryPoint:!1,Events:[Ys,wn,ja,hf,mf,ku]},is={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k0={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xf(e),e===null?null:e.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||b0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bi.isDisabled&&bi.supportsFiber)try{xa=bi.inject(k0),Vt=bi}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j0;ft.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ru(t))throw Error(L(200));return w0(e,t,null,r)};ft.createRoot=function(e,t){if(!Ru(e))throw Error(L(299));var r=!1,n="",s=Xh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cu(e,1,!1,null,null,r,!1,n,s),e[tr]=t.current,Us(e.nodeType===8?e.parentNode:e),new Tu(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=xf(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return en(e)};ft.hydrate=function(e,t,r){if(!Oa(t))throw Error(L(200));return La(null,e,t,!0,r)};ft.hydrateRoot=function(e,t,r){if(!Ru(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Xh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Jh(t,null,e,1,r??null,s,!1,i,a),e[tr]=t.current,Us(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ra(t)};ft.render=function(e,t,r){if(!Oa(t))throw Error(L(200));return La(null,e,t,!1,r)};ft.unmountComponentAtNode=function(e){if(!Oa(e))throw Error(L(40));return e._reactRootContainer?(en(function(){La(null,null,e,!1,function(){e._reactRootContainer=null,e[tr]=null})}),!0):!1};ft.unstable_batchedUpdates=ku;ft.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Oa(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return La(e,t,r,!1,n)};ft.version="18.3.1-next-f1338f8080-20240426";function Yh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yh)}catch(e){console.error(e)}}Yh(),Xd.exports=ft;var N0=Xd.exports,Zh,rd=N0;Zh=rd.createRoot,rd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hs.apply(this,arguments)}var xr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xr||(xr={}));const nd="popstate";function S0(e){e===void 0&&(e={});function t(s,i){let{pathname:a="/",search:o="",hash:u=""}=nn(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),bo("",{pathname:a,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let a=s.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let u=s.location.href,d=u.indexOf("#");o=d===-1?u:u.slice(0,d)}return o+"#"+(typeof i=="string"?i:ua(i))}function n(s,i){Ou(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return C0(t,r,n,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ou(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E0(){return Math.random().toString(36).substr(2,8)}function sd(e,t){return{usr:e.state,key:e.key,idx:t}}function bo(e,t,r,n){return r===void 0&&(r=null),Hs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nn(t):t,{state:r,key:t&&t.key||n||E0()})}function ua(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function C0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=xr.Pop,u=null,d=c();d==null&&(d=0,a.replaceState(Hs({},a.state,{idx:d}),""));function c(){return(a.state||{idx:null}).idx}function f(){o=xr.Pop;let N=c(),p=N==null?null:N-d;d=N,u&&u({action:o,location:w.location,delta:p})}function h(N,p){o=xr.Push;let m=bo(w.location,N,p);r&&r(m,N),d=c()+1;let g=sd(m,d),j=w.createHref(m);try{a.pushState(g,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}i&&u&&u({action:o,location:w.location,delta:1})}function v(N,p){o=xr.Replace;let m=bo(w.location,N,p);r&&r(m,N),d=c();let g=sd(m,d),j=w.createHref(m);a.replaceState(g,"",j),i&&u&&u({action:o,location:w.location,delta:0})}function b(N){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof N=="string"?N:ua(N);return m=m.replace(/ $/,"%20"),xe(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let w={get action(){return o},get location(){return e(s,a)},listen(N){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(nd,f),u=N,()=>{s.removeEventListener(nd,f),u=null}},createHref(N){return t(s,N)},createURL:b,encodeLocation(N){let p=b(N);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:v,go(N){return a.go(N)}};return w}var id;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(id||(id={}));function P0(e,t,r){return r===void 0&&(r="/"),T0(e,t,r,!1)}function T0(e,t,r,n){let s=typeof t=="string"?nn(t):t,i=Mn(s.pathname||"/",r);if(i==null)return null;let a=em(e);R0(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let d=V0(i);o=F0(a[u],d,n)}return o}function em(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(xe(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let d=Cr([n,u.relativePath]),c=r.concat(u);i.children&&i.children.length>0&&(xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),em(i.children,t,c,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:I0(d,i.index),routesMeta:c})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let u of tm(i.path))s(i,a,u)}),t}function tm(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=tm(n.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function R0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:z0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const O0=/^:[\w-]+$/,L0=3,A0=2,$0=1,U0=10,D0=-2,ad=e=>e==="*";function I0(e,t){let r=e.split("/"),n=r.length;return r.some(ad)&&(n+=D0),t&&(n+=A0),r.filter(s=>!ad(s)).reduce((s,i)=>s+(O0.test(i)?L0:i===""?$0:U0),n)}function z0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function F0(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],d=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",f=ca({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},c),h=u.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=ca({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},c)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Cr([i,f.pathname]),pathnameBase:W0(Cr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Cr([i,f.pathnameBase]))}return a}function ca(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=M0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((d,c,f)=>{let{paramName:h,isOptional:v}=c;if(h==="*"){let w=o[f]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=o[f];return v&&!b?d[h]=void 0:d[h]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:e}}function M0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ou(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function V0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ou(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Mn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function B0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?nn(e):e;return{pathname:r?r.startsWith("/")?r:q0(r,t):t,search:G0(n),hash:K0(s)}}function q0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function xl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function H0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rm(e,t){let r=H0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nm(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=nn(e):(s=Hs({},e),xe(!s.pathname||!s.pathname.includes("?"),xl("?","pathname","search",s)),xe(!s.pathname||!s.pathname.includes("#"),xl("#","pathname","hash",s)),xe(!s.search||!s.search.includes("#"),xl("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let u=B0(s,o),d=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||c)&&(u.pathname+="/"),u}const Cr=e=>e.join("/").replace(/\/\/+/g,"/"),W0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Q0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sm=["post","put","patch","delete"];new Set(sm);const J0=["get",...sm];new Set(J0);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ws.apply(this,arguments)}const Aa=x.createContext(null),im=x.createContext(null),Ar=x.createContext(null),$a=x.createContext(null),$r=x.createContext({outlet:null,matches:[],isDataRoute:!1}),am=x.createContext(null);function X0(e,t){let{relative:r}=t===void 0?{}:t;ei()||xe(!1);let{basename:n,navigator:s}=x.useContext(Ar),{hash:i,pathname:a,search:o}=Ua(e,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:Cr([n,a])),s.createHref({pathname:u,search:o,hash:i})}function ei(){return x.useContext($a)!=null}function Qn(){return ei()||xe(!1),x.useContext($a).location}function lm(e){x.useContext(Ar).static||x.useLayoutEffect(e)}function ir(){let{isDataRoute:e}=x.useContext($r);return e?dy():Y0()}function Y0(){ei()||xe(!1);let e=x.useContext(Aa),{basename:t,future:r,navigator:n}=x.useContext(Ar),{matches:s}=x.useContext($r),{pathname:i}=Qn(),a=JSON.stringify(rm(s,r.v7_relativeSplatPath)),o=x.useRef(!1);return lm(()=>{o.current=!0}),x.useCallback(function(d,c){if(c===void 0&&(c={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let f=nm(d,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Cr([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,a,i,e])}function Z0(){let{matches:e}=x.useContext($r),t=e[e.length-1];return t?t.params:{}}function Ua(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Ar),{matches:s}=x.useContext($r),{pathname:i}=Qn(),a=JSON.stringify(rm(s,n.v7_relativeSplatPath));return x.useMemo(()=>nm(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function ey(e,t){return ty(e,t)}function ty(e,t,r,n){ei()||xe(!1);let{navigator:s,static:i}=x.useContext(Ar),{matches:a}=x.useContext($r),o=a[a.length-1],u=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let c=Qn(),f;if(t){var h;let p=typeof t=="string"?nn(t):t;d==="/"||(h=p.pathname)!=null&&h.startsWith(d)||xe(!1),f=p}else f=c;let v=f.pathname||"/",b=v;if(d!=="/"){let p=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(p.length).join("/")}let w=!i&&r&&r.matches&&r.matches.length>0?r.matches:P0(e,{pathname:b}),N=ay(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},u,p.params),pathname:Cr([d,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:Cr([d,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,r,n);return t&&N?x.createElement($a.Provider,{value:{location:Ws({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:xr.Pop}},N):N}function ry(){let e=cy(),t=Q0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const ny=x.createElement(ry,null);class sy extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement($r.Provider,{value:this.props.routeContext},x.createElement(am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iy(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(Aa);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement($r.Provider,{value:t},n)}function ay(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let c=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);c>=0||xe(!1),a=a.slice(0,Math.min(a.length,c+1))}let u=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=c),f.route.id){let{loaderData:h,errors:v}=r,b=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((c,f,h)=>{let v,b=!1,w=null,N=null;r&&(v=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||ny,u&&(d<0&&h===0?(b=!0,N=null):d===h&&(b=!0,N=f.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,h+1)),m=()=>{let g;return v?g=w:b?g=N:f.route.Component?g=x.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=c,x.createElement(iy,{match:f,routeContext:{outlet:c,matches:p,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(sy,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var om=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(om||{}),da=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(da||{});function ly(e){let t=x.useContext(Aa);return t||xe(!1),t}function oy(e){let t=x.useContext(im);return t||xe(!1),t}function uy(e){let t=x.useContext($r);return t||xe(!1),t}function um(e){let t=uy(),r=t.matches[t.matches.length-1];return r.route.id||xe(!1),r.route.id}function cy(){var e;let t=x.useContext(am),r=oy(da.UseRouteError),n=um(da.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function dy(){let{router:e}=ly(om.UseNavigateStable),t=um(da.UseNavigateStable),r=x.useRef(!1);return lm(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ws({fromRouteId:t},i)))},[e,t])}function fy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function kt(e){xe(!1)}function hy(e){let{basename:t="/",children:r=null,location:n,navigationType:s=xr.Pop,navigator:i,static:a=!1,future:o}=e;ei()&&xe(!1);let u=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:u,navigator:i,static:a,future:Ws({v7_relativeSplatPath:!1},o)}),[u,o,i,a]);typeof n=="string"&&(n=nn(n));let{pathname:c="/",search:f="",hash:h="",state:v=null,key:b="default"}=n,w=x.useMemo(()=>{let N=Mn(c,u);return N==null?null:{location:{pathname:N,search:f,hash:h,state:v,key:b},navigationType:s}},[u,c,f,h,v,b,s]);return w==null?null:x.createElement(Ar.Provider,{value:d},x.createElement($a.Provider,{children:r,value:w}))}function my(e){let{children:t,location:r}=e;return ey(_o(t),r)}new Promise(()=>{});function _o(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,_o(n.props.children,i));return}n.type!==kt&&xe(!1),!n.props.index||!n.props.children||xe(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=_o(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fa.apply(this,arguments)}function cm(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function py(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gy(e,t){return e.button===0&&(!t||t==="_self")&&!py(e)}const yy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vy=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],xy="6";try{window.__reactRouterVersion=xy}catch{}const wy=x.createContext({isTransitioning:!1}),by="startTransition",ld=mp[by];function _y(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=S0({window:s,v5Compat:!0}));let a=i.current,[o,u]=x.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},c=x.useCallback(f=>{d&&ld?ld(()=>u(f)):u(f)},[u,d]);return x.useLayoutEffect(()=>a.listen(c),[a,c]),x.useEffect(()=>fy(n),[n]),x.createElement(hy,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ky=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gs=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:u,to:d,preventScrollReset:c,viewTransition:f}=t,h=cm(t,yy),{basename:v}=x.useContext(Ar),b,w=!1;if(typeof d=="string"&&ky.test(d)&&(b=d,jy))try{let g=new URL(window.location.href),j=d.startsWith("//")?new URL(g.protocol+d):new URL(d),S=Mn(j.pathname,v);j.origin===g.origin&&S!=null?d=S+j.search+j.hash:w=!0}catch{}let N=X0(d,{relative:s}),p=Sy(d,{replace:a,state:o,target:u,preventScrollReset:c,relative:s,viewTransition:f});function m(g){n&&n(g),g.defaultPrevented||p(g)}return x.createElement("a",fa({},h,{href:b||N,onClick:w||i?n:m,ref:r,target:u}))}),un=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:d,children:c}=t,f=cm(t,vy),h=Ua(u,{relative:f.relative}),v=Qn(),b=x.useContext(im),{navigator:w,basename:N}=x.useContext(Ar),p=b!=null&&Ey(h)&&d===!0,m=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,g=v.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(g=g.toLowerCase(),j=j?j.toLowerCase():null,m=m.toLowerCase()),j&&N&&(j=Mn(j,N)||j);const S=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let I=g===m||!a&&g.startsWith(m)&&g.charAt(S)==="/",P=j!=null&&(j===m||!a&&j.startsWith(m)&&j.charAt(m.length)==="/"),T={isActive:I,isPending:P,isTransitioning:p},A=I?n:void 0,R;typeof i=="function"?R=i(T):R=[i,I?"active":null,P?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(T):o;return x.createElement(Gs,fa({},f,{"aria-current":A,className:R,ref:r,style:C,to:u,viewTransition:d}),typeof c=="function"?c(T):c)});var jo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jo||(jo={}));var od;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(od||(od={}));function Ny(e){let t=x.useContext(Aa);return t||xe(!1),t}function Sy(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,u=ir(),d=Qn(),c=Ua(e,{relative:a});return x.useCallback(f=>{if(gy(f,r)){f.preventDefault();let h=n!==void 0?n:ua(d)===ua(c);u(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[d,u,c,n,s,r,e,i,a,o])}function Ey(e,t){t===void 0&&(t={});let r=x.useContext(wy);r==null&&xe(!1);let{basename:n}=Ny(jo.useViewTransitionState),s=Ua(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Mn(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Mn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ca(s.pathname,a)!=null||ca(s.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,...d},c)=>x.createElement("svg",{ref:c,...Cy,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Py(e)}`,o].join(" "),...d},[...t.map(([f,h])=>x.createElement(f,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=K("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=K("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=K("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=K("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=K("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=K("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=K("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=K("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=K("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=K("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=K("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=K("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=K("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=K("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=K("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=K("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=K("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=K("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=K("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=K("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=K("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=K("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=K("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=K("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=K("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=K("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=K("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=K("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zy="modulepreload",ev=function(e){return"/Nexus/"+e},fd={},qn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=ev(u),u in fd)return;fd[u]=!0;const d=u.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Zy,d||(f.as="script"),f.crossOrigin="",f.href=u,o&&f.setAttribute("nonce",o),document.head.appendChild(f),d)return new Promise((h,v)=>{f.addEventListener("load",h),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},tv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qn(async()=>{const{default:n}=await Promise.resolve().then(()=>Jn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Uu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class rv extends Uu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nv extends Uu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sv extends Uu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Po;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Po||(Po={}));var iv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function u(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};class av{constructor(t,{headers:r={},customFetch:n,region:s=Po.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=tv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return iv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(o["x-region"]=u);let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(b=>{throw new rv(b)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new nv(c);if(!c.ok)throw new sv(c);let h=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield c.json():h==="application/octet-stream"?v=yield c.blob():h==="text/event-stream"?v=c:h==="multipart/form-data"?v=yield c.formData():v=yield c.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Ze={},Du={},Da={},ti={},Ia={},za={},lv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Hn=lv();const ov=Hn.fetch,ym=Hn.fetch.bind(Hn),vm=Hn.Headers,uv=Hn.Request,cv=Hn.Response,Jn=Object.freeze(Object.defineProperty({__proto__:null,Headers:vm,Request:uv,Response:cv,default:ym,fetch:ov},Symbol.toStringTag,{value:"Module"})),dv=Ym(Jn);var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});let fv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Fa.default=fv;var xm=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(za,"__esModule",{value:!0});const hv=xm(dv),mv=xm(Fa);let pv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=hv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,u;let d=null,c=null,f=null,h=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=p:c=JSON.parse(p))}const w=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),N=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");w&&N&&N.length>1&&(f=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(d={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,h=406,v="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const w=await i.text();try{d=JSON.parse(w),Array.isArray(d)&&i.status===404&&(c=[],d=null,h=200,v="OK")}catch{i.status===404&&w===""?(h=204,v="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,h=200,v="OK"),d&&this.shouldThrowOnError)throw new mv.default(d)}return{error:d,data:c,count:f,status:h,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};za.default=pv;var gv=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ia,"__esModule",{value:!0});const yv=gv(za);let vv=class extends yv.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${d}"; options=${u};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ia.default=vv;var xv=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ti,"__esModule",{value:!0});const wv=xv(Ia);let bv=class extends wv.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ti.default=bv;var _v=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Da,"__esModule",{value:!0});const as=_v(ti);let jv=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new as.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(a.length>0){const o=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new as.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const u=t.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(u.length>0){const d=[...new Set(u)].map(c=>`"${c}"`);this.url.searchParams.set("columns",d.join(","))}}return new as.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new as.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new as.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Da.default=jv;var Ma={},Va={};Object.defineProperty(Va,"__esModule",{value:!0});Va.version=void 0;Va.version="0.0.0-automated";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.DEFAULT_HEADERS=void 0;const kv=Va;Ma.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${kv.version}`};var wm=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Du,"__esModule",{value:!0});const Nv=wm(Da),Sv=wm(ti),Ev=Ma;let Cv=class bm{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Ev.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Nv.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{o.searchParams.append(c,f)})):(a="POST",u=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new Sv.default({method:a,url:o,headers:d,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Du.default=Cv;var Xn=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const _m=Xn(Du);Ze.PostgrestClient=_m.default;const jm=Xn(Da);Ze.PostgrestQueryBuilder=jm.default;const km=Xn(ti);Ze.PostgrestFilterBuilder=km.default;const Nm=Xn(Ia);Ze.PostgrestTransformBuilder=Nm.default;const Sm=Xn(za);Ze.PostgrestBuilder=Sm.default;const Em=Xn(Fa);Ze.PostgrestError=Em.default;var Pv=Ze.default={PostgrestClient:_m.default,PostgrestQueryBuilder:jm.default,PostgrestFilterBuilder:km.default,PostgrestTransformBuilder:Nm.default,PostgrestBuilder:Sm.default,PostgrestError:Em.default};const{PostgrestClient:Tv,PostgrestQueryBuilder:u1,PostgrestFilterBuilder:c1,PostgrestTransformBuilder:d1,PostgrestBuilder:f1,PostgrestError:h1}=Pv,Rv="2.11.2",Ov={"X-Client-Info":`realtime-js/${Rv}`},Lv="1.0.0",Cm=1e4,Av=1e3;var Ln;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ln||(Ln={}));var lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lt||(lt={}));var Et;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Et||(Et={}));var To;(function(e){e.websocket="websocket"})(To||(To={}));var Vr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vr||(Vr={}));class $v{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const u=n.decode(t.slice(a,a+i));a=a+i;const d=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:u,payload:d}}}class Pm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(oe||(oe={}));const hd=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=Uv(a,e,t,s),i),{})},Uv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Tm(i,a):Ro(a)},Tm=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Fv(t,r)}switch(e){case oe.bool:return Dv(t);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return Iv(t);case oe.json:case oe.jsonb:return zv(t);case oe.timestamp:return Mv(t);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return Ro(t);default:return Ro(t)}},Ro=e=>e,Dv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Iv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Fv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Tm(t,o))}return e},Mv=e=>typeof e=="string"?e.replace(" ","T"):e,Rm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class bl{constructor(t,r,n={},s=Cm){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var md;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(md||(md={}));class js{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=js.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=js.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=js.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},u={};return this.map(i,(d,c)=>{a[d]||(u[d]=c)}),this.map(a,(d,c)=>{const f=i[d];if(f){const h=c.map(N=>N.presence_ref),v=f.map(N=>N.presence_ref),b=c.filter(N=>v.indexOf(N.presence_ref)<0),w=f.filter(N=>h.indexOf(N.presence_ref)<0);b.length>0&&(o[d]=b),w.length>0&&(u[d]=w)}else o[d]=c}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var d;const c=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(u),c.length>0){const f=t[o].map(v=>v.presence_ref),h=c.filter(v=>f.indexOf(v.presence_ref)<0);t[o].unshift(...h)}n(o,c,u)}),this.map(a,(o,u)=>{let d=t[o];if(!d)return;const c=u.map(f=>f.presence_ref);d=d.filter(f=>c.indexOf(f.presence_ref)<0),t[o]=d,s(o,d,u),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pd||(pd={}));var gd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gd||(gd={}));var Kt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Kt||(Kt={}));class Iu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bl(this,Et.join,this.params,this.timeout),this.rejoinTimer=new Pm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new js(this),this.broadcastEndpointURL=Rm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(c=>t==null?void 0:t(Kt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(Kt.CLOSED));const u={},d={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){t==null||t(Kt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,v=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,b=[];for(let w=0;w<v;w++){const N=h[w],{filter:{event:p,schema:m,table:g,filter:j}}=N,S=c&&c[w];if(S&&S.event===p&&S.schema===m&&S.table===g&&S.filter===j)b.push(Object.assign(Object.assign({},N),{id:S.id}));else{this.unsubscribe(),t==null||t(Kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Kt.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(Kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new bl(this,Et.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new bl(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:d,join:c}=Et;if(n&&[o,u,d,c].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var b,w,N;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((N=(w=v.filter)===null||w===void 0?void 0:w.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===a}).map(v=>v.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var b,w,N,p,m,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const j=v.id,S=(b=v.filter)===null||b===void 0?void 0:b.event;return j&&((w=r.ids)===null||w===void 0?void 0:w.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const j=(m=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return j==="*"||j===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:w,table:N,commit_timestamp:p,type:m,errors:g}=b;h=Object.assign(Object.assign({},{schema:w,table:N,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(b))}v.callback(h,n)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Iu.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Et.close,{},t)}_onError(t){this._on(Et.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=hd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=hd(t.columns,t.old_record)),r}}const Vv=()=>{},Bv=typeof WebSocket<"u",qv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ov,this.params={},this.timeout=Cm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Vv,this.conn=null,this.sendBuffer=[],this.serializer=new $v,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>qn(async()=>{const{default:u}=await Promise.resolve().then(()=>Jn);return{default:u}},void 0).then(({default:u})=>u(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${To.websocket}`,this.httpEndpoint=Rm(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Pm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Bv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Wv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),qn(async()=>{const{default:t}=await import("./browser-CJXy6vpT.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Lv}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ln.connecting:return Vr.Connecting;case Ln.open:return Vr.Open;case Ln.closing:return Vr.Closing;default:return Vr.Closed}}isConnected(){return this.connectionState()===Vr.Open}channel(t,r={config:{}}){const n=new Iu(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Et.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Av,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Et.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([qv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Wv{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ln.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class zu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Te(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Gv extends zu{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Oo extends zu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Kv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function u(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};const Om=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qn(async()=>{const{default:n}=await Promise.resolve().then(()=>Jn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Qv=()=>Kv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qn(()=>Promise.resolve().then(()=>Jn),void 0)).Response:Response}),Lo=e=>{if(Array.isArray(e))return e.map(r=>Lo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Lo(n)}),t};var sn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function u(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};const _l=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jv=(e,t,r)=>sn(void 0,void 0,void 0,function*(){const n=yield Qv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Gv(_l(s),e.status||500))}).catch(s=>{t(new Oo(_l(s),s))}):t(new Oo(_l(e),e))}),Xv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ri(e,t,r,n,s,i){return sn(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,Xv(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>Jv(u,o,n))})})}function ma(e,t,r,n){return sn(this,void 0,void 0,function*(){return ri(e,"GET",t,r,n)})}function fr(e,t,r,n,s){return sn(this,void 0,void 0,function*(){return ri(e,"POST",t,n,s,r)})}function Yv(e,t,r,n,s){return sn(this,void 0,void 0,function*(){return ri(e,"PUT",t,n,s,r)})}function Zv(e,t,r,n){return sn(this,void 0,void 0,function*(){return ri(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Lm(e,t,r,n,s){return sn(this,void 0,void 0,function*(){return ri(e,"DELETE",t,n,s,r)})}var Je=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function u(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};const ex={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tx{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Om(s)}uploadOrUpdate(t,r,n,s){return Je(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},yd),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const d=this._removeEmptyFolders(r),c=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:d,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Te(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const d=Object.assign({upsert:yd.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,c["cache-control"]=`max-age=${d.cacheControl}`,c["content-type"]=d.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:u,headers:c}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(u){if(Te(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield fr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new zu("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}update(t,r,n){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Je(this,void 0,void 0,function*(){try{return{data:yield fr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Je(this,void 0,void 0,function*(){try{return{data:{path:(yield fr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield fr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Je(this,void 0,void 0,function*(){try{const s=yield fr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}download(t,r){return Je(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield ma(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Te(o))return{data:null,error:o};throw o}})}info(t){return Je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ma(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Lo(n),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}exists(t){return Je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Zv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Te(n)&&n instanceof Oo){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(t){return Je(this,void 0,void 0,function*(){try{return{data:yield Lm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}list(t,r,n){return Je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ex),r),{prefix:t||""});return{data:yield fr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const rx="2.7.1",nx={"X-Client-Info":`storage-js/${rx}`};var cn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function u(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};class sx{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},nx),r),this.fetch=Om(n)}listBuckets(){return cn(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Te(t))return{data:null,error:t};throw t}})}getBucket(t){return cn(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return cn(this,void 0,void 0,function*(){try{return{data:yield fr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return cn(this,void 0,void 0,function*(){try{return{data:yield Yv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}emptyBucket(t){return cn(this,void 0,void 0,function*(){try{return{data:yield fr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}deleteBucket(t){return cn(this,void 0,void 0,function*(){try{return{data:yield Lm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}}class ix extends sx{constructor(t,r={},n){super(t,r,n)}from(t){return new tx(this.url,this.headers,t,this.fetch)}}const ax="2.49.4";let hs="";typeof Deno<"u"?hs="deno":typeof document<"u"?hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hs="react-native":hs="node";const lx={"X-Client-Info":`supabase-js-${hs}/${ax}`},ox={headers:lx},ux={schema:"public"},cx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dx={};var fx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function u(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};const hx=e=>{let t;return e?t=e:typeof fetch>"u"?t=ym:t=fetch,(...r)=>t(...r)},mx=()=>typeof Headers>"u"?vm:Headers,px=(e,t,r)=>{const n=hx(r),s=mx();return(i,a)=>fx(void 0,void 0,void 0,function*(){var o;const u=(o=yield t())!==null&&o!==void 0?o:e;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:d}))})};var gx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function u(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};function yx(e){return e.replace(/\/$/,"")}function vx(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:a,auth:o,realtime:u,global:d}=t,c={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},d),i),accessToken:()=>gx(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const Am="2.69.1",mn=30*1e3,Ao=3,jl=Ao*mn,xx="http://localhost:9999",wx="supabase.auth.token",bx={"X-Client-Info":`gotrue-js/${Am}`},$o="X-Supabase-Api-Version",$m={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_x=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jx=6e5;class Fu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kx extends Fu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Nx(e){return J(e)&&e.name==="AuthApiError"}class Um extends Fu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ur extends Fu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class or extends Ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sx(e){return J(e)&&e.name==="AuthSessionMissingError"}class kl extends Ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _i extends Ur{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ji extends Ur{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ex(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class vd extends Ur{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uo extends Ur{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Nl(e){return J(e)&&e.name==="AuthRetryableFetchError"}class xd extends Ur{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ks extends Ur{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bd=` 	
\r=`.split(""),Cx=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bd.length;t+=1)e[bd[t].charCodeAt(0)]=-2;for(let t=0;t<wd.length;t+=1)e[wd[t].charCodeAt(0)]=t;return e})();function Dm(e,t,r){const n=Cx[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _d(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Rx(a,n,r)};for(let a=0;a<e.length;a+=1)Dm(e.charCodeAt(a),s,i);return t.join("")}function Px(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Tx(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Px(n,t)}}function Rx(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ox(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Dm(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Lx(e){const t=[];return Tx(e,r=>t.push(r)),new Uint8Array(t)}function Ax(e){return Math.round(Date.now()/1e3)+e}function $x(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ut=()=>typeof window<"u"&&typeof document<"u",Ir={tested:!1,writable:!1},Ns=()=>{if(!Ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ir.tested)return Ir.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ir.tested=!0,Ir.writable=!0}catch{Ir.tested=!0,Ir.writable=!1}return Ir.writable};function Ux(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Im=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qn(async()=>{const{default:n}=await Promise.resolve().then(()=>Jn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Dx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zm=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ki=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ni=async(e,t)=>{await e.removeItem(t)};class Ba{constructor(){this.promise=new Ba.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ba.promiseConstructor=Promise;function Sl(e){const t=e.split(".");if(t.length!==3)throw new ks("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_x.test(t[n]))throw new ks("JWT not in base64url format");return{header:JSON.parse(_d(t[0])),payload:JSON.parse(_d(t[1])),signature:Ox(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ix(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zx(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Fx(e){return("0"+e.toString(16)).substr(-2)}function Mx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Fx).join("")}async function Vx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Bx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Vx(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dn(e,t,r=!1){const n=Mx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await zm(e,`${t}-code-verifier`,s);const i=await Bx(n);return[i,n===i?"plain":"s256"]}const qx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hx(e){const t=e.headers.get($o);if(!t||!t.match(qx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Wx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Gx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Kx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Mr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Qx=[502,503,504];async function jd(e){var t;if(!Dx(e))throw new Uo(Mr(e),0);if(Qx.includes(e.status))throw new Uo(Mr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Um(Mr(i),i)}let n;const s=Hx(e);if(s&&s.getTime()>=$m["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xd(Mr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new or}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new xd(Mr(r),e.status,r.weak_password.reasons);throw new kx(Mr(r),e.status||500,n)}const Jx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ee(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[$o]||(i[$o]=$m["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Xx(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Xx(e,t,r,n,s,i){const a=Jx(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new Uo(Mr(u),0)}if(o.ok||await jd(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await jd(u)}}function ur(e){var t;let r=null;tw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ax(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function kd(e){const t=ur(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Yx(e){return{data:e,error:null}}function Zx(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Kx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function ew(e){return e}function tw(e){return e.access_token&&e.refresh_token&&e.expires_in}var rw=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class nw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Im(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pr})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=rw(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Zx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(J(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pr})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,u;try{const d={nextPage:null,lastPage:0,total:0},c=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ew});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(b.split(";")[1].split("=")[1]);d[`${N}Page`]=w}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(J(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pr})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:pr})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:pr})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}const sw={getItem:e=>Ns()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ns()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ns()&&globalThis.localStorage.removeItem(e)}};function Nd(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function iw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fn={debug:!!(globalThis&&Ns()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class aw extends Fm{}async function lw(e,t,r){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}iw();const ow={url:xx,storageKey:wx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sd(e,t,r){return await r()}class Ks{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ks.nextInstanceID,Ks.nextInstanceID+=1,this.instanceID>0&&Ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ow),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new nw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Im(s.fetch),this.lock=s.lock||Sd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ut()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=lw:this.lock=Sd,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ns()?this.storage=sw:(this.memoryStorage={},this.storage=Nd(this.memoryStorage)):(this.memoryStorage={},this.storage=Nd(this.memoryStorage)),Ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Am}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Ux(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ut()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ex(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return J(r)?{error:r}:{error:new Um("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ur}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:c,password:f,options:h}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await dn(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:b},xform:ur})}else if("phone"in t){const{phone:c,password:f,options:h}=t;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ur})}else throw new _i("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kd})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kd})}else throw new _i("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new kl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ki(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ur});if(await Ni(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new kl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ur}),{data:u,error:d}=o;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new kl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:u}=t;let d=null,c=null;this.flowType==="pkce"&&([d,c]=await dn(this.storage,this.storageKey));const{error:f}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:c},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:u}=t,{data:d,error:c}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:c}}throw new _i("You must provide either an email or phone number.")}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ur});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await dn(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Yx})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new or;const{error:s}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new _i("You must provide either an email or phone number and a type")}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<jl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,d,c)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new or}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:pr})})}catch(r){if(J(r))return Sx(r)&&(await this._removeSession(),await Ni(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new or;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await dn(this.storage,this.storageKey));const{data:d,error:c}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:pr});if(c)throw c;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new or;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Sl(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(J(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new or;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ut())throw new ji("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ji(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ji("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vd("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:d}=t;if(!i||!o||!a||!d)throw new ji("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(o);let h=c+f;u&&(h=parseInt(u));const v=h-c;v*1e3<=mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const b=h-f;c-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,c):c-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,c);const{data:w,error:N}=await this._getUser(i);if(N)throw N;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(J(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ki(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Nx(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ni(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=$x(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await dn(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,d,c;const{data:f,error:h}=i;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ut()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(J(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zx(async s=>(s>0&&await Ix(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ur})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Nl(i)&&Date.now()+a-n<mn})}catch(n){if(this._debug(r,"error",n),J(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ut()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ki(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<jl;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${jl}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Nl(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new or;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ba;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new or;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),J(i)){const a={session:null,error:i};return Nl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await zm(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ni(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mn}ms, refresh threshold is ${Ao} ticks`),s<=Ao&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Fm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await dn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Sl(s.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+jx>Date.now()))return n;const{data:s,error:i}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ks("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===t),!n)throw new ks("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:b}=await this.getSession();if(b||!v.session)return{data:null,error:b};n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:u}}=Sl(n);if(Wx(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const d=Gx(s.alg),c=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,Lx(`${o}.${u}`)))throw new ks("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}}Ks.nextInstanceID=0;const uw=Ks;class cw extends uw{constructor(t){super(t)}}var dw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function u(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};class fw{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=yx(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:ux,realtime:dx,auth:Object.assign(Object.assign({},cx),{storageKey:u}),global:ox},c=vx(n??{},d);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=px(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Tv(`${o}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new av(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ix(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return dw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:u},d,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cw({url:this.authUrl,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:u,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Hv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hw=(e,t,r)=>new fw(e,t,r),mw="https://gtfgvqttfydelzgvgwly.supabase.co",pw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0Zmd2cXR0ZnlkZWx6Z3Znd2x5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQwMjE0OTEsImV4cCI6MjA1OTU5NzQ5MX0.nBdVMHZ6LJ8ZvdSuXk_uDVMb6DxB5iTeFdc0dM7zolI",V=hw(mw,pw);function gw(){const[e,t]=x.useState(""),[r,n]=x.useState(""),[s,i]=x.useState(""),[a,o]=x.useState(!1),u=ir(),d=async f=>{f.preventDefault(),i(""),o(!0);try{const{error:h}=await V.auth.signInWithPassword({email:e,password:r});if(h)throw h;u("/profile")}catch(h){console.error("Login error:",h),i(h.message||"Помилка входу")}finally{o(!1)}},c=async()=>{try{const{error:f}=await V.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}/profile`,queryParams:{access_type:"offline",prompt:"consent"}}});if(f)throw f}catch(f){console.error("GitHub login error:",f),i(f.message||"Помилка входу через GitHub")}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Вхід до аккаунту"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Або"," ",l.jsx(Gs,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"створіть новий аккаунт"})]})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[s&&l.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:s}),l.jsxs("button",{onClick:c,className:"w-full flex justify-center items-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 mb-6",children:[l.jsx(Iy,{size:20}),"Увійти через GitHub"]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Або увійдіть за допомогою email"})})]}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(hm,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть email",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Пароль"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(Vn,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"password",type:"password",value:r,onChange:f=>n(f.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть пароль",required:!0})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Завантаження...":"Увійти"})})]})]})})]})}function yw(){const[e,t]=x.useState(""),[r,n]=x.useState(""),[s,i]=x.useState(""),[a,o]=x.useState(""),[u,d]=x.useState(""),[c,f]=x.useState(!1),h=ir(),v=async b=>{b.preventDefault(),d(""),f(!0);try{const{data:w,error:N}=await V.auth.signUp({email:s,password:a});if(N)throw N;if(w.user){const{error:p}=await V.from("users").insert([{auth_user_id:w.user.id,name:e,lastName:r,email:s,date:new Date().toISOString()}]);if(p)throw p;h("/profile/confirm")}}catch(w){console.error("Registration error:",w),d(w.message||"Помилка реєстрації")}finally{f(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Створення нового аккаунту"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Або"," ",l.jsx(Gs,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"увійдіть в існуючий аккаунт"})]})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[u&&l.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:u}),l.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Ім'я"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(ha,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"name",type:"text",value:e,onChange:b=>t(b.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть ім'я",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Прізвище"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(ha,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"lastName",type:"text",value:r,onChange:b=>n(b.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть прізвище",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(hm,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"email",type:"email",value:s,onChange:b=>i(b.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть email",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Пароль"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(Vn,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"password",type:"password",value:a,onChange:b=>o(b.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть пароль",required:!0,minLength:6})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Завантаження...":"Зареєструватися"})})]})]})})]})}function tt(){const e=ir(),t=async()=>{try{const{error:r}=await V.auth.signOut();if(r)throw r;e("/login")}catch(r){console.error("Error logging out:",r)}};return l.jsxs("div",{className:"w-64 bg-white h-screen fixed left-0 top-0 border-r border-gray-200",children:[l.jsx("div",{className:"p-4",children:l.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Соціальна мережа"})}),l.jsxs("nav",{className:"mt-8",children:[l.jsxs(un,{to:"/profile",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(ko,{className:"w-5 h-5 mr-3"}),"Профіль"]}),l.jsxs(un,{to:"/people",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(Bn,{className:"w-5 h-5 mr-3"}),"Люди"]}),l.jsxs(un,{to:"/messages",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(No,{className:"w-5 h-5 mr-3"}),"Повідомлення"]}),l.jsxs(un,{to:"/friends",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(Bn,{className:"w-5 h-5 mr-3"}),"Друзі"]}),l.jsxs(un,{to:"/groups",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(Xy,{className:"w-5 h-5 mr-3"}),"Групи"]}),l.jsxs(un,{to:"/settings",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(gm,{className:"w-5 h-5 mr-3"}),"Налаштування"]})]}),l.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-200",children:l.jsxs("button",{onClick:t,className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 w-full",children:[l.jsx(My,{className:"w-5 h-5 mr-3"}),"Вийти"]})})]})}class Ft{static async getCurrentUserProfile(){try{const{data:{user:t}}=await V.auth.getUser();if(!(t!=null&&t.email))return console.log("No authenticated user found"),null;const{data:r,error:n}=await V.from("users").select("*").eq("email",t.email).single();return n?n.code==="PGRST116"?await this.createUserProfile(t):(console.error("Error fetching user profile:",n),null):r}catch(t){return console.error("Error getting current user profile:",t),null}}static async createUserProfile(t){var r,n,s,i,a,o;try{const u={email:t.email,name:((r=t.user_metadata)==null?void 0:r.name)||((s=(n=t.user_metadata)==null?void 0:n.full_name)==null?void 0:s.split(" ")[0])||t.email.split("@")[0]||"User",lastName:((i=t.user_metadata)==null?void 0:i.lastName)||((o=(a=t.user_metadata)==null?void 0:a.full_name)==null?void 0:o.split(" ").slice(1).join(" "))||"",date:new Date().toISOString(),notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1}},{data:d,error:c}=await V.from("users").insert([u]).select().single();return c?(console.error("Error creating user profile:",c),null):d}catch(u){return console.error("Error creating user profile:",u),null}}static async searchUsers(t){try{if(t.length<2)return[];const{data:r,error:n}=await V.from("users").select("id, name, lastName, avatar, email").or(`name.ilike.%${t}%, lastName.ilike.%${t}%`).limit(10);if(n)throw n;return r||[]}catch(r){return console.error("Error searching users:",r),[]}}static async getUserFriends(){try{const t=await this.getCurrentUserProfile();if(!t)return[];const{data:r,error:n}=await V.from("friends").select(`
          friend_id,
          friend:users!friend_id (
            id,
            name,
            lastName,
            avatar,
            email
          )
        `).eq("user_id",t.id);if(n)throw n;return(r==null?void 0:r.map(s=>s.friend).filter(Boolean))||[]}catch(t){return console.error("Error fetching friends:",t),[]}}static async addFriend(t){try{const r=await this.getCurrentUserProfile();if(!r)return!1;const{error:n}=await V.from("friends").insert([{user_id:r.id,friend_id:t}]);if(n)throw n;return!0}catch(r){return console.error("Error adding friend:",r),!1}}static async updateUserProfile(t){try{const{data:{user:r}}=await V.auth.getUser();if(!(r!=null&&r.email))return!1;const{error:n}=await V.from("users").update(t).eq("email",r.email);if(n)throw n;return!0}catch(r){return console.error("Error updating user profile:",r),!1}}static async getUserMedia(){try{const t=await this.getCurrentUserProfile();if(!t)return[];const{data:r,error:n}=await V.from("media").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(t){return console.error("Error loading media:",t),[]}}}const Ed=[{name:"Оригінал",filter:"none",css:""},{name:"Сепія",filter:"sepia",css:"sepia(100%)"},{name:"Ч/Б",filter:"grayscale",css:"grayscale(100%)"},{name:"Інверсія",filter:"invert",css:"invert(100%)"},{name:"Яскравість",filter:"brightness",css:"brightness(150%)"},{name:"Контраст",filter:"contrast",css:"contrast(150%)"},{name:"Насиченість",filter:"saturate",css:"saturate(200%)"},{name:"Розмиття",filter:"blur",css:"blur(2px)"},{name:"Тепло",filter:"warm",css:"sepia(30%) saturate(120%) brightness(110%)"},{name:"Холод",filter:"cool",css:"hue-rotate(180deg) saturate(120%)"},{name:"Вінтаж",filter:"vintage",css:"sepia(50%) contrast(120%) brightness(90%)"},{name:"Драма",filter:"dramatic",css:"contrast(150%) brightness(90%) saturate(150%)"}];function vw({imageUrl:e,onApplyFilter:t,onClose:r}){const n=x.useRef(null),[s,i]=x.useState("none"),[a,o]=x.useState(100),[u,d]=x.useState(100),[c,f]=x.useState(100),[h,v]=x.useState(0),[b,w]=x.useState(0),[N,p]=x.useState(0),m=()=>`
      brightness(${a}%) 
      contrast(${u}%) 
      saturate(${c}%) 
      blur(${h}px) 
      sepia(${b}%) 
      grayscale(${N}%)
    `.trim(),g=()=>{if(s==="custom")return m();const P=Ed.find(T=>T.filter===s);return P?P.css:""},j=async P=>{const T=n.current;if(!T)return null;const A=T.getContext("2d");return A?new Promise(R=>{const C=new Image;C.crossOrigin="anonymous",C.onload=()=>{T.width=C.width,T.height=C.height,A.filter=P,A.drawImage(C,0,0);const U=T.toDataURL("image/jpeg",.9);R(U)},C.src=e}):null},S=async()=>{const P=g(),T=await j(P);T&&t(T)},I=()=>{i("none"),o(100),d(100),f(100),v(0),w(0),p(0)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Редагування фото"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:I,className:"flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:[l.jsx(mm,{size:18,className:"mr-1"}),"Скинути"]}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:"✕"})]})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-1 bg-gray-100 p-6 flex items-center justify-center",children:l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:e,alt:"Preview",className:"max-w-full max-h-96 object-contain rounded-lg",style:{filter:g()}}),l.jsx("canvas",{ref:n,className:"hidden"})]})}),l.jsxs("div",{className:"w-80 border-l border-gray-200 bg-gray-50 overflow-y-auto",children:[l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Фільтри"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:Ed.map(P=>l.jsxs("button",{onClick:()=>i(P.filter),className:`relative p-2 rounded-lg border-2 transition-colors ${s===P.filter?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("div",{className:"w-full h-16 bg-gray-200 rounded mb-1 overflow-hidden",children:l.jsx("img",{src:e,alt:P.name,className:"w-full h-full object-cover",style:{filter:P.css}})}),l.jsx("span",{className:"text-xs text-gray-700",children:P.name}),s===P.filter&&l.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:l.jsx(Ly,{size:12,className:"text-white"})})]},P.filter))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Налаштування"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Яскравість: ",a,"%"]}),l.jsx("input",{type:"range",min:"50",max:"200",value:a,onChange:P=>{o(Number(P.target.value)),i("custom")},className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Контраст: ",u,"%"]}),l.jsx("input",{type:"range",min:"50",max:"200",value:u,onChange:P=>{d(Number(P.target.value)),i("custom")},className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Насиченість: ",c,"%"]}),l.jsx("input",{type:"range",min:"0",max:"300",value:c,onChange:P=>{f(Number(P.target.value)),i("custom")},className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Розмиття: ",h,"px"]}),l.jsx("input",{type:"range",min:"0",max:"10",value:h,onChange:P=>{v(Number(P.target.value)),i("custom")},className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Сепія: ",b,"%"]}),l.jsx("input",{type:"range",min:"0",max:"100",value:b,onChange:P=>{w(Number(P.target.value)),i("custom")},className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ч/Б: ",N,"%"]}),l.jsx("input",{type:"range",min:"0",max:"100",value:N,onChange:P=>{p(Number(P.target.value)),i("custom")},className:"w-full"})]})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 p-4",children:l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Скасувати"}),l.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Застосувати"})]})})]})]})]})})}var ni=e=>e.type==="checkbox",Wr=e=>e instanceof Date,qe=e=>e==null;const Mm=e=>typeof e=="object";var _e=e=>!qe(e)&&!Array.isArray(e)&&Mm(e)&&!Wr(e),xw=e=>_e(e)&&e.target?ni(e.target)?e.target.checked:e.target.value:e,ww=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,bw=(e,t)=>e.has(ww(t)),_w=e=>{const t=e.constructor&&e.constructor.prototype;return _e(t)&&t.hasOwnProperty("isPrototypeOf")},Mu=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pe(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Mu&&(e instanceof Blob||n))&&(r||_e(e)))if(t=r?[]:{},!r&&!_w(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Pe(e[s]));else return e;return t}var qa=e=>/^\w*$/.test(e),ke=e=>e===void 0,Vu=e=>Array.isArray(e)?e.filter(Boolean):[],Bu=e=>Vu(e.replace(/["|']|\]/g,"").split(/\.|\[/)),q=(e,t,r)=>{if(!t||!_e(e))return r;const n=(qa(t)?[t]:Bu(t)).reduce((s,i)=>qe(s)?s:s[i],e);return ke(n)||n===e?ke(e[t])?r:e[t]:n},It=e=>typeof e=="boolean",fe=(e,t,r)=>{let n=-1;const s=qa(t)?[t]:Bu(t),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let u=r;if(n!==a){const d=e[o];u=_e(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=u,e=e[o]}};const Cd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Pt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},jw=pt.createContext(null);jw.displayName="HookFormContext";var kw=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==Pt.all&&(t._proxyFormState[a]=!n||Pt.all),e[a]}});return s};const Nw=typeof window<"u"?x.useLayoutEffect:x.useEffect;var Mt=e=>typeof e=="string",Sw=(e,t,r,n,s)=>Mt(e)?(n&&t.watch.add(e),q(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),q(r,i))):(n&&(t.watchAll=!0),r),Ew=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Ss=e=>Array.isArray(e)?e:[e],Pd=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Do=e=>qe(e)||!Mm(e);function gr(e,t,r=new WeakSet){if(Do(e)||Do(t))return e===t;if(Wr(e)&&Wr(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Wr(a)&&Wr(o)||_e(a)&&_e(o)||Array.isArray(a)&&Array.isArray(o)?!gr(a,o,r):a!==o)return!1}}return!0}var Xe=e=>_e(e)&&!Object.keys(e).length,qu=e=>e.type==="file",Tt=e=>typeof e=="function",pa=e=>{if(!Mu)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Vm=e=>e.type==="select-multiple",Hu=e=>e.type==="radio",Cw=e=>Hu(e)||ni(e),El=e=>pa(e)&&e.isConnected;function Pw(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ke(e)?n++:e[t[n++]];return e}function Tw(e){for(const t in e)if(e.hasOwnProperty(t)&&!ke(e[t]))return!1;return!0}function je(e,t){const r=Array.isArray(t)?t:qa(t)?[t]:Bu(t),n=r.length===1?e:Pw(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(_e(n)&&Xe(n)||Array.isArray(n)&&Tw(n))&&je(e,r.slice(0,-1)),e}var Bm=e=>{for(const t in e)if(Tt(e[t]))return!0;return!1};function ga(e,t={}){const r=Array.isArray(e);if(_e(e)||r)for(const n in e)Array.isArray(e[n])||_e(e[n])&&!Bm(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ga(e[n],t[n])):qe(e[n])||(t[n]=!0);return t}function qm(e,t,r){const n=Array.isArray(e);if(_e(e)||n)for(const s in e)Array.isArray(e[s])||_e(e[s])&&!Bm(e[s])?ke(t)||Do(r[s])?r[s]=Array.isArray(e[s])?ga(e[s],[]):{...ga(e[s])}:qm(e[s],qe(t)?{}:t[s],r[s]):r[s]=!gr(e[s],t[s]);return r}var ls=(e,t)=>qm(e,t,ga(t));const Td={value:!1,isValid:!1},Rd={value:!0,isValid:!0};var Hm=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ke(e[0].attributes.value)?ke(e[0].value)||e[0].value===""?Rd:{value:e[0].value,isValid:!0}:Rd:Td}return Td},Wm=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ke(e)?e:t?e===""?NaN:e&&+e:r&&Mt(e)?new Date(e):n?n(e):e;const Od={isValid:!1,value:null};var Gm=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Od):Od;function Ld(e){const t=e.ref;return qu(t)?t.files:Hu(t)?Gm(e.refs).value:Vm(t)?[...t.selectedOptions].map(({value:r})=>r):ni(t)?Hm(e.refs).value:Wm(ke(t.value)?e.ref.value:t.value,e)}var Rw=(e,t,r,n)=>{const s={};for(const i of e){const a=q(t,i);a&&fe(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ya=e=>e instanceof RegExp,os=e=>ke(e)?e:ya(e)?e.source:_e(e)?ya(e.value)?e.value.source:e.value:e,Ad=e=>({isOnSubmit:!e||e===Pt.onSubmit,isOnBlur:e===Pt.onBlur,isOnChange:e===Pt.onChange,isOnAll:e===Pt.all,isOnTouch:e===Pt.onTouched});const $d="AsyncFunction";var Ow=e=>!!e&&!!e.validate&&!!(Tt(e.validate)&&e.validate.constructor.name===$d||_e(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===$d)),Lw=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ud=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Es=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=q(e,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Es(o,t))break}else if(_e(o)&&Es(o,t))break}}};function Dd(e,t,r){const n=q(e,r);if(n||qa(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=q(t,i),o=q(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var Aw=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Xe(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||Pt.all))},$w=(e,t,r)=>!e||!t||e===t||Ss(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Uw=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Dw=(e,t)=>!Vu(q(e,t)).length&&je(e,t),Iw=(e,t,r)=>{const n=Ss(q(e,r));return fe(n,"root",t[r]),fe(e,r,n),e},Ii=e=>Mt(e);function Id(e,t,r="validate"){if(Ii(e)||Array.isArray(e)&&e.every(Ii)||It(e)&&!e)return{type:r,message:Ii(e)?e:"",ref:t}}var hn=e=>_e(e)&&!ya(e)?e:{value:e,message:""},zd=async(e,t,r,n,s,i)=>{const{ref:a,refs:o,required:u,maxLength:d,minLength:c,min:f,max:h,pattern:v,validate:b,name:w,valueAsNumber:N,mount:p}=e._f,m=q(r,w);if(!p||t.has(w))return{};const g=o?o[0]:a,j=U=>{s&&g.reportValidity&&(g.setCustomValidity(It(U)?"":U||""),g.reportValidity())},S={},I=Hu(a),P=ni(a),T=I||P,A=(N||qu(a))&&ke(a.value)&&ke(m)||pa(a)&&a.value===""||m===""||Array.isArray(m)&&!m.length,R=Ew.bind(null,w,n,S),C=(U,H,Q,ae=Wt.maxLength,se=Wt.minLength)=>{const we=U?H:Q;S[w]={type:U?ae:se,message:we,ref:a,...R(U?ae:se,we)}};if(i?!Array.isArray(m)||!m.length:u&&(!T&&(A||qe(m))||It(m)&&!m||P&&!Hm(o).isValid||I&&!Gm(o).isValid)){const{value:U,message:H}=Ii(u)?{value:!!u,message:u}:hn(u);if(U&&(S[w]={type:Wt.required,message:H,ref:g,...R(Wt.required,H)},!n))return j(H),S}if(!A&&(!qe(f)||!qe(h))){let U,H;const Q=hn(h),ae=hn(f);if(!qe(m)&&!isNaN(m)){const se=a.valueAsNumber||m&&+m;qe(Q.value)||(U=se>Q.value),qe(ae.value)||(H=se<ae.value)}else{const se=a.valueAsDate||new Date(m),we=G=>new Date(new Date().toDateString()+" "+G),D=a.type=="time",W=a.type=="week";Mt(Q.value)&&m&&(U=D?we(m)>we(Q.value):W?m>Q.value:se>new Date(Q.value)),Mt(ae.value)&&m&&(H=D?we(m)<we(ae.value):W?m<ae.value:se<new Date(ae.value))}if((U||H)&&(C(!!U,Q.message,ae.message,Wt.max,Wt.min),!n))return j(S[w].message),S}if((d||c)&&!A&&(Mt(m)||i&&Array.isArray(m))){const U=hn(d),H=hn(c),Q=!qe(U.value)&&m.length>+U.value,ae=!qe(H.value)&&m.length<+H.value;if((Q||ae)&&(C(Q,U.message,H.message),!n))return j(S[w].message),S}if(v&&!A&&Mt(m)){const{value:U,message:H}=hn(v);if(ya(U)&&!m.match(U)&&(S[w]={type:Wt.pattern,message:H,ref:a,...R(Wt.pattern,H)},!n))return j(H),S}if(b){if(Tt(b)){const U=await b(m,r),H=Id(U,g);if(H&&(S[w]={...H,...R(Wt.validate,H.message)},!n))return j(H.message),S}else if(_e(b)){let U={};for(const H in b){if(!Xe(U)&&!n)break;const Q=Id(await b[H](m,r),g,H);Q&&(U={...Q,...R(H,Q.message)},j(Q.message),n&&(S[w]=U))}if(!Xe(U)&&(S[w]={ref:g,...U},!n))return S}}return j(!0),S};const zw={mode:Pt.onSubmit,reValidateMode:Pt.onChange,shouldFocusError:!0};function Fw(e={}){let t={...zw,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Tt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=_e(t.defaultValues)||_e(t.values)?Pe(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Pe(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...c};const h={array:Pd(),state:Pd()},v=t.criteriaMode===Pt.all,b=y=>k=>{clearTimeout(d),d=setTimeout(y,k)},w=async y=>{if(!t.disabled&&(c.isValid||f.isValid||y)){const k=t.resolver?Xe((await P()).errors):await A(n,!0);k!==r.isValid&&h.state.next({isValid:k})}},N=(y,k)=>{!t.disabled&&(c.isValidating||c.validatingFields||f.isValidating||f.validatingFields)&&((y||Array.from(o.mount)).forEach(E=>{E&&(k?fe(r.validatingFields,E,k):je(r.validatingFields,E))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Xe(r.validatingFields)}))},p=(y,k=[],E,F,z=!0,_=!0)=>{if(F&&E&&!t.disabled){if(a.action=!0,_&&Array.isArray(q(n,y))){const O=E(q(n,y),F.argA,F.argB);z&&fe(n,y,O)}if(_&&Array.isArray(q(r.errors,y))){const O=E(q(r.errors,y),F.argA,F.argB);z&&fe(r.errors,y,O),Dw(r.errors,y)}if((c.touchedFields||f.touchedFields)&&_&&Array.isArray(q(r.touchedFields,y))){const O=E(q(r.touchedFields,y),F.argA,F.argB);z&&fe(r.touchedFields,y,O)}(c.dirtyFields||f.dirtyFields)&&(r.dirtyFields=ls(s,i)),h.state.next({name:y,isDirty:C(y,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else fe(i,y,k)},m=(y,k)=>{fe(r.errors,y,k),h.state.next({errors:r.errors})},g=y=>{r.errors=y,h.state.next({errors:r.errors,isValid:!1})},j=(y,k,E,F)=>{const z=q(n,y);if(z){const _=q(i,y,ke(E)?q(s,y):E);ke(_)||F&&F.defaultChecked||k?fe(i,y,k?_:Ld(z._f)):Q(y,_),a.mount&&w()}},S=(y,k,E,F,z)=>{let _=!1,O=!1;const B={name:y};if(!t.disabled){if(!E||F){(c.isDirty||f.isDirty)&&(O=r.isDirty,r.isDirty=B.isDirty=C(),_=O!==B.isDirty);const X=gr(q(s,y),k);O=!!q(r.dirtyFields,y),X?je(r.dirtyFields,y):fe(r.dirtyFields,y,!0),B.dirtyFields=r.dirtyFields,_=_||(c.dirtyFields||f.dirtyFields)&&O!==!X}if(E){const X=q(r.touchedFields,y);X||(fe(r.touchedFields,y,E),B.touchedFields=r.touchedFields,_=_||(c.touchedFields||f.touchedFields)&&X!==E)}_&&z&&h.state.next(B)}return _?B:{}},I=(y,k,E,F)=>{const z=q(r.errors,y),_=(c.isValid||f.isValid)&&It(k)&&r.isValid!==k;if(t.delayError&&E?(u=b(()=>m(y,E)),u(t.delayError)):(clearTimeout(d),u=null,E?fe(r.errors,y,E):je(r.errors,y)),(E?!gr(z,E):z)||!Xe(F)||_){const O={...F,..._&&It(k)?{isValid:k}:{},errors:r.errors,name:y};r={...r,...O},h.state.next(O)}},P=async y=>{N(y,!0);const k=await t.resolver(i,t.context,Rw(y||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return N(y),k},T=async y=>{const{errors:k}=await P(y);if(y)for(const E of y){const F=q(k,E);F?fe(r.errors,E,F):je(r.errors,E)}else r.errors=k;return k},A=async(y,k,E={valid:!0})=>{for(const F in y){const z=y[F];if(z){const{_f:_,...O}=z;if(_){const B=o.array.has(_.name),X=z._f&&Ow(z._f);X&&c.validatingFields&&N([F],!0);const ne=await zd(z,o.disabled,i,v,t.shouldUseNativeValidation&&!k,B);if(X&&c.validatingFields&&N([F]),ne[_.name]&&(E.valid=!1,k))break;!k&&(q(ne,_.name)?B?Iw(r.errors,ne,_.name):fe(r.errors,_.name,ne[_.name]):je(r.errors,_.name))}!Xe(O)&&await A(O,k,E)}}return E.valid},R=()=>{for(const y of o.unMount){const k=q(n,y);k&&(k._f.refs?k._f.refs.every(E=>!El(E)):!El(k._f.ref))&&Ue(y)}o.unMount=new Set},C=(y,k)=>!t.disabled&&(y&&k&&fe(i,y,k),!gr(G(),s)),U=(y,k,E)=>Sw(y,o,{...a.mount?i:ke(k)?s:Mt(y)?{[y]:k}:k},E,k),H=y=>Vu(q(a.mount?i:s,y,t.shouldUnregister?q(s,y,[]):[])),Q=(y,k,E={})=>{const F=q(n,y);let z=k;if(F){const _=F._f;_&&(!_.disabled&&fe(i,y,Wm(k,_)),z=pa(_.ref)&&qe(k)?"":k,Vm(_.ref)?[..._.ref.options].forEach(O=>O.selected=z.includes(O.value)):_.refs?ni(_.ref)?_.refs.forEach(O=>{(!O.defaultChecked||!O.disabled)&&(Array.isArray(z)?O.checked=!!z.find(B=>B===O.value):O.checked=z===O.value||!!z)}):_.refs.forEach(O=>O.checked=O.value===z):qu(_.ref)?_.ref.value="":(_.ref.value=z,_.ref.type||h.state.next({name:y,values:Pe(i)})))}(E.shouldDirty||E.shouldTouch)&&S(y,z,E.shouldTouch,E.shouldDirty,!0),E.shouldValidate&&W(y)},ae=(y,k,E)=>{for(const F in k){if(!k.hasOwnProperty(F))return;const z=k[F],_=y+"."+F,O=q(n,_);(o.array.has(y)||_e(z)||O&&!O._f)&&!Wr(z)?ae(_,z,E):Q(_,z,E)}},se=(y,k,E={})=>{const F=q(n,y),z=o.array.has(y),_=Pe(k);fe(i,y,_),z?(h.array.next({name:y,values:Pe(i)}),(c.isDirty||c.dirtyFields||f.isDirty||f.dirtyFields)&&E.shouldDirty&&h.state.next({name:y,dirtyFields:ls(s,i),isDirty:C(y,_)})):F&&!F._f&&!qe(_)?ae(y,_,E):Q(y,_,E),Ud(y,o)&&h.state.next({...r}),h.state.next({name:a.mount?y:void 0,values:Pe(i)})},we=async y=>{a.mount=!0;const k=y.target;let E=k.name,F=!0;const z=q(n,E),_=X=>{F=Number.isNaN(X)||Wr(X)&&isNaN(X.getTime())||gr(X,q(i,E,X))},O=Ad(t.mode),B=Ad(t.reValidateMode);if(z){let X,ne;const ln=k.type?Ld(z._f):xw(y),Ht=y.type===Cd.BLUR||y.type===Cd.FOCUS_OUT,si=!Lw(z._f)&&!t.resolver&&!q(r.errors,E)&&!z._f.deps||Uw(Ht,q(r.touchedFields,E),r.isSubmitted,B,O),Ha=Ud(E,o,Ht);fe(i,E,ln),Ht?(z._f.onBlur&&z._f.onBlur(y),u&&u(0)):z._f.onChange&&z._f.onChange(y);const Wa=S(E,ln,Ht),Km=!Xe(Wa)||Ha;if(!Ht&&h.state.next({name:E,type:y.type,values:Pe(i)}),si)return(c.isValid||f.isValid)&&(t.mode==="onBlur"?Ht&&w():Ht||w()),Km&&h.state.next({name:E,...Ha?{}:Wa});if(!Ht&&Ha&&h.state.next({...r}),t.resolver){const{errors:Wu}=await P([E]);if(_(ln),F){const Qm=Dd(r.errors,n,E),Gu=Dd(Wu,n,Qm.name||E);X=Gu.error,E=Gu.name,ne=Xe(Wu)}}else N([E],!0),X=(await zd(z,o.disabled,i,v,t.shouldUseNativeValidation))[E],N([E]),_(ln),F&&(X?ne=!1:(c.isValid||f.isValid)&&(ne=await A(n,!0)));F&&(z._f.deps&&W(z._f.deps),I(E,ne,X,Wa))}},D=(y,k)=>{if(q(r.errors,k)&&y.focus)return y.focus(),1},W=async(y,k={})=>{let E,F;const z=Ss(y);if(t.resolver){const _=await T(ke(y)?y:z);E=Xe(_),F=y?!z.some(O=>q(_,O)):E}else y?(F=(await Promise.all(z.map(async _=>{const O=q(n,_);return await A(O&&O._f?{[_]:O}:O)}))).every(Boolean),!(!F&&!r.isValid)&&w()):F=E=await A(n);return h.state.next({...!Mt(y)||(c.isValid||f.isValid)&&E!==r.isValid?{}:{name:y},...t.resolver||!y?{isValid:E}:{},errors:r.errors}),k.shouldFocus&&!F&&Es(n,D,y?z:o.mount),F},G=y=>{const k={...a.mount?i:s};return ke(y)?k:Mt(y)?q(k,y):y.map(E=>q(k,E))},te=(y,k)=>({invalid:!!q((k||r).errors,y),isDirty:!!q((k||r).dirtyFields,y),error:q((k||r).errors,y),isValidating:!!q(r.validatingFields,y),isTouched:!!q((k||r).touchedFields,y)}),le=y=>{y&&Ss(y).forEach(k=>je(r.errors,k)),h.state.next({errors:y?r.errors:{}})},mt=(y,k,E)=>{const F=(q(n,y,{_f:{}})._f||{}).ref,z=q(r.errors,y)||{},{ref:_,message:O,type:B,...X}=z;fe(r.errors,y,{...X,...k,ref:F}),h.state.next({name:y,errors:r.errors,isValid:!1}),E&&E.shouldFocus&&F&&F.focus&&F.focus()},Ve=(y,k)=>Tt(y)?h.state.subscribe({next:E=>y(U(void 0,k),E)}):U(y,k,!0),At=y=>h.state.subscribe({next:k=>{$w(y.name,k.name,y.exact)&&Aw(k,y.formState||c,it,y.reRenderRoot)&&y.callback({values:{...i},...r,...k})}}).unsubscribe,Ke=y=>(a.mount=!0,f={...f,...y.formState},At({...y,formState:f})),Ue=(y,k={})=>{for(const E of y?Ss(y):o.mount)o.mount.delete(E),o.array.delete(E),k.keepValue||(je(n,E),je(i,E)),!k.keepError&&je(r.errors,E),!k.keepDirty&&je(r.dirtyFields,E),!k.keepTouched&&je(r.touchedFields,E),!k.keepIsValidating&&je(r.validatingFields,E),!t.shouldUnregister&&!k.keepDefaultValue&&je(s,E);h.state.next({values:Pe(i)}),h.state.next({...r,...k.keepDirty?{isDirty:C()}:{}}),!k.keepIsValid&&w()},Dr=({disabled:y,name:k})=>{(It(y)&&a.mount||y||o.disabled.has(k))&&(y?o.disabled.add(k):o.disabled.delete(k))},ar=(y,k={})=>{let E=q(n,y);const F=It(k.disabled)||It(t.disabled);return fe(n,y,{...E||{},_f:{...E&&E._f?E._f:{ref:{name:y}},name:y,mount:!0,...k}}),o.mount.add(y),E?Dr({disabled:It(k.disabled)?k.disabled:t.disabled,name:y}):j(y,!0,k.value),{...F?{disabled:k.disabled||t.disabled}:{},...t.progressive?{required:!!k.required,min:os(k.min),max:os(k.max),minLength:os(k.minLength),maxLength:os(k.maxLength),pattern:os(k.pattern)}:{},name:y,onChange:we,onBlur:we,ref:z=>{if(z){ar(y,k),E=q(n,y);const _=ke(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,O=Cw(_),B=E._f.refs||[];if(O?B.find(X=>X===_):_===E._f.ref)return;fe(n,y,{_f:{...E._f,...O?{refs:[...B.filter(El),_,...Array.isArray(q(s,y))?[{}]:[]],ref:{type:_.type,name:y}}:{ref:_}}}),j(y,!1,void 0,_)}else E=q(n,y,{}),E._f&&(E._f.mount=!1),(t.shouldUnregister||k.shouldUnregister)&&!(bw(o.array,y)&&a.action)&&o.unMount.add(y)}}},qt=()=>t.shouldFocusError&&Es(n,D,o.mount),an=y=>{It(y)&&(h.state.next({disabled:y}),Es(n,(k,E)=>{const F=q(n,E);F&&(k.disabled=F._f.disabled||y,Array.isArray(F._f.refs)&&F._f.refs.forEach(z=>{z.disabled=F._f.disabled||y}))},0,!1))},$=(y,k)=>async E=>{let F;E&&(E.preventDefault&&E.preventDefault(),E.persist&&E.persist());let z=Pe(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:_,values:O}=await P();r.errors=_,z=Pe(O)}else await A(n);if(o.disabled.size)for(const _ of o.disabled)je(z,_);if(je(r.errors,"root"),Xe(r.errors)){h.state.next({errors:{}});try{await y(z,E)}catch(_){F=_}}else k&&await k({...r.errors},E),qt(),setTimeout(qt);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xe(r.errors)&&!F,submitCount:r.submitCount+1,errors:r.errors}),F)throw F},Y=(y,k={})=>{q(n,y)&&(ke(k.defaultValue)?se(y,Pe(q(s,y))):(se(y,k.defaultValue),fe(s,y,Pe(k.defaultValue))),k.keepTouched||je(r.touchedFields,y),k.keepDirty||(je(r.dirtyFields,y),r.isDirty=k.defaultValue?C(y,Pe(q(s,y))):C()),k.keepError||(je(r.errors,y),c.isValid&&w()),h.state.next({...r}))},Ce=(y,k={})=>{const E=y?Pe(y):s,F=Pe(E),z=Xe(y),_=z?s:F;if(k.keepDefaultValues||(s=E),!k.keepValues){if(k.keepDirtyValues){const O=new Set([...o.mount,...Object.keys(ls(s,i))]);for(const B of Array.from(O))q(r.dirtyFields,B)?fe(_,B,q(i,B)):se(B,q(_,B))}else{if(Mu&&ke(y))for(const O of o.mount){const B=q(n,O);if(B&&B._f){const X=Array.isArray(B._f.refs)?B._f.refs[0]:B._f.ref;if(pa(X)){const ne=X.closest("form");if(ne){ne.reset();break}}}}if(k.keepFieldsRef)for(const O of o.mount)se(O,q(_,O));else n={}}i=t.shouldUnregister?k.keepDefaultValues?Pe(s):{}:Pe(_),h.array.next({values:{..._}}),h.state.next({values:{..._}})}o={mount:k.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!k.keepIsValid||!!k.keepDirtyValues,a.watch=!!t.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:z?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!gr(y,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:z?{}:k.keepDirtyValues?k.keepDefaultValues&&i?ls(s,i):r.dirtyFields:k.keepDefaultValues&&y?ls(s,y):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},me=(y,k)=>Ce(Tt(y)?y(i):y,k),De=(y,k={})=>{const E=q(n,y),F=E&&E._f;if(F){const z=F.refs?F.refs[0]:F.ref;z.focus&&(z.focus(),k.shouldSelect&&Tt(z.select)&&z.select())}},it=y=>{r={...r,...y}},Qe={control:{register:ar,unregister:Ue,getFieldState:te,handleSubmit:$,setError:mt,_subscribe:At,_runSchema:P,_focusError:qt,_getWatch:U,_getDirty:C,_setValid:w,_setFieldArray:p,_setDisabledField:Dr,_setErrors:g,_getFieldArray:H,_reset:Ce,_resetDefaultValues:()=>Tt(t.defaultValues)&&t.defaultValues().then(y=>{me(y,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:an,_subjects:h,_proxyFormState:c,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(y){a=y},get _defaultValues(){return s},get _names(){return o},set _names(y){o=y},get _formState(){return r},get _options(){return t},set _options(y){t={...t,...y}}},subscribe:Ke,trigger:W,register:ar,handleSubmit:$,watch:Ve,setValue:se,getValues:G,reset:me,resetField:Y,clearErrors:le,unregister:Ue,setError:mt,setFocus:De,getFieldState:te};return{...Qe,formControl:Qe}}function Mw(e={}){const t=pt.useRef(void 0),r=pt.useRef(void 0),[n,s]=pt.useState({isDirty:!1,isValidating:!1,isLoading:Tt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Tt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Tt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=Fw(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,Nw(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),pt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),pt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),pt.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),pt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),pt.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),pt.useEffect(()=>{e.values&&!gr(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),pt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=kw(n,i),t.current}function Vw(){var Qe,y,k,E,F,z;const[e,t]=x.useState(null),[r,n]=x.useState(!0),[s,i]=x.useState([]),[a,o]=x.useState(""),[u,d]=x.useState(!1),[c,f]=x.useState(!1),[h,v]=x.useState(!1);x.useState(!1);const[b,w]=x.useState([]),[N,p]=x.useState([]),[m,g]=x.useState(0),[j,S]=x.useState(!1),[I,P]=x.useState(!1),[T,A]=x.useState(""),[R,C]=x.useState(-1),[U,H]=x.useState([]),[Q,ae]=x.useState([]),se=x.useRef(null),we=x.useRef(null),D=ir(),[W,G]=x.useState(!1),[te,le]=x.useState("photo"),[mt,Ve]=x.useState([{id:"1",author:e||{id:"",name:"User",lastName:"",avatar:""},content:"Мій перший пост! Гарного дня всім!",images:["https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80"],created_at:"2024-07-20T10:00:00Z",likes:5,comments:2},{id:"2",author:e||{id:"",name:"User",lastName:"",avatar:""},content:"Відпочинок на природі!",images:["https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80","https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?auto=format&fit=crop&w=400&q=80"],created_at:"2024-07-18T15:30:00Z",likes:8,comments:3}]);x.useEffect(()=>{async function _(){try{n(!0),o("");const O=await Ft.getCurrentUserProfile();if(!O){D("/login");return}t(O);const B=await Ft.getUserMedia();i(B);const X=await Ft.getUserFriends();H(X),ae([{id:1,name:"Frontend Devs",avatar:"",members:12},{id:2,name:"React Ukraine",avatar:"",members:8}])}catch(O){console.error("Error loading profile:",O),o("Помилка завантаження профілю")}finally{n(!1)}}_()},[D]);const At=_=>{_.preventDefault(),f(!0)},Ke=_=>{_.preventDefault(),f(!1)},Ue=_=>{_.preventDefault(),f(!1);const B=Array.from(_.dataTransfer.files).filter(X=>X.type.startsWith("image/")).slice(0,10);B.length===1?qt(B[0]):B.length>1&&ar(B)},Dr=_=>{var B;const O=(B=_.target.files)==null?void 0:B[0];O&&O.type.startsWith("image/")&&qt(O)},ar=_=>{w(_);const O=_.map(B=>URL.createObjectURL(B));p(O),g(0),S(!0)},qt=async _=>{v(!0);try{const O=new FileReader;O.onload=async B=>{var ne;const X=(ne=B.target)==null?void 0:ne.result;A(X),C(-1),P(!0),d(!1)},O.readAsDataURL(_)}catch(O){console.error("Error uploading file:",O)}finally{v(!1)}},an=async _=>{if(R===-1)await Ft.updateUserProfile({avatar:_})&&e&&t({...e,avatar:_});else{const O=[...N];O[R]=_,p(O)}P(!1),A(""),C(-1)},$=_=>{const O=b.filter((X,ne)=>ne!==_),B=N.filter((X,ne)=>ne!==_);URL.revokeObjectURL(N[_]),w(O),p(B),m>=B.length&&B.length>0&&g(B.length-1),O.length===0&&S(!1)},Y=()=>{g(_=>(_+1)%N.length)},Ce=()=>{g(_=>(_-1+N.length)%N.length)},me=async()=>{if(b.length!==0){v(!0);try{console.log("Creating post with",b.length,"images"),N.forEach(_=>URL.revokeObjectURL(_)),w([]),p([]),S(!1),g(0)}catch(_){console.error("Error creating post:",_)}finally{v(!1)}}},De=_=>_?new Date(_).toLocaleDateString("uk-UA",{day:"numeric",month:"long",year:"numeric"}):"Не вказано";function it({open:_,onClose:O,user:B,onSave:X}){const{register:ne,handleSubmit:ln,formState:{errors:Ht},reset:si}=Mw({defaultValues:B});return x.useEffect(()=>{si(B)},[B,si]),_?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("form",{onSubmit:ln(X),className:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 p-8",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Редагувати профіль"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsx("input",{...ne("name",{required:!0}),placeholder:"Ім'я",className:"border rounded p-2"}),l.jsx("input",{...ne("lastName",{required:!0}),placeholder:"Прізвище",className:"border rounded p-2"}),l.jsx("input",{...ne("city"),placeholder:"Місто",className:"border rounded p-2"}),l.jsx("input",{...ne("familyStatus"),placeholder:"Сімейний стан",className:"border rounded p-2"}),l.jsx("input",{...ne("status"),placeholder:"Статус",className:"border rounded p-2"}),l.jsx("input",{...ne("phone"),placeholder:"Телефон",className:"border rounded p-2"}),l.jsx("input",{...ne("website"),placeholder:"Веб-сайт",className:"border rounded p-2"}),l.jsx("input",{...ne("birthDate"),type:"date",placeholder:"День народження",className:"border rounded p-2"})]}),l.jsxs("div",{className:"flex justify-end mt-6 space-x-2",children:[l.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Скасувати"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Зберегти"})]})]})}):null}const at=async _=>{t({...e,..._}),G(!1)};return r?l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(tt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Завантаження профілю..."})]})})]}):a?l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(tt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Спробувати знову"})]})})]}):!e&&!r?(D("/login"),null):e?l.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[l.jsx(tt,{}),l.jsx("div",{className:"flex-1 ml-64",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"relative h-60 bg-gradient-to-r from-blue-400 to-blue-600 rounded-b-2xl shadow-md",children:[l.jsx("img",{src:e.cover||"https://vk.com/images/cover_default.jpg",alt:"Cover",className:"w-full h-60 object-cover rounded-b-2xl",style:{objectPosition:"center"}}),l.jsxs("div",{className:"absolute left-8 -bottom-16 flex items-center space-x-8",children:[l.jsx("div",{className:"w-40 h-40 rounded-full border-4 border-white bg-gray-200 overflow-hidden shadow-lg",children:e.avatar?l.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:l.jsx("span",{className:"text-5xl text-white font-bold",children:((y=(Qe=e.name)==null?void 0:Qe[0])==null?void 0:y.toUpperCase())||"?"})})}),l.jsxs("div",{className:"flex flex-col justify-center",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 whitespace-nowrap",children:[e.name," ",e.lastName]}),l.jsx("div",{className:"text-gray-600 mt-1",children:e.status||"Вітаю у моєму профілі!"}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-2 space-x-4",children:[e.city&&l.jsxs("span",{children:[l.jsx(Vy,{size:14,className:"inline mr-1"}),e.city]}),e.birthDate&&l.jsxs("span",{children:[l.jsx(dm,{size:14,className:"inline mr-1"}),De(e.birthDate)]}),e.phone&&l.jsxs("span",{children:[l.jsx(Wy,{size:14,className:"inline mr-1"}),e.phone]}),e.website&&l.jsxs("span",{children:[l.jsx(Lu,{size:14,className:"inline mr-1"}),e.website]})]}),l.jsxs("div",{className:"flex space-x-3 mt-4",children:[l.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Написати"}),l.jsx("button",{className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300",children:"Додати у друзі"}),l.jsxs("button",{onClick:()=>G(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center",children:[l.jsx(dd,{size:16,className:"mr-2"}),"Редагувати"]})]})]})]})]}),l.jsx("div",{className:"px-8 pt-28",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 mb-8 w-full max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Особиста інформація"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-gray-700 text-lg",children:[l.jsxs("div",{children:[l.jsx("b",{children:"Місто:"})," ",e.city||"Не вказано"]}),l.jsxs("div",{children:[l.jsx("b",{children:"День народження:"})," ",De(e.birthDate)]}),l.jsxs("div",{children:[l.jsx("b",{children:"Мова:"})," Українська"]}),l.jsxs("div",{children:[l.jsx("b",{children:"Сімейний стан:"})," ",e.familyStatus||"Не вказано"]}),l.jsxs("div",{children:[l.jsx("b",{children:"Телефон:"})," ",e.phone||"Не вказано"]}),l.jsxs("div",{children:[l.jsx("b",{children:"Веб-сайт:"})," ",e.website||"Не вказано"]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2 px-8",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 col-span-1",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Друзі (",U.length,")"]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:U.length===0?l.jsx("span",{className:"text-gray-500",children:"Немає друзів"}):U.slice(0,6).map(_=>{var O,B;return l.jsxs("button",{className:"flex flex-col items-center w-16 group",onClick:()=>D(`/profile/${_.id}`),children:[l.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 mb-1 group-hover:ring-2 group-hover:ring-blue-500 transition",children:_.avatar?l.jsx("img",{src:_.avatar,alt:_.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:l.jsx("span",{className:"text-white font-bold",children:((B=(O=_.name)==null?void 0:O[0])==null?void 0:B.toUpperCase())||"?"})})}),l.jsx("span",{className:"text-xs text-gray-700 text-center",children:_.name})]},_.id)})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 col-span-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Медіа"}),l.jsxs("div",{className:"mb-2 flex space-x-2",children:[l.jsx("button",{onClick:()=>le("photo"),className:`px-3 py-1 rounded ${te==="photo"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:"Фото"}),l.jsx("button",{onClick:()=>le("video"),className:`px-3 py-1 rounded ${te==="video"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:"Відео"}),l.jsx("button",{onClick:()=>le("album"),className:`px-3 py-1 rounded ${te==="album"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:"Альбоми"})]}),te==="photo"&&l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.filter(_=>_.type==="photo").slice(0,6).map(_=>l.jsx("img",{src:_.url,alt:"Фото",className:"w-full h-16 object-cover rounded"},_.id)),s.filter(_=>_.type==="photo").length===0&&l.jsx("span",{className:"text-gray-500 col-span-3",children:"Немає фото"})]}),te==="video"&&l.jsx("div",{className:"text-gray-500",children:"Немає відео"}),te==="album"&&l.jsx("div",{className:"text-gray-500",children:"Немає альбомів"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mt-8 mx-8",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Групи (",Q.length,")"]}),l.jsx("div",{className:"flex flex-wrap gap-4",children:Q.length===0?l.jsx("span",{className:"text-gray-500",children:"Немає груп"}):Q.map(_=>{var O,B;return l.jsxs("button",{className:"flex flex-col items-center w-20 group",onClick:()=>D(`/group/${_.id}`),children:[l.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 mb-1 group-hover:ring-2 group-hover:ring-green-500 transition",children:_.avatar?l.jsx("img",{src:_.avatar,alt:_.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-green-400 to-blue-600",children:l.jsx("span",{className:"text-white font-bold",children:((B=(O=_.name)==null?void 0:O[0])==null?void 0:B.toUpperCase())||"?"})})}),l.jsx("span",{className:"text-xs text-gray-700 text-center",children:_.name}),l.jsxs("span",{className:"text-[10px] text-gray-500",children:[_.members," учасників"]})]},_.id)})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mt-8 mx-8",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Стіна"}),l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200",children:e.avatar?l.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:l.jsx("span",{className:"text-white font-bold",children:((E=(k=e.name)==null?void 0:k[0])==null?void 0:E.toUpperCase())||"?"})})}),l.jsx("input",{type:"text",placeholder:"Що у вас нового?",className:"flex-1 px-4 py-2 bg-gray-50 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Опублікувати"})]}),mt.length===0?l.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(dd,{className:"text-gray-400",size:24})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"На стіні поки немає жодного запису"}),l.jsx("p",{className:"text-gray-600",children:"Ви можете додати перший запис на стіну"})]}):l.jsx("div",{className:"space-y-6",children:mt.map(_=>{var O,B;return l.jsxs("div",{className:"border-b pb-6 last:border-b-0",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-200 mr-2",children:_.author.avatar?l.jsx("img",{src:_.author.avatar,alt:_.author.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:l.jsx("span",{className:"text-white font-bold text-sm",children:((B=(O=_.author.name)==null?void 0:O[0])==null?void 0:B.toUpperCase())||"?"})})}),l.jsxs("span",{className:"font-semibold text-gray-900 mr-2",children:[_.author.name," ",_.author.lastName]}),l.jsx("span",{className:"text-xs text-gray-500",children:De(_.created_at)})]}),l.jsx("div",{className:"mb-2 text-gray-800",children:_.content}),_.images.length>0&&l.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:_.images.map((X,ne)=>l.jsx("img",{src:X,alt:"post",className:"w-full h-40 object-cover rounded"},ne))}),l.jsxs("div",{className:"flex space-x-4 text-gray-500 text-sm",children:[l.jsxs("span",{children:["👍 ",_.likes]}),l.jsxs("span",{children:["💬 ",_.comments]})]})]},_.id)})})]})]})}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Завантажити фото"}),l.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Qr,{size:24})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${c?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:At,onDragLeave:Ke,onDrop:Ue,children:[l.jsx($u,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),l.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Перетягніть фото сюди"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"або натисніть для вибору файлу"}),l.jsx("button",{onClick:()=>{var _;return(_=se.current)==null?void 0:_.click()},disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:h?"Завантаження...":"Вибрати файл"}),l.jsx("input",{ref:se,type:"file",accept:"image/*",onChange:Dr,className:"hidden"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"Підтримуються формати: JPG, PNG, GIF. Максимальний розмір: 10MB"})]})]})}),j&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Створити новий пост"}),l.jsx("button",{onClick:()=>{N.forEach(_=>URL.revokeObjectURL(_)),w([]),p([]),S(!1),g(0)},className:"text-gray-400 hover:text-gray-600",children:l.jsx(Qr,{size:24})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-1 bg-black relative",children:N.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("img",{src:N[m],alt:`Preview ${m+1}`,className:"w-full h-96 object-contain"}),N.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:Ce,className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-75",children:l.jsx(Ay,{size:20})}),l.jsx("button",{onClick:Y,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-75",children:l.jsx($y,{size:20})})]}),N.length>1&&l.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white px-2 py-1 rounded-full text-sm",children:[m+1," / ",N.length]})]})}),l.jsxs("div",{className:"w-80 border-l border-gray-200",children:[l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-200 mr-3",children:e.avatar?l.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:l.jsx("span",{className:"text-white font-bold text-sm",children:((z=(F=e.name)==null?void 0:F[0])==null?void 0:z.toUpperCase())||"?"})})}),l.jsxs("span",{className:"font-semibold text-gray-900",children:[e.name," ",e.lastName]})]}),l.jsx("textarea",{placeholder:"Додайте підпис...",className:"w-full h-32 p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:500}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Фото (",b.length,")"]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:N.map((_,O)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:_,alt:`Thumbnail ${O+1}`,className:`w-full h-16 object-cover rounded cursor-pointer ${O===m?"ring-2 ring-blue-500":""}`,onClick:()=>g(O)}),l.jsx("button",{onClick:()=>{A(_),C(O),P(!0)},className:"absolute top-1 left-1 w-5 h-5 bg-blue-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Hy,{size:12})}),l.jsx("button",{onClick:()=>$(O),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Qr,{size:12})})]},O))})]}),l.jsx("button",{onClick:()=>{var _;return(_=we.current)==null?void 0:_.click()},className:"w-full mt-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 transition-colors",children:"+ Додати ще фото"})]}),l.jsx("div",{className:"border-t border-gray-200 p-4",children:l.jsx("button",{onClick:me,disabled:h||b.length===0,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Публікація...":"Поділитися"})})]})]})]})}),I&&l.jsx(vw,{imageUrl:T,onApplyFilter:an,onClose:()=>{P(!1),A(""),C(-1)}}),l.jsx(it,{open:W,onClose:()=>G(!1),user:e,onSave:at})]}):l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(tt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-600",children:"Профіль не знайдено"}),l.jsx("button",{onClick:()=>D("/login"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Увійти"})]})})]})}function Bw(){return new URLSearchParams(Qn().search)}function qw(){var I,P,T;const[e,t]=x.useState([]),[r,n]=x.useState(null),[s,i]=x.useState([]),[a,o]=x.useState(null),[u,d]=x.useState(""),[c,f]=x.useState(!0),[h,v]=x.useState(!1),b=x.useRef(null),w=Bw();x.useEffect(()=>{b.current&&b.current.scrollIntoView({behavior:"smooth"})},[s]),x.useEffect(()=>{N()},[]),x.useEffect(()=>{a&&p()},[a]),x.useEffect(()=>{const A=w.get("user");A&&a&&m(A)},[a]);async function N(){const A=await Ft.getCurrentUserProfile();o(A)}async function p(){f(!0);const{data:A,error:R}=await V.from("conversations").select(`
        *,
        participant1:users!conversations_participant1_id_fkey (id, name, lastName, avatar),
        participant2:users!conversations_participant2_id_fkey (id, name, lastName, avatar)
      `).or(`participant1_id.eq.${a.id},participant2_id.eq.${a.id}`).order("updated_at",{ascending:!1});if(R){t([]),f(!1);return}const C=(A||[]).map(U=>{const H=U.participant1_id===a.id?U.participant2:U.participant1;return{id:U.id,participant:H,updated_at:U.updated_at}});t(C),f(!1)}async function m(A){let R=e.find(C=>C.participant&&C.participant.id===A);if(!R){const{data:C,error:U}=await V.from("conversations").insert([{participant1_id:a.id,participant2_id:A}]).select(`
          *,
          participant1:users!conversations_participant1_id_fkey (id, name, lastName, avatar),
          participant2:users!conversations_participant2_id_fkey (id, name, lastName, avatar)
        `).single();if(U)return;const H=C.participant1_id===a.id?C.participant2:C.participant1;R={id:C.id,participant:H,updated_at:C.updated_at},t(Q=>[R,...Q])}n(R),g(R.id)}async function g(A){const{data:R,error:C}=await V.from("messages").select("*").eq("conversation_id",A).order("created_at",{ascending:!0});if(C){i([]);return}i(R||[])}async function j(A){n(A),g(A.id)}async function S(A){if(A.preventDefault(),!u.trim()||!r)return;v(!0);const{error:R}=await V.from("messages").insert([{conversation_id:r.id,sender_id:a.id,content:u.trim()}]);v(!1),d(""),R||g(r.id)}return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(tt,{}),l.jsxs("div",{className:"flex-1 ml-64 flex",children:[l.jsxs("div",{className:"w-80 border-r border-gray-200 bg-white flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-gray-100",children:l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Діалоги"})}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:c?l.jsx("div",{className:"p-4 text-gray-500",children:"Завантаження..."}):e.length===0?l.jsx("div",{className:"p-4 text-gray-500",children:"Немає діалогів"}):e.map(A=>{var R,C,U;return l.jsxs("div",{className:`flex items-center px-4 py-3 cursor-pointer hover:bg-gray-50 ${r&&r.id===A.id?"bg-gray-100":""}`,onClick:()=>j(A),children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 overflow-hidden flex items-center justify-center",children:(R=A.participant)!=null&&R.avatar?l.jsx("img",{src:A.participant.avatar,alt:A.participant.name,className:"w-full h-full object-cover"}):l.jsx(ko,{className:"w-8 h-8 text-gray-400"})}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsxs("div",{className:"font-semibold text-gray-900",children:[(C=A.participant)==null?void 0:C.name," ",(U=A.participant)==null?void 0:U.lastName]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Останнє оновлення: ",new Date(A.updated_at).toLocaleString("uk-UA")]})]})]},A.id)})})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center border-b border-gray-200 px-6 py-4 bg-white",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 overflow-hidden flex items-center justify-center",children:(I=r.participant)!=null&&I.avatar?l.jsx("img",{src:r.participant.avatar,alt:r.participant.name,className:"w-full h-full object-cover"}):l.jsx(ko,{className:"w-7 h-7 text-gray-400"})}),l.jsx("div",{className:"ml-4",children:l.jsxs("div",{className:"font-semibold text-gray-900",children:[(P=r.participant)==null?void 0:P.name," ",(T=r.participant)==null?void 0:T.lastName]})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 bg-gray-50",children:s.length===0?l.jsx("div",{className:"text-gray-500 text-center mt-8",children:"Немає повідомлень"}):l.jsxs("div",{className:"space-y-4",children:[s.map(A=>l.jsx("div",{className:`flex ${A.sender_id===a.id?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg shadow-sm ${A.sender_id===a.id?"bg-blue-600 text-white":"bg-white text-gray-900 border"}`,children:[A.content,l.jsx("div",{className:"text-xs text-gray-300 mt-1 text-right",children:new Date(A.created_at).toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})})]})},A.id)),l.jsx("div",{ref:b})]})}),l.jsxs("form",{onSubmit:S,className:"flex items-center px-6 py-4 border-t border-gray-200 bg-white",children:[l.jsx("input",{type:"text",value:u,onChange:A=>d(A.target.value),placeholder:"Введіть повідомлення...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h}),l.jsx("button",{type:"submit",disabled:h||!u.trim(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50",children:l.jsx(pm,{className:"w-5 h-5"})})]})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400 text-xl",children:"Виберіть діалог для перегляду повідомлень"})})]})]})}function Hw(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,i]=x.useState(""),[a,o]=x.useState(!0);x.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:{user:f}}=await V.auth.getUser();if(!f)return;const{data:h,error:v}=await V.from("friends").select(`
          friend_id,
          friend:users!friend_id (
            id,
            name,
            lastName,
            avatar
          )
        `).eq("user_id",f.id);if(v)throw v;t((h==null?void 0:h.map(b=>b.friend))||[])}catch(f){console.error("Error fetching friends:",f)}finally{o(!1)}},d=async f=>{if(i(f),f.length<2){n([]);return}try{const{data:h,error:v}=await V.from("users").select("id, name, lastName, avatar").or(`name.ilike.%${f}%, lastName.ilike.%${f}%`).limit(10);if(v)throw v;n(h||[])}catch(h){console.error("Error searching users:",h)}},c=async f=>{try{const{data:{user:h}}=await V.auth.getUser();if(!h)return;const{error:v}=await V.from("friends").insert([{user_id:h.id,friend_id:f}]);if(v)throw v;await u()}catch(h){console.error("Error adding friend:",h)}};return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(tt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Пошук друзів"}),l.jsxs("div",{className:"relative",children:[l.jsx(Au,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:"Пошук за ім'ям або прізвищем",value:s,onChange:f=>d(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.length>0&&l.jsx("div",{className:"mt-4 bg-white rounded-lg shadow-sm",children:r.map(f=>l.jsxs("div",{className:"flex items-center justify-between p-4 border-b last:border-b-0",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:f.avatar?l.jsx("img",{src:f.avatar,alt:f.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-lg text-gray-600",children:f.name[0]})}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"font-medium text-gray-900",children:[f.name," ",f.lastName]})})]}),l.jsxs("button",{onClick:()=>c(f.id),className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Co,{size:18,className:"mr-1"}),"Додати"]})]},f.id))})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Мої друзі"}),a?l.jsx("div",{className:"text-center py-8",children:"Завантаження..."}):e.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(f=>l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:f.avatar?l.jsx("img",{src:f.avatar,alt:f.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-xl text-gray-600",children:f.name[0]})}),l.jsxs("div",{className:"ml-4",children:[l.jsxs("p",{className:"font-medium text-gray-900",children:[f.name," ",f.lastName]}),l.jsxs("button",{className:"flex items-center text-sm text-blue-600 hover:text-blue-700 mt-1",children:[l.jsx(Qy,{size:16,className:"mr-1"}),"Друзі"]})]})]},f.id))}):l.jsx("div",{className:"text-center py-8 text-gray-600",children:"У вас поки немає друзів"})]})]})})]})}function Ww(){const[e,t]=x.useState("profile"),[r,n]=x.useState(!0),s=ir(),[i,a]=x.useState({name:"",lastName:"",email:"",bio:"",city:"",birthDate:"",notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1},familyStatus:"",status:"",phone:"",website:""});x.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:c},error:f}=await V.auth.getUser();if(f||!c){s("/login");return}const{data:h,error:v}=await V.from("users").select("*").eq("auth_user_id",c.id).single();if(v){console.error("Error fetching user settings:",v);return}a({...i,...h,notifications:h.notifications||i.notifications,privacy:h.privacy||i.privacy})}catch(c){console.error("Error loading user settings:",c)}finally{n(!1)}},u=async c=>{c.preventDefault();try{const{data:{user:f},error:h}=await V.auth.getUser();if(h||!f){s("/login");return}const{error:v}=await V.from("users").update({name:i.name,lastName:i.lastName,bio:i.bio,city:i.city,birthDate:i.birthDate,notifications:i.notifications,privacy:i.privacy,familyStatus:i.familyStatus,status:i.status,phone:i.phone,website:i.website}).eq("auth_user_id",f.id);if(v)throw v;alert("Налаштування збережено успішно")}catch(f){console.error("Error saving settings:",f),alert("Помилка при збереженні налаштувань")}},d=[{id:"profile",label:"Профіль",icon:ha},{id:"privacy",label:"Приватність",icon:Vn},{id:"notifications",label:"Сповіщення",icon:Oy}];return r?l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(tt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsx("div",{className:"text-center",children:"Завантаження..."})})]}):l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(tt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Налаштування"}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[l.jsx("div",{className:"flex border-b border-gray-200",children:d.map(({id:c,label:f,icon:h})=>l.jsxs("button",{onClick:()=>t(c),className:`flex items-center px-6 py-3 text-sm font-medium ${e===c?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[l.jsx(h,{size:18,className:"mr-2"}),f]},c))}),l.jsxs("div",{className:"p-6",children:[e==="profile"&&l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ім'я"}),l.jsx("input",{type:"text",value:i.name,onChange:c=>a({...i,name:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Прізвище"}),l.jsx("input",{type:"text",value:i.lastName,onChange:c=>a({...i,lastName:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Місто"}),l.jsx("input",{type:"text",value:i.city||"",onChange:c=>a({...i,city:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Сімейний стан"}),l.jsx("input",{type:"text",value:i.familyStatus||"",onChange:c=>a({...i,familyStatus:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Статус"}),l.jsx("input",{type:"text",value:i.status||"",onChange:c=>a({...i,status:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Телефон"}),l.jsx("input",{type:"text",value:i.phone||"",onChange:c=>a({...i,phone:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Веб-сайт"}),l.jsx("input",{type:"text",value:i.website||"",onChange:c=>a({...i,website:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Дата народження"}),l.jsx("input",{type:"date",value:i.birthDate||"",onChange:c=>a({...i,birthDate:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Про мене"}),l.jsx("textarea",{value:i.bio,onChange:c=>a({...i,bio:c.target.value}),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Зберегти зміни"})})]}),e==="privacy"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Налаштування приватності"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Видимість профілю"}),l.jsxs("select",{value:i.privacy.profileVisibility,onChange:c=>a({...i,privacy:{...i.privacy,profileVisibility:c.target.value}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"public",children:"Публічний"}),l.jsx("option",{value:"friends",children:"Тільки друзі"}),l.jsx("option",{value:"private",children:"Приватний"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Показувати дату народження"}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.privacy.showBirthDate,onChange:c=>a({...i,privacy:{...i.privacy,showBirthDate:c.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Показувати email"}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.privacy.showEmail,onChange:c=>a({...i,privacy:{...i.privacy,showEmail:c.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),e==="notifications"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Налаштування сповіщень"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Email сповіщення"}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.notifications.email,onChange:c=>a({...i,notifications:{...i.notifications,email:c.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Сповіщення про повідомлення"}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.notifications.messages,onChange:c=>a({...i,notifications:{...i.notifications,messages:c.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Сповіщення про запити в друзі"}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.notifications.friendRequests,onChange:c=>a({...i,notifications:{...i.notifications,friendRequests:c.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})})]})]})]})})]})}function Gw(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,i]=x.useState(""),[a,o]=x.useState("public"),[u,d]=x.useState(!0),[c,f]=x.useState(null),[h,v]=x.useState(!1),[b,w]=x.useState(!1),N=ir(),[p,m]=x.useState({name:"",description:"",isPrivate:!1,avatar:null});x.useEffect(()=>{g()},[]),x.useEffect(()=>{c&&(j(),S())},[c]);const g=async()=>{try{const{data:{user:C},error:U}=await V.auth.getUser();if(U||!C){N("/login");return}const{data:H,error:Q}=await V.from("user_profiles").select("*").eq("auth_user_id",C.id).single();if(Q){console.error("Error fetching user profile:",Q);return}f(H)}catch(C){console.error("Error fetching current user:",C)}},j=async()=>{try{d(!0);const{data:C,error:U}=await V.from("groups").select(`
          *,
          created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
        `).eq("is_private",!1).order("created_at",{ascending:!1});if(U)throw U;t(C||[])}catch(C){console.error("Error fetching groups:",C)}finally{d(!1)}},S=async()=>{try{if(!c)return;const{data:C,error:U}=await V.from("group_members").select(`
          *,
          group:groups(
            *,
            created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
          )
        `).eq("user_id",c.id);if(U)throw U;n((C==null?void 0:C.map(H=>H.group))||[])}catch(C){console.error("Error fetching my groups:",C)}},I=async C=>{if(C.preventDefault(),!!c)try{w(!0);let U=null;if(p.avatar){const se=p.avatar.name.split(".").pop(),D=`group-avatars/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${se}`}`,{error:W}=await V.storage.from("avatars").upload(D,p.avatar);if(W)throw W;const{data:{publicUrl:G}}=V.storage.from("avatars").getPublicUrl(D);U=G}const{data:H,error:Q}=await V.from("groups").insert([{name:p.name,description:p.description,is_private:p.isPrivate,avatar:U,created_by:c.id}]).select().single();if(Q)throw Q;const{error:ae}=await V.from("group_members").insert([{group_id:H.id,user_id:c.id,role:"admin"}]);if(ae)throw ae;v(!1),m({name:"",description:"",isPrivate:!1,avatar:null}),j(),S(),alert("Групу успішно створено!")}catch(U){console.error("Error creating group:",U),alert("Помилка при створенні групи")}finally{w(!1)}},P=async C=>{try{if(!c)return;const{error:U}=await V.from("group_members").insert([{group_id:C,user_id:c.id,role:"member"}]);if(U)throw U;j(),S(),alert("Ви успішно приєдналися до групи!")}catch(U){console.error("Error joining group:",U),alert("Помилка при приєднанні до групи")}},T=C=>r.some(U=>U.id===C),A=(a==="public"?e:r).filter(C=>C.name.toLowerCase().includes(s.toLowerCase())||C.description&&C.description.toLowerCase().includes(s.toLowerCase())),R=C=>new Date(C).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric"});return u&&!c?l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(tt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsx("div",{className:"text-center",children:"Завантаження..."})})]}):l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(tt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Групи"}),l.jsxs("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(So,{size:20,className:"mr-2"}),"Створити групу"]})]}),l.jsx("p",{className:"text-gray-600",children:"Знайдіть спільноти за інтересами або створіть власну"})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(Au,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:"Пошук груп...",value:s,onChange:C=>i(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[l.jsx("button",{onClick:()=>o("public"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${a==="public"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Відкриті групи"}),l.jsxs("button",{onClick:()=>o("my"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${a==="my"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Мої групи (",r.length,")"]})]})}),A.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(C=>{var U,H,Q;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-200",children:[l.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-500 to-purple-600 relative",children:[C.avatar&&l.jsx("img",{src:C.avatar,alt:C.name,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute top-3 right-3",children:C.is_private?l.jsx(Vn,{size:16,className:"text-white bg-black bg-opacity-50 p-1 rounded"}):l.jsx(Lu,{size:16,className:"text-white bg-black bg-opacity-50 p-1 rounded"})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:C.name}),C.description&&l.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-2",children:C.description}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Bn,{size:14,className:"mr-1"}),C.member_count||1," учасників"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(dm,{size:14,className:"mr-1"}),R(C.created_at)]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(U=C.created_by_profile)!=null&&U.avatar?l.jsx("img",{src:C.created_by_profile.avatar,alt:"Creator",className:"w-full h-full rounded-full object-cover"}):l.jsx(ha,{size:16,className:"text-gray-400"})}),l.jsx("div",{className:"ml-2",children:l.jsxs("p",{className:"text-xs text-gray-600",children:[(H=C.created_by_profile)==null?void 0:H.name," ",(Q=C.created_by_profile)==null?void 0:Q.last_name]})})]}),a==="public"&&!T(C.id)?l.jsx("button",{onClick:()=>P(C.id),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Приєднатися"}):l.jsx("button",{onClick:()=>N(`/groups/${C.id}`),className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 transition-colors",children:"Переглянути"})]})]})]},C.id)})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Bn,{size:32,className:"text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a==="public"?"Груп не знайдено":"Ви ще не приєдналися до жодної групи"}),l.jsx("p",{className:"text-gray-600",children:a==="public"?"Спробуйте змінити критерії пошуку":"Приєднайтеся до відкритих груп або створіть власну"})]})]})}),h&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Створити групу"}),l.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Qr,{size:24})})]}),l.jsxs("form",{onSubmit:I,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Назва групи *"}),l.jsx("input",{type:"text",value:p.name,onChange:C=>m({...p,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введіть назву групи",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Опис"}),l.jsx("textarea",{value:p.description,onChange:C=>m({...p,description:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Розкажіть про вашу групу",rows:3})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Аватар групи"}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("label",{className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx(fm,{size:18,className:"mr-2 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600",children:p.avatar?p.avatar.name:"Вибрати файл"}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:C=>m({...p,avatar:C.target.files[0]})})]})})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"isPrivate",checked:p.isPrivate,onChange:C=>m({...p,isPrivate:C.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isPrivate",className:"ml-2 block text-sm text-gray-700",children:"Приватна група (тільки за запрошенням)"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Скасувати"}),l.jsx("button",{type:"submit",disabled:b||!p.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Створення...":"Створити"})]})]})]})})]})}function Kw(){var Dr,ar,qt,an;const{groupId:e}=Z0(),t=ir(),[r,n]=x.useState(null),[s,i]=x.useState([]),[a,o]=x.useState([]),[u,d]=x.useState(null),[c,f]=x.useState(null),[h,v]=x.useState(!0),[b,w]=x.useState("posts"),[N,p]=x.useState(""),[m,g]=x.useState([]),[j,S]=x.useState(!1),[I,P]=x.useState(!1),[T,A]=x.useState(""),[R,C]=x.useState(null),[U,H]=x.useState(!1);x.useEffect(()=>{Q()},[]),x.useEffect(()=>{u&&e&&(ae(),se(),we(),D())},[u,e]);const Q=async()=>{try{const{data:{user:$},error:Y}=await V.auth.getUser();if(Y||!$){t("/login");return}const{data:Ce,error:me}=await V.from("user_profiles").select("*").eq("auth_user_id",$.id).single();if(me){console.error("Error fetching user profile:",me);return}d(Ce)}catch($){console.error("Error fetching current user:",$)}},ae=async()=>{try{const{data:$,error:Y}=await V.from("groups").select(`
          *,
          created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
        `).eq("id",e).single();if(Y)throw Y;n($)}catch($){console.error("Error fetching group details:",$),t("/groups")}finally{v(!1)}},se=async()=>{try{const{data:$,error:Y}=await V.from("group_posts").select(`
          *,
          author:user_profiles!group_posts_author_id_fkey(name, last_name, avatar),
          media:group_post_media(*)
        `).eq("group_id",e).order("created_at",{ascending:!1});if(Y)throw Y;i($||[])}catch($){console.error("Error fetching group posts:",$)}},we=async()=>{try{const{data:$,error:Y}=await V.from("group_members").select(`
          *,
          user:user_profiles!group_members_user_id_fkey(name, last_name, avatar)
        `).eq("group_id",e).order("joined_at",{ascending:!1});if(Y)throw Y;o($||[])}catch($){console.error("Error fetching group members:",$)}},D=async()=>{try{if(!u)return;const{data:$,error:Y}=await V.from("group_members").select("*").eq("group_id",e).eq("user_id",u.id).single();if(Y&&Y.code!=="PGRST116")throw Y;f($)}catch($){console.error("Error checking user membership:",$)}},W=async()=>{try{if(!u)return;const{error:$}=await V.from("group_members").insert([{group_id:e,user_id:u.id,role:"member"}]);if($)throw $;D(),we(),alert("Ви успішно приєдналися до групи!")}catch($){console.error("Error joining group:",$),alert("Помилка при приєднанні до групи")}},G=async()=>{try{if(!u||!c)return;if(c.role==="admin"){alert("Адміністратор не може покинути групу");return}const{error:$}=await V.from("group_members").delete().eq("group_id",e).eq("user_id",u.id);if($)throw $;f(null),we(),alert("Ви покинули групу")}catch($){console.error("Error leaving group:",$),alert("Помилка при виході з групи")}},te=$=>{const Y=Array.from($.target.files);g(Y)},le=$=>{g(Y=>Y.filter((Ce,me)=>me!==$))},mt=async $=>{if($.preventDefault(),!(!u||!c||!N.trim()&&m.length===0))try{S(!0);const{data:Y,error:Ce}=await V.from("group_posts").insert([{group_id:e,author_id:u.id,content:N.trim()}]).select().single();if(Ce)throw Ce;if(m.length>0)for(const me of m){const De=me.name.split(".").pop(),it=`${Date.now()}-${Math.random().toString(36).substring(7)}.${De}`,at=`group-posts/${e}/${it}`,Qe=me.type.startsWith("video/")?"video":"image",{error:y}=await V.storage.from("media").upload(at,me);if(y)throw y;const{data:{publicUrl:k}}=V.storage.from("media").getPublicUrl(at);await V.from("group_post_media").insert([{post_id:Y.id,type:Qe,url:k,filename:me.name,file_size:me.size}])}p(""),g([]),se()}catch(Y){console.error("Error creating post:",Y),alert("Помилка при створенні поста")}finally{S(!1)}},Ve=$=>new Date($).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),At=$=>{switch($){case"admin":return"Адміністратор";case"moderator":return"Модератор";default:return"Учасник"}};if(h)return l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(tt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsx("div",{className:"text-center",children:"Завантаження..."})})]});if(!r)return l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(tt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsx("div",{className:"text-center",children:"Група не знайдена"})})]});const Ke=!!c,Ue=(c==null?void 0:c.role)==="admin";return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(tt,{}),l.jsxs("div",{className:"flex-1 ml-64",children:[l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-8 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>t("/groups"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(Ty,{size:20})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mr-4",children:r.avatar?l.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full rounded-full object-cover"}):l.jsx(Bn,{size:24,className:"text-gray-400"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mr-2",children:r.name}),r.is_private?l.jsx(Vn,{size:16,className:"text-gray-500"}):l.jsx(Lu,{size:16,className:"text-gray-500"})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[l.jsxs("span",{children:[r.member_count||a.length," учасників"]}),l.jsx("span",{children:"•"}),l.jsxs("span",{children:["Створено ",Ve(r.created_at)]})]})]})]})]}),l.jsx("div",{className:"flex items-center space-x-3",children:Ke?l.jsxs(l.Fragment,{children:[!Ue&&l.jsxs("button",{onClick:G,className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[l.jsx(Jy,{size:18,className:"mr-2"}),"Покинути"]}),Ue&&l.jsxs("button",{className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[l.jsx(gm,{size:18,className:"mr-2"}),"Керувати"]})]}):l.jsxs("button",{onClick:W,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsx(Co,{size:18,className:"mr-2"}),"Приєднатися"]})})]}),r.description&&l.jsx("p",{className:"mt-4 text-gray-600",children:r.description})]})}),l.jsx("div",{className:"max-w-6xl mx-auto px-8 py-6",children:Ke?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[l.jsxs("button",{onClick:()=>w("posts"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${b==="posts"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Пости (",s.length,")"]}),l.jsxs("button",{onClick:()=>w("members"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${b==="members"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Учасники (",a.length,")"]}),l.jsx("button",{onClick:()=>w("info"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${b==="info"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Інформація"})]})}),b==="posts"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsx("form",{onSubmit:mt,children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:u!=null&&u.avatar?l.jsx("img",{src:u.avatar,alt:u.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-sm text-gray-600",children:(ar=(Dr=u==null?void 0:u.name)==null?void 0:Dr[0])==null?void 0:ar.toUpperCase()})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("textarea",{value:N,onChange:$=>p($.target.value),placeholder:"Поділіться чимось з групою...",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3}),m.length>0&&l.jsx("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-2",children:m.map(($,Y)=>l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:$.type.startsWith("image/")?l.jsx("img",{src:URL.createObjectURL($),alt:"",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Yy,{size:24,className:"text-gray-400"})})}),l.jsx("button",{type:"button",onClick:()=>le(Y),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:l.jsx(Qr,{size:12})})]},Y))}),l.jsxs("div",{className:"flex items-center justify-between mt-3",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("label",{className:"flex items-center px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg cursor-pointer",children:[l.jsx(fm,{size:18,className:"mr-1"}),l.jsx("span",{className:"text-sm",children:"Фото/Відео"}),l.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:te})]})}),l.jsxs("button",{type:"submit",disabled:j||!N.trim()&&m.length===0,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[j?l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):l.jsx(pm,{size:16,className:"mr-2"}),j?"Публікація...":"Опублікувати"]})]})]})]})})}),s.length>0?s.map($=>{var Y,Ce,me,De,it,at;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(Y=$.author)!=null&&Y.avatar?l.jsx("img",{src:$.author.avatar,alt:$.author.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-sm text-gray-600",children:(De=(me=(Ce=$.author)==null?void 0:Ce.name)==null?void 0:me[0])==null?void 0:De.toUpperCase()})}),l.jsxs("div",{className:"ml-3",children:[l.jsxs("p",{className:"font-medium text-gray-900",children:[(it=$.author)==null?void 0:it.name," ",(at=$.author)==null?void 0:at.last_name]}),l.jsx("p",{className:"text-sm text-gray-500",children:Ve($.created_at)})]})]}),l.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(cd,{size:16,className:"text-gray-400"})})]})}),$.content&&l.jsx("div",{className:"px-6 pb-4",children:l.jsx("p",{className:"text-gray-900",children:$.content})}),$.media&&$.media.length>0&&l.jsx("div",{className:"px-6 pb-4",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:$.media.map((Qe,y)=>l.jsx("div",{className:"rounded-lg overflow-hidden",children:Qe.type==="image"?l.jsx("img",{src:Qe.url,alt:"",className:"w-full h-64 object-cover"}):l.jsx("video",{src:Qe.url,className:"w-full h-64 object-cover",controls:!0})},y))})}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("button",{className:"flex items-center text-gray-600 hover:text-red-500",children:[l.jsx(zy,{size:18,className:"mr-1"}),l.jsx("span",{className:"text-sm",children:"Подобається"})]}),l.jsxs("button",{className:"flex items-center text-gray-600 hover:text-blue-500",children:[l.jsx(No,{size:18,className:"mr-1"}),l.jsx("span",{className:"text-sm",children:"Коментувати"})]}),l.jsxs("button",{className:"flex items-center text-gray-600 hover:text-green-500",children:[l.jsx(Gy,{size:18,className:"mr-1"}),l.jsx("span",{className:"text-sm",children:"Поділитися"})]})]})})})]},$.id)}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(No,{size:32,className:"text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Поки що немає постів"}),l.jsx("p",{className:"text-gray-600",children:"Станьте першим, хто поділиться чимось цікавим!"})]})]}),b==="members"&&l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Учасники групи (",a.length,")"]}),l.jsx("div",{className:"space-y-4",children:a.map($=>{var Y,Ce,me,De,it,at,Qe;return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(Y=$.user)!=null&&Y.avatar?l.jsx("img",{src:$.user.avatar,alt:$.user.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-lg text-gray-600",children:(De=(me=(Ce=$.user)==null?void 0:Ce.name)==null?void 0:me[0])==null?void 0:De.toUpperCase()})}),l.jsxs("div",{className:"ml-4",children:[l.jsxs("p",{className:"font-medium text-gray-900",children:[(it=$.user)==null?void 0:it.name," ",(at=$.user)==null?void 0:at.last_name]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${$.role==="admin"?"bg-red-100 text-red-800":$.role==="moderator"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:At($.role)}),l.jsxs("span",{className:"ml-2",children:["Приєднався ",Ve($.joined_at)]})]})]})]}),Ue&&((Qe=$.user)==null?void 0:Qe.id)!==(u==null?void 0:u.id)&&l.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:l.jsx(cd,{size:16})})]},$.id)})})]})}),b==="info"&&l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 max-w-xl mx-auto",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("div",{className:"relative w-24 h-24 mb-4",children:[l.jsx("img",{src:R?URL.createObjectURL(R):r.avatar||"",alt:"Group avatar",className:"w-24 h-24 rounded-full object-cover border border-gray-200"}),Ue&&l.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white rounded-full p-1 cursor-pointer hover:bg-blue-700",children:[l.jsx($u,{size:16}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:$=>C($.target.files[0])})]})]}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:r.name}),l.jsxs("div",{className:"text-gray-600 mb-2",children:["Створено: ",Ve(r.created_at)]}),l.jsxs("div",{className:"text-gray-600 mb-2",children:["Адміністратор: ",((an=(qt=a.find($=>$.role==="admin"))==null?void 0:qt.user)==null?void 0:an.name)||"—"]}),I?l.jsxs(l.Fragment,{children:[l.jsx("textarea",{className:"w-full border rounded p-2 mb-2",rows:3,value:T,onChange:$=>A($.target.value)}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:U,onClick:async()=>{H(!0);let $=r.avatar;if(R){const Ce=R.name.split(".").pop(),me=`${Date.now()}-${Math.random().toString(36).substring(7)}.${Ce}`,De=`group-avatars/${e}/${me}`,{error:it}=await V.storage.from("media").upload(De,R);if(!it){const{data:{publicUrl:at}}=V.storage.from("media").getPublicUrl(De);$=at}}const{error:Y}=await V.from("groups").update({description:T,avatar:$}).eq("id",e);Y||(n({...r,description:T,avatar:$}),P(!1),C(null)),H(!1)},children:"Зберегти"}),l.jsx("button",{className:"px-4 py-2 border rounded hover:bg-gray-100",onClick:()=>{P(!1),A(r.description||""),C(null)},children:"Скасувати"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4 text-gray-800 w-full text-center min-h-[48px]",children:r.description||"Опис відсутній"}),Ue&&l.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>{P(!0),A(r.description||"")},children:"Редагувати опис"})]})]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Vn,{size:32,className:"text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Приєднайтеся до групи"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Щоб переглядати пости та брати участь в обговореннях, приєднайтеся до групи"}),l.jsxs("button",{onClick:W,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mx-auto",children:[l.jsx(Co,{size:18,className:"mr-2"}),"Приєднатися до групи"]})]})})]})]})}class Jt{static async getAllGames(t,r){try{let n=V.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).order("created_at",{ascending:!1});t&&t!=="other"&&(n=n.eq("category",t)),r&&r.length>=2&&(n=n.ilike("title",`%${r}%`));const{data:s,error:i}=await n;if(i)throw i;return s||[]}catch(n){return console.error("Error fetching games:",n),[]}}static async getGameById(t){try{const{data:r,error:n}=await V.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("id",t).eq("is_active",!0).single();if(n)throw n;return r}catch(r){return console.error("Error fetching game:",r),null}}static async createGame(t){try{const r=await Ft.getCurrentUserProfile();if(!r)return null;const{data:n,error:s}=await V.from("games").insert([{...t,developer_id:r.id.toString()}]).select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).single();if(s)throw s;return n}catch(r){return console.error("Error creating game:",r),null}}static async updateGame(t,r){try{const{error:n}=await V.from("games").update({...r,updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n;return!0}catch(n){return console.error("Error updating game:",n),!1}}static async deleteGame(t){try{const{error:r}=await V.from("games").delete().eq("id",t);if(r)throw r;return!0}catch(r){return console.error("Error deleting game:",r),!1}}static async getGamesByDeveloper(){try{const t=await Ft.getCurrentUserProfile();if(!t)return[];const{data:r,error:n}=await V.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("developer_id",t.id.toString()).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(t){return console.error("Error fetching developer games:",t),[]}}static async recordGamePlay(t,r=0){try{const n=await Ft.getCurrentUserProfile();if(!n)return!1;const{error:s}=await V.from("game_plays").insert([{game_id:t,user_id:n.id.toString(),duration:r}]);if(s)throw s;return!0}catch(n){return console.error("Error recording game play:",n),!1}}static async rateGame(t,r,n=""){try{const s=await Ft.getCurrentUserProfile();if(!s)return!1;const{error:i}=await V.from("game_ratings").upsert([{game_id:t,user_id:s.id.toString(),rating:r,review:n}]);if(i)throw i;return!0}catch(s){return console.error("Error rating game:",s),!1}}static async getGameRatings(t){try{const{data:r,error:n}=await V.from("game_ratings").select(`
          *,
          user:users!game_ratings_user_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("game_id",t).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){return console.error("Error fetching game ratings:",r),[]}}static async getUserGameRating(t){try{const r=await Ft.getCurrentUserProfile();if(!r)return null;const{data:n,error:s}=await V.from("game_ratings").select("*").eq("game_id",t).eq("user_id",r.id.toString()).single();if(s){if(s.code==="PGRST116")return null;throw s}return n}catch(r){return console.error("Error fetching user game rating:",r),null}}static async getPopularGames(t=10){try{const{data:r,error:n}=await V.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).order("play_count",{ascending:!1}).limit(t);if(n)throw n;return r||[]}catch(r){return console.error("Error fetching popular games:",r),[]}}static async getTopRatedGames(t=10){try{const{data:r,error:n}=await V.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).gt("rating",0).order("rating",{ascending:!1}).limit(t);if(n)throw n;return r||[]}catch(r){return console.error("Error fetching top rated games:",r),[]}}}function Qw({game:e,onPlay:t}){var s,i,a,o,u,d;const r=c=>({action:"Екшн",puzzle:"Головоломки",strategy:"Стратегія",arcade:"Аркада",adventure:"Пригоди",simulation:"Симулятори",sports:"Спорт",racing:"Гонки",other:"Інше"})[c]||c,n=c=>c>=1e3?`${(c/1e3).toFixed(1)}k`:c.toString();return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[l.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-500 to-purple-600 overflow-hidden",children:[e.thumbnail?l.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(wl,{className:"text-white opacity-50",size:48})}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsxs("button",{onClick:t,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(wl,{size:20,className:"mr-2"}),"Грати"]})}),l.jsx("div",{className:"absolute top-3 left-3",children:l.jsx("span",{className:"px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded-full",children:r(e.category)})}),e.rating>0&&l.jsx("div",{className:"absolute top-3 right-3",children:l.jsxs("div",{className:"flex items-center px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded-full",children:[l.jsx(Eo,{size:12,className:"mr-1 fill-current text-yellow-400"}),e.rating.toFixed(1)]})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:e.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description||"Немає опису"}),l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-2",children:(s=e.developer)!=null&&s.avatar?l.jsx("img",{src:e.developer.avatar,alt:e.developer.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-xs text-gray-600",children:(o=(a=(i=e.developer)==null?void 0:i.name)==null?void 0:a[0])==null?void 0:o.toUpperCase()})}),l.jsxs("span",{className:"text-sm text-gray-600",children:[(u=e.developer)==null?void 0:u.name," ",(d=e.developer)==null?void 0:d.lastName]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Uy,{size:16,className:"mr-1"}),l.jsxs("span",{children:[n(e.play_count)," грали"]})]}),l.jsx("span",{children:new Date(e.created_at).toLocaleDateString("uk-UA")})]}),l.jsxs("button",{onClick:t,className:"w-full mt-4 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(wl,{size:18,className:"mr-2"}),"Грати зараз"]})]})]})}const Jw=[{value:"action",label:"Екшн"},{value:"puzzle",label:"Головоломки"},{value:"strategy",label:"Стратегія"},{value:"arcade",label:"Аркада"},{value:"adventure",label:"Пригоди"},{value:"simulation",label:"Симулятори"},{value:"sports",label:"Спорт"},{value:"racing",label:"Гонки"},{value:"other",label:"Інше"}];function Xw({onClose:e,onSubmit:t}){const[r,n]=x.useState(""),[s,i]=x.useState(""),[a,o]=x.useState(""),[u,d]=x.useState(""),[c,f]=x.useState("other"),[h,v]=x.useState(!1),b=async w=>{if(w.preventDefault(),!(!r.trim()||!u.trim())){v(!0);try{await t({title:r.trim(),description:s.trim(),thumbnail:a.trim()||void 0,game_url:u.trim(),category:c})}finally{v(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Додати нову гру"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Qr,{size:24})})]}),l.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Назва гри *"}),l.jsx("input",{type:"text",value:r,onChange:w=>n(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введіть назву гри",required:!0,maxLength:100})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Опис гри"}),l.jsx("textarea",{value:s,onChange:w=>i(w.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Розкажіть про вашу гру...",maxLength:500})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Категорія *"}),l.jsx("select",{value:c,onChange:w=>f(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Jw.map(w=>l.jsx("option",{value:w.value,children:w.label},w.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL гри *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Fy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"url",value:u,onChange:w=>d(w.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/game.html",required:!0})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Посилання на HTML файл гри або веб-сторінку з грою"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Зображення гри (URL)"}),l.jsxs("div",{className:"relative",children:[l.jsx($u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"url",value:a,onChange:w=>o(w.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/thumbnail.jpg"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Посилання на зображення-превью гри (необов'язково)"})]}),a&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Превью:"}),l.jsx("img",{src:a,alt:"Game thumbnail preview",className:"w-full h-32 object-cover rounded-lg",onError:w=>{w.currentTarget.style.display="none"}})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Скасувати"}),l.jsx("button",{type:"submit",disabled:h||!r.trim()||!u.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Додавання...":"Додати гру"})]})]})]})})}function Yw({game:e,onClose:t}){var T,A;const[r,n]=x.useState(!1),[s,i]=x.useState(null),[a,o]=x.useState([]),[u,d]=x.useState(0),[c,f]=x.useState(""),[h,v]=x.useState(!1),[b]=x.useState(Date.now()),[w,N]=x.useState(!1);x.useEffect(()=>{p(),m(),g()},[e.id]);const p=async()=>{const R=await Jt.getGameRatings(e.id);o(R)},m=async()=>{const R=await Jt.getUserGameRating(e.id);i(R),R&&(d(R.rating),f(R.review))},g=async()=>{await Jt.recordGamePlay(e.id)},j=async R=>{if(R.preventDefault(),u===0)return;N(!0),await Jt.rateGame(e.id,u,c)&&(await p(),await m(),v(!1)),N(!1)},S=async()=>{const R=Math.floor((Date.now()-b)/1e3);R>10&&await Jt.recordGamePlay(e.id,R),t()},I=()=>{n(!r)},P=(R,C=!1,U)=>l.jsx("div",{className:"flex",children:[1,2,3,4,5].map(H=>l.jsx("button",{type:C?"button":void 0,onClick:C&&U?()=>U(H):void 0,className:`${C?"cursor-pointer hover:scale-110":"cursor-default"} transition-transform`,disabled:!C,children:l.jsx(Eo,{size:20,className:`${H<=R?"text-yellow-400 fill-current":"text-gray-300"}`})},H))});return l.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 ${r?"p-0":"p-4"}`,children:l.jsxs("div",{className:`bg-white rounded-lg shadow-xl ${r?"w-full h-full rounded-none":"w-full max-w-6xl h-[90vh]"} flex flex-col`,children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mr-4",children:e.title}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(Eo,{size:16,className:"mr-1 text-yellow-400 fill-current"}),l.jsxs("span",{children:[e.rating.toFixed(1)," (",a.length," відгуків)"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:I,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",title:r?"Вийти з повноекранного режиму":"Повноекранний режим",children:l.jsx(By,{size:20})}),l.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",title:"Перезапустити гру",children:l.jsx(mm,{size:20})}),l.jsx("button",{onClick:S,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:l.jsx(Qr,{size:20})})]})]}),l.jsxs("div",{className:"flex-1 flex",children:[l.jsx("div",{className:"flex-1 bg-gray-100",children:l.jsx("iframe",{src:e.game_url,className:"w-full h-full border-0",title:e.title,allowFullScreen:!0,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-pointer-lock"})}),!r&&l.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 overflow-y-auto",children:l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Про гру"}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description||"Немає опису"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Розробник:"}),l.jsxs("span",{className:"text-gray-900",children:[(T=e.developer)==null?void 0:T.name," ",(A=e.developer)==null?void 0:A.lastName]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Категорія:"}),l.jsx("span",{className:"text-gray-900",children:e.category})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Зіграно:"}),l.jsxs("span",{className:"text-gray-900",children:[e.play_count," разів"]})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Оцінка"}),!s&&l.jsx("button",{onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:"Оцінити"})]}),h&&l.jsxs("form",{onSubmit:j,className:"mb-4 p-3 bg-white rounded-lg border",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ваша оцінка:"}),P(u,!0,d)]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Відгук (необов'язково):"}),l.jsx("textarea",{value:c,onChange:R=>f(R.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Поділіться враженнями від гри..."})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"Скасувати"}),l.jsx("button",{type:"submit",disabled:w||u===0,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 disabled:opacity-50",children:w?"Збереження...":"Зберегти"})]})]}),s&&l.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Ваша оцінка:"}),l.jsx("button",{onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:"Змінити"})]}),P(s.rating),s.review&&l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s.review})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[l.jsx(qy,{size:18,className:"mr-2"}),"Відгуки (",a.length,")"]}),l.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:a.length>0?a.map(R=>{var C,U,H,Q,ae,se;return l.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-2",children:(C=R.user)!=null&&C.avatar?l.jsx("img",{src:R.user.avatar,alt:R.user.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-xs text-gray-600",children:(Q=(H=(U=R.user)==null?void 0:U.name)==null?void 0:H[0])==null?void 0:Q.toUpperCase()})}),l.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[(ae=R.user)==null?void 0:ae.name," ",(se=R.user)==null?void 0:se.lastName]})]}),P(R.rating)]}),R.review&&l.jsx("p",{className:"text-sm text-gray-600",children:R.review}),l.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(R.created_at).toLocaleDateString("uk-UA")})]},R.id)}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Поки немає відгуків"})})]})]})})]})]})})}const Zw=[{value:"action",label:"Екшн"},{value:"puzzle",label:"Головоломки"},{value:"strategy",label:"Стратегія"},{value:"arcade",label:"Аркада"},{value:"adventure",label:"Пригоди"},{value:"simulation",label:"Симулятори"},{value:"sports",label:"Спорт"},{value:"racing",label:"Гонки"},{value:"other",label:"Інше"}];function e1(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,i]=x.useState([]),[a,o]=x.useState(!0),[u,d]=x.useState(""),[c,f]=x.useState(""),[h,v]=x.useState(!1),[b,w]=x.useState(null),[N,p]=x.useState("all");ir(),x.useEffect(()=>{m(),g(),j()},[]),x.useEffect(()=>{const T=setTimeout(()=>{m()},300);return()=>clearTimeout(T)},[u,c]);const m=async()=>{try{o(!0);const T=await Jt.getAllGames(c,u);t(T)}catch(T){console.error("Error loading games:",T)}finally{o(!1)}},g=async()=>{try{const T=await Jt.getPopularGames(6);n(T)}catch(T){console.error("Error loading popular games:",T)}},j=async()=>{try{const T=await Jt.getTopRatedGames(6);i(T)}catch(T){console.error("Error loading top rated games:",T)}},S=async T=>{const A=await Jt.createGame(T);A&&(t(R=>[A,...R]),v(!1))},I=T=>{w(T)},P=()=>{switch(N){case"popular":return r;case"top-rated":return s;default:return e}};return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(tt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(ud,{className:"h-8 w-8 text-blue-600 mr-3"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ігри"})]}),l.jsxs("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(So,{size:20,className:"mr-2"}),"Додати гру"]})]}),l.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg w-fit",children:[l.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${N==="all"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Всі ігри"}),l.jsxs("button",{onClick:()=>p("popular"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${N==="popular"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(Ky,{size:16,className:"mr-1"}),"Популярні"]}),l.jsxs("button",{onClick:()=>p("top-rated"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${N==="top-rated"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(Ry,{size:16,className:"mr-1"}),"Найкращі"]})]}),N==="all"&&l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Au,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:"Пошук ігор...",value:u,onChange:T=>d(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Dy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsxs("select",{value:c,onChange:T=>f(T.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[l.jsx("option",{value:"",children:"Всі категорії"}),Zw.map(T=>l.jsx("option",{value:T.value,children:T.label},T.value))]})]})]}),a?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Завантаження ігор..."})]}):P().length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:P().map(T=>l.jsx(Qw,{game:T,onPlay:()=>I(T)},T.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ud,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:u||c?"Ігри не знайдено":"Немає ігор"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u||c?"Спробуйте змінити пошуковий запит або фільтр":"Додайте першу гру для спільноти"}),!u&&!c&&l.jsx("div",{className:"mt-6",children:l.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(So,{className:"-ml-1 mr-2 h-5 w-5"}),"Додати гру"]})})]})]})}),h&&l.jsx(Xw,{onClose:()=>v(!1),onSubmit:S}),b&&l.jsx(Yw,{game:b,onClose:()=>w(null)})]})}function t1(){return x.useEffect(()=>{(async()=>{var r,n,s,i,a,o,u;const{data:{session:t}}=await V.auth.getSession();if(t!=null&&t.user){const{data:d}=await V.from("users").select("id").eq("email",t.user.email).single();d||await V.from("users").insert([{name:((r=t.user.user_metadata)==null?void 0:r.name)||((s=(n=t.user.user_metadata)==null?void 0:n.full_name)==null?void 0:s.split(" ")[0])||((i=t.user.email)==null?void 0:i.split("@")[0])||"User",lastName:((a=t.user.user_metadata)==null?void 0:a.lastName)||((u=(o=t.user.user_metadata)==null?void 0:o.full_name)==null?void 0:u.split(" ").slice(1).join(" "))||"",email:t.user.email,date:new Date().toISOString(),notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1}}])}})()},[]),null}function r1(){return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Bn,{className:"h-8 w-8 text-blue-600"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Соціальна мережа"})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(Gs,{to:"/login",className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Вхід"}),l.jsx(Gs,{to:"/register",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200",children:"Реєстрація"})]})]})})}),l.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Ласкаво просимо до нашої спільноти"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Приєднуйтесь до нашої соціальної мережі, щоб спілкуватися з друзями, ділитися моментами та знаходити нові знайомства."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Спілкування"}),l.jsx("p",{className:"text-gray-600",children:"Спілкуйтеся з друзями та знаходьте нові знайомства"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Контент"}),l.jsx("p",{className:"text-gray-600",children:"Діліться фото, відео та іншими матеріалами"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Приватність"}),l.jsx("p",{className:"text-gray-600",children:"Повний контроль над вашими даними та приватністю"})]})]})]})})]})}function n1(){return l.jsxs(l.Fragment,{children:[l.jsx(t1,{}),l.jsxs(my,{children:[l.jsx(kt,{path:"/",element:l.jsx(r1,{})}),l.jsx(kt,{path:"/login",element:l.jsx(gw,{})}),l.jsx(kt,{path:"/register",element:l.jsx(yw,{})}),l.jsx(kt,{path:"/profile",element:l.jsx(Vw,{})}),l.jsx(kt,{path:"/messages",element:l.jsx(qw,{})}),l.jsx(kt,{path:"/friends",element:l.jsx(Hw,{})}),l.jsx(kt,{path:"/settings",element:l.jsx(Ww,{})}),l.jsx(kt,{path:"/groups",element:l.jsx(Gw,{})}),l.jsx(kt,{path:"/groups/:groupId",element:l.jsx(Kw,{})}),l.jsx(kt,{path:"/games",element:l.jsx(e1,{})})]})]})}Zh(document.getElementById("root")).render(l.jsx(x.StrictMode,{children:l.jsx(_y,{children:l.jsx(n1,{})})}));export{Xm as g};
