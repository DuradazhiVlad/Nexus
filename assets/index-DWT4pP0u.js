function Tf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Of(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Cc={exports:{}},Pi={},Pc={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=Symbol.for("react.element"),Lf=Symbol.for("react.portal"),$f=Symbol.for("react.fragment"),Uf=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),If=Symbol.for("react.provider"),zf=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),Mf=Symbol.for("react.suspense"),Ff=Symbol.for("react.memo"),Bf=Symbol.for("react.lazy"),Jo=Symbol.iterator;function Vf(e){return e===null||typeof e!="object"?null:(e=Jo&&e[Jo]||e["@@iterator"],typeof e=="function"?e:null)}var Tc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rc=Object.assign,Oc={};function dn(e,t,r){this.props=e,this.context=t,this.refs=Oc,this.updater=r||Tc}dn.prototype.isReactComponent={};dn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lc(){}Lc.prototype=dn.prototype;function Hl(e,t,r){this.props=e,this.context=t,this.refs=Oc,this.updater=r||Tc}var Wl=Hl.prototype=new Lc;Wl.constructor=Hl;Rc(Wl,dn.prototype);Wl.isPureReactComponent=!0;var Xo=Array.isArray,$c=Object.prototype.hasOwnProperty,ql={current:null},Uc={key:!0,ref:!0,__self:!0,__source:!0};function Ac(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)$c.call(t,n)&&!Uc.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ds,type:e,key:i,ref:a,props:s,_owner:ql.current}}function Hf(e,t){return{$$typeof:ds,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ds}function Wf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Yo=/\/+/g;function ra(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wf(""+e.key):t.toString(36)}function Fs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ds:case Lf:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+ra(a,0):n,Xo(s)?(r="",e!=null&&(r=e.replace(Yo,"$&/")+"/"),Fs(s,t,r,"",function(c){return c})):s!=null&&(Gl(s)&&(s=Hf(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Yo,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Xo(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+ra(i,o);a+=Fs(i,t,r,u,s)}else if(u=Vf(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+ra(i,o++),a+=Fs(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ws(e,t,r){if(e==null)return e;var n=[],s=0;return Fs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function qf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},Bs={transition:null},Gf={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Bs,ReactCurrentOwner:ql};function Ic(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:ws,forEach:function(e,t,r){ws(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ws(e,function(){t++}),t},toArray:function(e){return ws(e,function(t){return t})||[]},only:function(e){if(!Gl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=dn;M.Fragment=$f;M.Profiler=Af;M.PureComponent=Hl;M.StrictMode=Uf;M.Suspense=Mf;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gf;M.act=Ic;M.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Rc({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ql.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)$c.call(t,u)&&!Uc.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:ds,type:e.type,key:s,ref:i,props:n,_owner:a}};M.createContext=function(e){return e={$$typeof:zf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:If,_context:e},e.Consumer=e};M.createElement=Ac;M.createFactory=function(e){var t=Ac.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:Df,render:e}};M.isValidElement=Gl;M.lazy=function(e){return{$$typeof:Bf,_payload:{_status:-1,_result:e},_init:qf}};M.memo=function(e,t){return{$$typeof:Ff,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Bs.transition;Bs.transition={};try{e()}finally{Bs.transition=t}};M.unstable_act=Ic;M.useCallback=function(e,t){return je.current.useCallback(e,t)};M.useContext=function(e){return je.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return je.current.useDeferredValue(e)};M.useEffect=function(e,t){return je.current.useEffect(e,t)};M.useId=function(){return je.current.useId()};M.useImperativeHandle=function(e,t,r){return je.current.useImperativeHandle(e,t,r)};M.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return je.current.useMemo(e,t)};M.useReducer=function(e,t,r){return je.current.useReducer(e,t,r)};M.useRef=function(e){return je.current.useRef(e)};M.useState=function(e){return je.current.useState(e)};M.useSyncExternalStore=function(e,t,r){return je.current.useSyncExternalStore(e,t,r)};M.useTransition=function(){return je.current.useTransition()};M.version="18.3.1";Pc.exports=M;var w=Pc.exports;const Kf=Rf(w),Qf=Tf({__proto__:null,default:Kf},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf=w,Xf=Symbol.for("react.element"),Yf=Symbol.for("react.fragment"),Zf=Object.prototype.hasOwnProperty,ep=Jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tp={key:!0,ref:!0,__self:!0,__source:!0};function zc(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Zf.call(t,n)&&!tp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Xf,type:e,key:i,ref:a,props:s,_owner:ep.current}}Pi.Fragment=Yf;Pi.jsx=zc;Pi.jsxs=zc;Cc.exports=Pi;var l=Cc.exports,Dc={exports:{}},Ie={},Mc={exports:{}},Fc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,A){var I=L.length;L.push(A);e:for(;0<I;){var X=I-1>>>1,se=L[X];if(0<s(se,A))L[X]=A,L[I]=se,I=X;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var A=L[0],I=L.pop();if(I!==A){L[0]=I;e:for(var X=0,se=L.length,Sr=se>>>1;X<Sr;){var De=2*(X+1)-1,vn=L[De],st=De+1,it=L[st];if(0>s(vn,I))st<se&&0>s(it,vn)?(L[X]=it,L[st]=I,X=st):(L[X]=vn,L[De]=I,X=De);else if(st<se&&0>s(it,I))L[X]=it,L[st]=I,X=st;else break e}}return A}function s(L,A){var I=L.sortIndex-A.sortIndex;return I!==0?I:L.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,h=null,f=3,y=!1,v=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=L)n(c),A.sortIndex=A.expirationTime,t(u,A);else break;A=r(c)}}function _(L){if(x=!1,g(L),!v)if(r(u)!==null)v=!0,Ge(k);else{var A=r(c);A!==null&&Ct(_,A.startTime-L)}}function k(L,A){v=!1,x&&(x=!1,m(b),b=-1),y=!0;var I=f;try{for(g(A),h=r(u);h!==null&&(!(h.expirationTime>A)||L&&!S());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var se=X(h.expirationTime<=A);A=e.unstable_now(),typeof se=="function"?h.callback=se:h===r(u)&&n(u),g(A)}else n(u);h=r(u)}if(h!==null)var Sr=!0;else{var De=r(c);De!==null&&Ct(_,De.startTime-A),Sr=!1}return Sr}finally{h=null,f=I,y=!1}}var P=!1,T=null,b=-1,R=5,E=-1;function S(){return!(e.unstable_now()-E<R)}function U(){if(T!==null){var L=e.unstable_now();E=L;var A=!0;try{A=T(!0,L)}finally{A?W():(P=!1,T=null)}}else P=!1}var W;if(typeof p=="function")W=function(){p(U)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,pt=oe.port2;oe.port1.onmessage=U,W=function(){pt.postMessage(null)}}else W=function(){j(U,0)};function Ge(L){T=L,P||(P=!0,W())}function Ct(L,A){b=j(function(){L(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,Ge(k))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var I=f;f=A;try{return L()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,A){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var I=f;f=L;try{return A()}finally{f=I}},e.unstable_scheduleCallback=function(L,A,I){var X=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?X+I:X):I=X,L){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=I+se,L={id:d++,callback:A,priorityLevel:L,startTime:I,expirationTime:se,sortIndex:-1},I>X?(L.sortIndex=I,t(c,L),r(u)===null&&L===r(c)&&(x?(m(b),b=-1):x=!0,Ct(_,I-X))):(L.sortIndex=se,t(u,L),v||y||(v=!0,Ge(k))),L},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(L){var A=f;return function(){var I=f;f=A;try{return L.apply(this,arguments)}finally{f=I}}}})(Fc);Mc.exports=Fc;var rp=Mc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np=w,Ae=rp;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bc=new Set,Hn={};function _r(e,t){Yr(e,t),Yr(e+"Capture",t)}function Yr(e,t){for(Hn[e]=t,e=0;e<t.length;e++)Bc.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=Object.prototype.hasOwnProperty,sp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zo={},eu={};function ip(e){return Aa.call(eu,e)?!0:Aa.call(Zo,e)?!1:sp.test(e)?eu[e]=!0:(Zo[e]=!0,!1)}function ap(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lp(e,t,r,n){if(t===null||typeof t>"u"||ap(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kl=/[\-:]([a-z])/g;function Ql(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kl,Ql);me[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kl,Ql);me[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kl,Ql);me[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jl(e,t,r,n){var s=me.hasOwnProperty(t)?me[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lp(t,r,s,n)&&(r=null),n||s===null?ip(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Et=np.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_s=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),Xl=Symbol.for("react.strict_mode"),Ia=Symbol.for("react.profiler"),Vc=Symbol.for("react.provider"),Hc=Symbol.for("react.context"),Yl=Symbol.for("react.forward_ref"),za=Symbol.for("react.suspense"),Da=Symbol.for("react.suspense_list"),Zl=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),Wc=Symbol.for("react.offscreen"),tu=Symbol.iterator;function yn(e){return e===null||typeof e!="object"?null:(e=tu&&e[tu]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,na;function En(e){if(na===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);na=t&&t[1]||""}return`
`+na+e}var sa=!1;function ia(e,t){if(!e||sa)return"";sa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{sa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?En(e):""}function op(e){switch(e.tag){case 5:return En(e.type);case 16:return En("Lazy");case 13:return En("Suspense");case 19:return En("SuspenseList");case 0:case 2:case 15:return e=ia(e.type,!1),e;case 11:return e=ia(e.type.render,!1),e;case 1:return e=ia(e.type,!0),e;default:return""}}function Ma(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $r:return"Fragment";case Lr:return"Portal";case Ia:return"Profiler";case Xl:return"StrictMode";case za:return"Suspense";case Da:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hc:return(e.displayName||"Context")+".Consumer";case Vc:return(e._context.displayName||"Context")+".Provider";case Yl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zl:return t=e.displayName||null,t!==null?t:Ma(e.type)||"Memo";case Lt:t=e._payload,e=e._init;try{return Ma(e(t))}catch{}}return null}function up(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ma(t);case 8:return t===Xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cp(e){var t=qc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function js(e){e._valueTracker||(e._valueTracker=cp(e))}function Gc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fa(e,t){var r=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ru(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kc(e,t){t=t.checked,t!=null&&Jl(e,"checked",t,!1)}function Ba(e,t){Kc(e,t);var r=Xt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Va(e,t.type,r):t.hasOwnProperty("defaultValue")&&Va(e,t.type,Xt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Va(e,t,r){(t!=="number"||Zs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Cn=Array.isArray;function Wr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ha(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function su(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if(Cn(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xt(r)}}function Qc(e,t){var r=Xt(t.value),n=Xt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function iu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ks,Xc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ks.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var On={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dp=["Webkit","ms","Moz","O"];Object.keys(On).forEach(function(e){dp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),On[t]=On[e]})});function Yc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||On.hasOwnProperty(e)&&On[e]?(""+t).trim():t+"px"}function Zc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Yc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var hp=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qa(e,t){if(t){if(hp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Ga(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ka=null;function eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qa=null,qr=null,Gr=null;function au(e){if(e=ps(e)){if(typeof Qa!="function")throw Error(N(280));var t=e.stateNode;t&&(t=$i(t),Qa(e.stateNode,e.type,t))}}function ed(e){qr?Gr?Gr.push(e):Gr=[e]:qr=e}function td(){if(qr){var e=qr,t=Gr;if(Gr=qr=null,au(e),t)for(e=0;e<t.length;e++)au(t[e])}}function rd(e,t){return e(t)}function nd(){}var aa=!1;function sd(e,t,r){if(aa)return e(t,r);aa=!0;try{return rd(e,t,r)}finally{aa=!1,(qr!==null||Gr!==null)&&(nd(),td())}}function qn(e,t){var r=e.stateNode;if(r===null)return null;var n=$i(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var Ja=!1;if(kt)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Ja=!1}function fp(e,t,r,n,s,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Ln=!1,ei=null,ti=!1,Xa=null,pp={onError:function(e){Ln=!0,ei=e}};function mp(e,t,r,n,s,i,a,o,u){Ln=!1,ei=null,fp.apply(pp,arguments)}function gp(e,t,r,n,s,i,a,o,u){if(mp.apply(this,arguments),Ln){if(Ln){var c=ei;Ln=!1,ei=null}else throw Error(N(198));ti||(ti=!0,Xa=c)}}function jr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function id(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lu(e){if(jr(e)!==e)throw Error(N(188))}function vp(e){var t=e.alternate;if(!t){if(t=jr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return lu(s),e;if(i===n)return lu(s),t;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function ad(e){return e=vp(e),e!==null?ld(e):null}function ld(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ld(e);if(t!==null)return t;e=e.sibling}return null}var od=Ae.unstable_scheduleCallback,ou=Ae.unstable_cancelCallback,yp=Ae.unstable_shouldYield,xp=Ae.unstable_requestPaint,ne=Ae.unstable_now,wp=Ae.unstable_getCurrentPriorityLevel,to=Ae.unstable_ImmediatePriority,ud=Ae.unstable_UserBlockingPriority,ri=Ae.unstable_NormalPriority,_p=Ae.unstable_LowPriority,cd=Ae.unstable_IdlePriority,Ti=null,ht=null;function jp(e){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Ti,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:Sp,kp=Math.log,bp=Math.LN2;function Sp(e){return e>>>=0,e===0?32:31-(kp(e)/bp|0)|0}var bs=64,Ss=4194304;function Pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Pn(o):(i&=a,i!==0&&(n=Pn(i)))}else a=r&~s,a!==0?n=Pn(a):i!==0&&(n=Pn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-et(t),s=1<<r,n|=e[r],t&=~s;return n}function Np(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ep(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-et(i),o=1<<a,u=s[a];u===-1?(!(o&r)||o&n)&&(s[a]=Np(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function Ya(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dd(){var e=bs;return bs<<=1,!(bs&4194240)&&(bs=64),e}function la(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=r}function Cp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-et(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ro(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-et(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var H=0;function hd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fd,no,pd,md,gd,Za=!1,Ns=[],Bt=null,Vt=null,Ht=null,Gn=new Map,Kn=new Map,At=[],Pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":Gn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(t.pointerId)}}function wn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ps(t),t!==null&&no(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Tp(e,t,r,n,s){switch(t){case"focusin":return Bt=wn(Bt,e,t,r,n,s),!0;case"dragenter":return Vt=wn(Vt,e,t,r,n,s),!0;case"mouseover":return Ht=wn(Ht,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Gn.set(i,wn(Gn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Kn.set(i,wn(Kn.get(i)||null,e,t,r,n,s)),!0}return!1}function vd(e){var t=dr(e.target);if(t!==null){var r=jr(t);if(r!==null){if(t=r.tag,t===13){if(t=id(r),t!==null){e.blockedOn=t,gd(e.priority,function(){pd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=el(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ka=n,r.target.dispatchEvent(n),Ka=null}else return t=ps(r),t!==null&&no(t),e.blockedOn=r,!1;t.shift()}return!0}function cu(e,t,r){Vs(e)&&r.delete(t)}function Rp(){Za=!1,Bt!==null&&Vs(Bt)&&(Bt=null),Vt!==null&&Vs(Vt)&&(Vt=null),Ht!==null&&Vs(Ht)&&(Ht=null),Gn.forEach(cu),Kn.forEach(cu)}function _n(e,t){e.blockedOn===t&&(e.blockedOn=null,Za||(Za=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,Rp)))}function Qn(e){function t(s){return _n(s,e)}if(0<Ns.length){_n(Ns[0],e);for(var r=1;r<Ns.length;r++){var n=Ns[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bt!==null&&_n(Bt,e),Vt!==null&&_n(Vt,e),Ht!==null&&_n(Ht,e),Gn.forEach(t),Kn.forEach(t),r=0;r<At.length;r++)n=At[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<At.length&&(r=At[0],r.blockedOn===null);)vd(r),r.blockedOn===null&&At.shift()}var Kr=Et.ReactCurrentBatchConfig,si=!0;function Op(e,t,r,n){var s=H,i=Kr.transition;Kr.transition=null;try{H=1,so(e,t,r,n)}finally{H=s,Kr.transition=i}}function Lp(e,t,r,n){var s=H,i=Kr.transition;Kr.transition=null;try{H=4,so(e,t,r,n)}finally{H=s,Kr.transition=i}}function so(e,t,r,n){if(si){var s=el(e,t,r,n);if(s===null)va(e,t,n,ii,r),uu(e,n);else if(Tp(s,e,t,r,n))n.stopPropagation();else if(uu(e,n),t&4&&-1<Pp.indexOf(e)){for(;s!==null;){var i=ps(s);if(i!==null&&fd(i),i=el(e,t,r,n),i===null&&va(e,t,n,ii,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else va(e,t,n,null,r)}}var ii=null;function el(e,t,r,n){if(ii=null,e=eo(n),e=dr(e),e!==null)if(t=jr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=id(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ii=e,null}function yd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wp()){case to:return 1;case ud:return 4;case ri:case _p:return 16;case cd:return 536870912;default:return 16}default:return 16}}var Dt=null,io=null,Hs=null;function xd(){if(Hs)return Hs;var e,t=io,r=t.length,n,s="value"in Dt?Dt.value:Dt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Hs=s.slice(e,1<n?1-n:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Es(){return!0}function du(){return!1}function ze(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Es:du,this.isPropagationStopped=du,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),t}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=ze(hn),fs=ee({},hn,{view:0,detail:0}),$p=ze(fs),oa,ua,jn,Ri=ee({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jn&&(jn&&e.type==="mousemove"?(oa=e.screenX-jn.screenX,ua=e.screenY-jn.screenY):ua=oa=0,jn=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),hu=ze(Ri),Up=ee({},Ri,{dataTransfer:0}),Ap=ze(Up),Ip=ee({},fs,{relatedTarget:0}),ca=ze(Ip),zp=ee({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dp=ze(zp),Mp=ee({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fp=ze(Mp),Bp=ee({},hn,{data:0}),fu=ze(Bp),Vp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wp[e])?!!t[e]:!1}function lo(){return qp}var Gp=ee({},fs,{key:function(e){if(e.key){var t=Vp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kp=ze(Gp),Qp=ee({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=ze(Qp),Jp=ee({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),Xp=ze(Jp),Yp=ee({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zp=ze(Yp),em=ee({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tm=ze(em),rm=[9,13,27,32],oo=kt&&"CompositionEvent"in window,$n=null;kt&&"documentMode"in document&&($n=document.documentMode);var nm=kt&&"TextEvent"in window&&!$n,wd=kt&&(!oo||$n&&8<$n&&11>=$n),mu=" ",gu=!1;function _d(e,t){switch(e){case"keyup":return rm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ur=!1;function sm(e,t){switch(e){case"compositionend":return jd(t);case"keypress":return t.which!==32?null:(gu=!0,mu);case"textInput":return e=t.data,e===mu&&gu?null:e;default:return null}}function im(e,t){if(Ur)return e==="compositionend"||!oo&&_d(e,t)?(e=xd(),Hs=io=Dt=null,Ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wd&&t.locale!=="ko"?null:t.data;default:return null}}var am={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!am[e.type]:t==="textarea"}function kd(e,t,r,n){ed(n),t=ai(t,"onChange"),0<t.length&&(r=new ao("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Un=null,Jn=null;function lm(e){$d(e,0)}function Oi(e){var t=zr(e);if(Gc(t))return e}function om(e,t){if(e==="change")return t}var bd=!1;if(kt){var da;if(kt){var ha="oninput"in document;if(!ha){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),ha=typeof yu.oninput=="function"}da=ha}else da=!1;bd=da&&(!document.documentMode||9<document.documentMode)}function xu(){Un&&(Un.detachEvent("onpropertychange",Sd),Jn=Un=null)}function Sd(e){if(e.propertyName==="value"&&Oi(Jn)){var t=[];kd(t,Jn,e,eo(e)),sd(lm,t)}}function um(e,t,r){e==="focusin"?(xu(),Un=t,Jn=r,Un.attachEvent("onpropertychange",Sd)):e==="focusout"&&xu()}function cm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oi(Jn)}function dm(e,t){if(e==="click")return Oi(t)}function hm(e,t){if(e==="input"||e==="change")return Oi(t)}function fm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:fm;function Xn(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Aa.call(t,s)||!nt(e[s],t[s]))return!1}return!0}function wu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _u(e,t){var r=wu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wu(r)}}function Nd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ed(){for(var e=window,t=Zs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zs(e.document)}return t}function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pm(e){var t=Ed(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Nd(r.ownerDocument.documentElement,r)){if(n!==null&&uo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=_u(r,i);var a=_u(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mm=kt&&"documentMode"in document&&11>=document.documentMode,Ar=null,tl=null,An=null,rl=!1;function ju(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rl||Ar==null||Ar!==Zs(n)||(n=Ar,"selectionStart"in n&&uo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),An&&Xn(An,n)||(An=n,n=ai(tl,"onSelect"),0<n.length&&(t=new ao("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ar)))}function Cs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ir={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},fa={},Cd={};kt&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Li(e){if(fa[e])return fa[e];if(!Ir[e])return e;var t=Ir[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Cd)return fa[e]=t[r];return e}var Pd=Li("animationend"),Td=Li("animationiteration"),Rd=Li("animationstart"),Od=Li("transitionend"),Ld=new Map,ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){Ld.set(e,t),_r(t,[e])}for(var pa=0;pa<ku.length;pa++){var ma=ku[pa],gm=ma.toLowerCase(),vm=ma[0].toUpperCase()+ma.slice(1);Zt(gm,"on"+vm)}Zt(Pd,"onAnimationEnd");Zt(Td,"onAnimationIteration");Zt(Rd,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(Od,"onTransitionEnd");Yr("onMouseEnter",["mouseout","mouseover"]);Yr("onMouseLeave",["mouseout","mouseover"]);Yr("onPointerEnter",["pointerout","pointerover"]);Yr("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ym=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function bu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gp(n,t,void 0,e),e.currentTarget=null}function $d(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;bu(s,o,c),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;bu(s,o,c),i=u}}}if(ti)throw e=Xa,ti=!1,Xa=null,e}function K(e,t){var r=t[ll];r===void 0&&(r=t[ll]=new Set);var n=e+"__bubble";r.has(n)||(Ud(t,e,2,!1),r.add(n))}function ga(e,t,r){var n=0;t&&(n|=4),Ud(r,e,n,t)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Yn(e){if(!e[Ps]){e[Ps]=!0,Bc.forEach(function(r){r!=="selectionchange"&&(ym.has(r)||ga(r,!1,e),ga(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ps]||(t[Ps]=!0,ga("selectionchange",!1,t))}}function Ud(e,t,r,n){switch(yd(t)){case 1:var s=Op;break;case 4:s=Lp;break;default:s=so}r=s.bind(null,t,r,e),s=void 0,!Ja||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function va(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=dr(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}sd(function(){var c=i,d=eo(r),h=[];e:{var f=Ld.get(e);if(f!==void 0){var y=ao,v=e;switch(e){case"keypress":if(Ws(r)===0)break e;case"keydown":case"keyup":y=Kp;break;case"focusin":v="focus",y=ca;break;case"focusout":v="blur",y=ca;break;case"beforeblur":case"afterblur":y=ca;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Xp;break;case Pd:case Td:case Rd:y=Dp;break;case Od:y=Zp;break;case"scroll":y=$p;break;case"wheel":y=tm;break;case"copy":case"cut":case"paste":y=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=pu}var x=(t&4)!==0,j=!x&&e==="scroll",m=x?f!==null?f+"Capture":null:f;x=[];for(var p=c,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=qn(p,m),_!=null&&x.push(Zn(p,_,g)))),j)break;p=p.return}0<x.length&&(f=new y(f,v,null,r,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==Ka&&(v=r.relatedTarget||r.fromElement)&&(dr(v)||v[bt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=c,v=v?dr(v):null,v!==null&&(j=jr(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(x=hu,_="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=pu,_="onPointerLeave",m="onPointerEnter",p="pointer"),j=y==null?f:zr(y),g=v==null?f:zr(v),f=new x(_,p+"leave",y,r,d),f.target=j,f.relatedTarget=g,_=null,dr(d)===c&&(x=new x(m,p+"enter",v,r,d),x.target=g,x.relatedTarget=j,_=x),j=_,y&&v)t:{for(x=y,m=v,p=0,g=x;g;g=Nr(g))p++;for(g=0,_=m;_;_=Nr(_))g++;for(;0<p-g;)x=Nr(x),p--;for(;0<g-p;)m=Nr(m),g--;for(;p--;){if(x===m||m!==null&&x===m.alternate)break t;x=Nr(x),m=Nr(m)}x=null}else x=null;y!==null&&Su(h,f,y,x,!1),v!==null&&j!==null&&Su(h,j,v,x,!0)}}e:{if(f=c?zr(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var k=om;else if(vu(f))if(bd)k=hm;else{k=cm;var P=um}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=dm);if(k&&(k=k(e,c))){kd(h,k,r,d);break e}P&&P(e,f,c),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Va(f,"number",f.value)}switch(P=c?zr(c):window,e){case"focusin":(vu(P)||P.contentEditable==="true")&&(Ar=P,tl=c,An=null);break;case"focusout":An=tl=Ar=null;break;case"mousedown":rl=!0;break;case"contextmenu":case"mouseup":case"dragend":rl=!1,ju(h,r,d);break;case"selectionchange":if(mm)break;case"keydown":case"keyup":ju(h,r,d)}var T;if(oo)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ur?_d(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(wd&&r.locale!=="ko"&&(Ur||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ur&&(T=xd()):(Dt=d,io="value"in Dt?Dt.value:Dt.textContent,Ur=!0)),P=ai(c,b),0<P.length&&(b=new fu(b,e,null,r,d),h.push({event:b,listeners:P}),T?b.data=T:(T=jd(r),T!==null&&(b.data=T)))),(T=nm?sm(e,r):im(e,r))&&(c=ai(c,"onBeforeInput"),0<c.length&&(d=new fu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=T))}$d(h,t)})}function Zn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ai(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qn(e,r),i!=null&&n.unshift(Zn(e,i,s)),i=qn(e,t),i!=null&&n.push(Zn(e,i,s))),e=e.return}return n}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Su(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,s?(u=qn(r,i),u!=null&&a.unshift(Zn(r,u,o))):s||(u=qn(r,i),u!=null&&a.push(Zn(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var xm=/\r\n?/g,wm=/\u0000|\uFFFD/g;function Nu(e){return(typeof e=="string"?e:""+e).replace(xm,`
`).replace(wm,"")}function Ts(e,t,r){if(t=Nu(t),Nu(e)!==t&&r)throw Error(N(425))}function li(){}var nl=null,sl=null;function il(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var al=typeof setTimeout=="function"?setTimeout:void 0,_m=typeof clearTimeout=="function"?clearTimeout:void 0,Eu=typeof Promise=="function"?Promise:void 0,jm=typeof queueMicrotask=="function"?queueMicrotask:typeof Eu<"u"?function(e){return Eu.resolve(null).then(e).catch(km)}:al;function km(e){setTimeout(function(){throw e})}function ya(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Qn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Qn(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fn=Math.random().toString(36).slice(2),dt="__reactFiber$"+fn,es="__reactProps$"+fn,bt="__reactContainer$"+fn,ll="__reactEvents$"+fn,bm="__reactListeners$"+fn,Sm="__reactHandles$"+fn;function dr(e){var t=e[dt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bt]||r[dt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Cu(e);e!==null;){if(r=e[dt])return r;e=Cu(e)}return t}e=r,r=e.parentNode}return null}function ps(e){return e=e[dt]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function $i(e){return e[es]||null}var ol=[],Dr=-1;function er(e){return{current:e}}function Q(e){0>Dr||(e.current=ol[Dr],ol[Dr]=null,Dr--)}function G(e,t){Dr++,ol[Dr]=e.current,e.current=t}var Yt={},xe=er(Yt),Ce=er(!1),gr=Yt;function Zr(e,t){var r=e.type.contextTypes;if(!r)return Yt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(e){return e=e.childContextTypes,e!=null}function oi(){Q(Ce),Q(xe)}function Pu(e,t,r){if(xe.current!==Yt)throw Error(N(168));G(xe,t),G(Ce,r)}function Ad(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(N(108,up(e)||"Unknown",s));return ee({},r,n)}function ui(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,gr=xe.current,G(xe,e),G(Ce,Ce.current),!0}function Tu(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=Ad(e,t,gr),n.__reactInternalMemoizedMergedChildContext=e,Q(Ce),Q(xe),G(xe,e)):Q(Ce),G(Ce,r)}var yt=null,Ui=!1,xa=!1;function Id(e){yt===null?yt=[e]:yt.push(e)}function Nm(e){Ui=!0,Id(e)}function tr(){if(!xa&&yt!==null){xa=!0;var e=0,t=H;try{var r=yt;for(H=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yt=null,Ui=!1}catch(s){throw yt!==null&&(yt=yt.slice(e+1)),od(to,tr),s}finally{H=t,xa=!1}}return null}var Mr=[],Fr=0,ci=null,di=0,Me=[],Fe=0,vr=null,wt=1,_t="";function lr(e,t){Mr[Fr++]=di,Mr[Fr++]=ci,ci=e,di=t}function zd(e,t,r){Me[Fe++]=wt,Me[Fe++]=_t,Me[Fe++]=vr,vr=e;var n=wt;e=_t;var s=32-et(n)-1;n&=~(1<<s),r+=1;var i=32-et(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,wt=1<<32-et(t)+s|r<<s|n,_t=i+e}else wt=1<<i|r<<s|n,_t=e}function co(e){e.return!==null&&(lr(e,1),zd(e,1,0))}function ho(e){for(;e===ci;)ci=Mr[--Fr],Mr[Fr]=null,di=Mr[--Fr],Mr[Fr]=null;for(;e===vr;)vr=Me[--Fe],Me[Fe]=null,_t=Me[--Fe],Me[Fe]=null,wt=Me[--Fe],Me[Fe]=null}var Ue=null,$e=null,J=!1,Ze=null;function Dd(e,t){var r=Be(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ru(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ue=e,$e=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ue=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vr!==null?{id:wt,overflow:_t}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Be(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ue=e,$e=null,!0):!1;default:return!1}}function ul(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cl(e){if(J){var t=$e;if(t){var r=t;if(!Ru(e,t)){if(ul(e))throw Error(N(418));t=Wt(r.nextSibling);var n=Ue;t&&Ru(e,t)?Dd(n,r):(e.flags=e.flags&-4097|2,J=!1,Ue=e)}}else{if(ul(e))throw Error(N(418));e.flags=e.flags&-4097|2,J=!1,Ue=e}}}function Ou(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ue=e}function Rs(e){if(e!==Ue)return!1;if(!J)return Ou(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!il(e.type,e.memoizedProps)),t&&(t=$e)){if(ul(e))throw Md(),Error(N(418));for(;t;)Dd(e,t),t=Wt(t.nextSibling)}if(Ou(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$e=Wt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=Ue?Wt(e.stateNode.nextSibling):null;return!0}function Md(){for(var e=$e;e;)e=Wt(e.nextSibling)}function en(){$e=Ue=null,J=!1}function fo(e){Ze===null?Ze=[e]:Ze.push(e)}var Em=Et.ReactCurrentBatchConfig;function kn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function Os(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lu(e){var t=e._init;return t(e._payload)}function Fd(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Qt(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,p,g,_){return p===null||p.tag!==6?(p=Na(g,m.mode,_),p.return=m,p):(p=s(p,g),p.return=m,p)}function u(m,p,g,_){var k=g.type;return k===$r?d(m,p,g.props.children,_,g.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Lt&&Lu(k)===p.type)?(_=s(p,g.props),_.ref=kn(m,p,g),_.return=m,_):(_=Ys(g.type,g.key,g.props,null,m.mode,_),_.ref=kn(m,p,g),_.return=m,_)}function c(m,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Ea(g,m.mode,_),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,_,k){return p===null||p.tag!==7?(p=mr(g,m.mode,_,k),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Na(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _s:return g=Ys(p.type,p.key,p.props,null,m.mode,g),g.ref=kn(m,null,p),g.return=m,g;case Lr:return p=Ea(p,m.mode,g),p.return=m,p;case Lt:var _=p._init;return h(m,_(p._payload),g)}if(Cn(p)||yn(p))return p=mr(p,m.mode,g,null),p.return=m,p;Os(m,p)}return null}function f(m,p,g,_){var k=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:o(m,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _s:return g.key===k?u(m,p,g,_):null;case Lr:return g.key===k?c(m,p,g,_):null;case Lt:return k=g._init,f(m,p,k(g._payload),_)}if(Cn(g)||yn(g))return k!==null?null:d(m,p,g,_,null);Os(m,g)}return null}function y(m,p,g,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,o(p,m,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _s:return m=m.get(_.key===null?g:_.key)||null,u(p,m,_,k);case Lr:return m=m.get(_.key===null?g:_.key)||null,c(p,m,_,k);case Lt:var P=_._init;return y(m,p,g,P(_._payload),k)}if(Cn(_)||yn(_))return m=m.get(g)||null,d(p,m,_,k,null);Os(p,_)}return null}function v(m,p,g,_){for(var k=null,P=null,T=p,b=p=0,R=null;T!==null&&b<g.length;b++){T.index>b?(R=T,T=null):R=T.sibling;var E=f(m,T,g[b],_);if(E===null){T===null&&(T=R);break}e&&T&&E.alternate===null&&t(m,T),p=i(E,p,b),P===null?k=E:P.sibling=E,P=E,T=R}if(b===g.length)return r(m,T),J&&lr(m,b),k;if(T===null){for(;b<g.length;b++)T=h(m,g[b],_),T!==null&&(p=i(T,p,b),P===null?k=T:P.sibling=T,P=T);return J&&lr(m,b),k}for(T=n(m,T);b<g.length;b++)R=y(T,m,b,g[b],_),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?b:R.key),p=i(R,p,b),P===null?k=R:P.sibling=R,P=R);return e&&T.forEach(function(S){return t(m,S)}),J&&lr(m,b),k}function x(m,p,g,_){var k=yn(g);if(typeof k!="function")throw Error(N(150));if(g=k.call(g),g==null)throw Error(N(151));for(var P=k=null,T=p,b=p=0,R=null,E=g.next();T!==null&&!E.done;b++,E=g.next()){T.index>b?(R=T,T=null):R=T.sibling;var S=f(m,T,E.value,_);if(S===null){T===null&&(T=R);break}e&&T&&S.alternate===null&&t(m,T),p=i(S,p,b),P===null?k=S:P.sibling=S,P=S,T=R}if(E.done)return r(m,T),J&&lr(m,b),k;if(T===null){for(;!E.done;b++,E=g.next())E=h(m,E.value,_),E!==null&&(p=i(E,p,b),P===null?k=E:P.sibling=E,P=E);return J&&lr(m,b),k}for(T=n(m,T);!E.done;b++,E=g.next())E=y(T,m,b,E.value,_),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?b:E.key),p=i(E,p,b),P===null?k=E:P.sibling=E,P=E);return e&&T.forEach(function(U){return t(m,U)}),J&&lr(m,b),k}function j(m,p,g,_){if(typeof g=="object"&&g!==null&&g.type===$r&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case _s:e:{for(var k=g.key,P=p;P!==null;){if(P.key===k){if(k=g.type,k===$r){if(P.tag===7){r(m,P.sibling),p=s(P,g.props.children),p.return=m,m=p;break e}}else if(P.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Lt&&Lu(k)===P.type){r(m,P.sibling),p=s(P,g.props),p.ref=kn(m,P,g),p.return=m,m=p;break e}r(m,P);break}else t(m,P);P=P.sibling}g.type===$r?(p=mr(g.props.children,m.mode,_,g.key),p.return=m,m=p):(_=Ys(g.type,g.key,g.props,null,m.mode,_),_.ref=kn(m,p,g),_.return=m,m=_)}return a(m);case Lr:e:{for(P=g.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=Ea(g,m.mode,_),p.return=m,m=p}return a(m);case Lt:return P=g._init,j(m,p,P(g._payload),_)}if(Cn(g))return v(m,p,g,_);if(yn(g))return x(m,p,g,_);Os(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=Na(g,m.mode,_),p.return=m,m=p),a(m)):r(m,p)}return j}var tn=Fd(!0),Bd=Fd(!1),hi=er(null),fi=null,Br=null,po=null;function mo(){po=Br=fi=null}function go(e){var t=hi.current;Q(hi),e._currentValue=t}function dl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qr(e,t){fi=e,po=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(po!==e)if(e={context:e,memoizedValue:t,next:null},Br===null){if(fi===null)throw Error(N(308));Br=e,fi.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return t}var hr=null;function vo(e){hr===null?hr=[e]:hr.push(e)}function Vd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,vo(t)):(r.next=s.next,s.next=r),t.interleaved=r,St(e,n)}function St(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $t=!1;function yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,St(e,r)}return s=n.interleaved,s===null?(t.next=t,vo(n)):(t.next=s.next,s.next=t),n.interleaved=t,St(e,r)}function qs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ro(e,r)}}function $u(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pi(e,t,r,n){var s=e.updateQueue;$t=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,d=c=u=null,o=i;do{var f=o.lane,y=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,x=o;switch(f=t,y=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=ee({},h,f);break e;case 2:$t=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else y={eventTime:y,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=y,u=h):d=d.next=y,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);xr|=a,e.lanes=a,e.memoizedState=h}}function Uu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var ms={},ft=er(ms),ts=er(ms),rs=er(ms);function fr(e){if(e===ms)throw Error(N(174));return e}function xo(e,t){switch(G(rs,t),G(ts,e),G(ft,ms),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wa(t,e)}Q(ft),G(ft,t)}function rn(){Q(ft),Q(ts),Q(rs)}function Wd(e){fr(rs.current);var t=fr(ft.current),r=Wa(t,e.type);t!==r&&(G(ts,e),G(ft,r))}function wo(e){ts.current===e&&(Q(ft),Q(ts))}var Y=er(0);function mi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wa=[];function _o(){for(var e=0;e<wa.length;e++)wa[e]._workInProgressVersionPrimary=null;wa.length=0}var Gs=Et.ReactCurrentDispatcher,_a=Et.ReactCurrentBatchConfig,yr=0,Z=null,ae=null,de=null,gi=!1,In=!1,ns=0,Cm=0;function ge(){throw Error(N(321))}function jo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nt(e[r],t[r]))return!1;return!0}function ko(e,t,r,n,s,i){if(yr=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gs.current=e===null||e.memoizedState===null?Om:Lm,e=r(n,s),In){i=0;do{if(In=!1,ns=0,25<=i)throw Error(N(301));i+=1,de=ae=null,t.updateQueue=null,Gs.current=$m,e=r(n,s)}while(In)}if(Gs.current=vi,t=ae!==null&&ae.next!==null,yr=0,de=ae=Z=null,gi=!1,t)throw Error(N(300));return e}function bo(){var e=ns!==0;return ns=0,e}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Z.memoizedState=de=e:de=de.next=e,de}function qe(){if(ae===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var t=de===null?Z.memoizedState:de.next;if(t!==null)de=t,ae=e;else{if(e===null)throw Error(N(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},de===null?Z.memoizedState=de=e:de=de.next=e}return de}function ss(e,t){return typeof t=="function"?t(e):t}function ja(e){var t=qe(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=ae,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,c=i;do{var d=c.lane;if((yr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,a=n):u=u.next=h,Z.lanes|=d,xr|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=o,nt(n,t.memoizedState)||(Ee=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Z.lanes|=i,xr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ka(e){var t=qe(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);nt(i,t.memoizedState)||(Ee=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function qd(){}function Gd(e,t){var r=Z,n=qe(),s=t(),i=!nt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ee=!0),n=n.queue,So(Jd.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||de!==null&&de.memoizedState.tag&1){if(r.flags|=2048,is(9,Qd.bind(null,r,n,s,t),void 0,null),he===null)throw Error(N(349));yr&30||Kd(r,t,s)}return s}function Kd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Qd(e,t,r,n){t.value=r,t.getSnapshot=n,Xd(t)&&Yd(e)}function Jd(e,t,r){return r(function(){Xd(t)&&Yd(e)})}function Xd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nt(e,r)}catch{return!0}}function Yd(e){var t=St(e,1);t!==null&&tt(t,e,1,-1)}function Au(e){var t=ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},t.queue=e,e=e.dispatch=Rm.bind(null,Z,e),[t.memoizedState,e]}function is(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Zd(){return qe().memoizedState}function Ks(e,t,r,n){var s=ct();Z.flags|=e,s.memoizedState=is(1|t,r,void 0,n===void 0?null:n)}function Ai(e,t,r,n){var s=qe();n=n===void 0?null:n;var i=void 0;if(ae!==null){var a=ae.memoizedState;if(i=a.destroy,n!==null&&jo(n,a.deps)){s.memoizedState=is(t,r,i,n);return}}Z.flags|=e,s.memoizedState=is(1|t,r,i,n)}function Iu(e,t){return Ks(8390656,8,e,t)}function So(e,t){return Ai(2048,8,e,t)}function eh(e,t){return Ai(4,2,e,t)}function th(e,t){return Ai(4,4,e,t)}function rh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nh(e,t,r){return r=r!=null?r.concat([e]):null,Ai(4,4,rh.bind(null,t,e),r)}function No(){}function sh(e,t){var r=qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ih(e,t){var r=qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ah(e,t,r){return yr&21?(nt(r,t)||(r=dd(),Z.lanes|=r,xr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=r)}function Pm(e,t){var r=H;H=r!==0&&4>r?r:4,e(!0);var n=_a.transition;_a.transition={};try{e(!1),t()}finally{H=r,_a.transition=n}}function lh(){return qe().memoizedState}function Tm(e,t,r){var n=Kt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oh(e))uh(t,r);else if(r=Vd(e,t,r,n),r!==null){var s=_e();tt(r,e,n,s),ch(r,t,n)}}function Rm(e,t,r){var n=Kt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oh(e))uh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,nt(o,a)){var u=t.interleaved;u===null?(s.next=s,vo(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=Vd(e,t,s,n),r!==null&&(s=_e(),tt(r,e,n,s),ch(r,t,n))}}function oh(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function uh(e,t){In=gi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ch(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ro(e,r)}}var vi={readContext:We,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Om={readContext:We,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:Iu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ks(4194308,4,rh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ks(4,2,e,t)},useMemo:function(e,t){var r=ct();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ct();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Tm.bind(null,Z,e),[n.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:Au,useDebugValue:No,useDeferredValue:function(e){return ct().memoizedState=e},useTransition:function(){var e=Au(!1),t=e[0];return e=Pm.bind(null,e[1]),ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Z,s=ct();if(J){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),he===null)throw Error(N(349));yr&30||Kd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Iu(Jd.bind(null,n,i,e),[e]),n.flags|=2048,is(9,Qd.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ct(),t=he.identifierPrefix;if(J){var r=_t,n=wt;r=(n&~(1<<32-et(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ns++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Cm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lm={readContext:We,useCallback:sh,useContext:We,useEffect:So,useImperativeHandle:nh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:ih,useReducer:ja,useRef:Zd,useState:function(){return ja(ss)},useDebugValue:No,useDeferredValue:function(e){var t=qe();return ah(t,ae.memoizedState,e)},useTransition:function(){var e=ja(ss)[0],t=qe().memoizedState;return[e,t]},useMutableSource:qd,useSyncExternalStore:Gd,useId:lh,unstable_isNewReconciler:!1},$m={readContext:We,useCallback:sh,useContext:We,useEffect:So,useImperativeHandle:nh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:ih,useReducer:ka,useRef:Zd,useState:function(){return ka(ss)},useDebugValue:No,useDeferredValue:function(e){var t=qe();return ae===null?t.memoizedState=e:ah(t,ae.memoizedState,e)},useTransition:function(){var e=ka(ss)[0],t=qe().memoizedState;return[e,t]},useMutableSource:qd,useSyncExternalStore:Gd,useId:lh,unstable_isNewReconciler:!1};function Je(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ee({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ii={isMounted:function(e){return(e=e._reactInternals)?jr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Kt(e),i=jt(n,s);i.payload=t,r!=null&&(i.callback=r),t=qt(e,i,s),t!==null&&(tt(t,e,s,n),qs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Kt(e),i=jt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=qt(e,i,s),t!==null&&(tt(t,e,s,n),qs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_e(),n=Kt(e),s=jt(r,n);s.tag=2,t!=null&&(s.callback=t),t=qt(e,s,n),t!==null&&(tt(t,e,n,r),qs(t,e,n))}};function zu(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Xn(r,n)||!Xn(s,i):!0}function dh(e,t,r){var n=!1,s=Yt,i=t.contextType;return typeof i=="object"&&i!==null?i=We(i):(s=Pe(t)?gr:xe.current,n=t.contextTypes,i=(n=n!=null)?Zr(e,s):Yt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ii,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Du(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ii.enqueueReplaceState(t,t.state,null)}function fl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},yo(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=We(i):(i=Pe(t)?gr:xe.current,s.context=Zr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ii.enqueueReplaceState(s,s.state,null),pi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function nn(e,t){try{var r="",n=t;do r+=op(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ba(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function pl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Um=typeof WeakMap=="function"?WeakMap:Map;function hh(e,t,r){r=jt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){xi||(xi=!0,bl=n),pl(e,t)},r}function fh(e,t,r){r=jt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){pl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){pl(e,t),typeof n!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Mu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Um;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Qm.bind(null,e,t,r),t.then(e,e))}function Fu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jt(-1,1),t.tag=2,qt(r,t,1))),r.lanes|=1),e)}var Am=Et.ReactCurrentOwner,Ee=!1;function we(e,t,r,n){t.child=e===null?Bd(t,null,r,n):tn(t,e.child,r,n)}function Vu(e,t,r,n,s){r=r.render;var i=t.ref;return Qr(t,s),n=ko(e,t,r,n,i,s),r=bo(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(J&&r&&co(t),t.flags|=1,we(e,t,n,s),t.child)}function Hu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!$o(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,ph(e,t,i,n,s)):(e=Ys(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xn,r(a,n)&&e.ref===t.ref)return Nt(e,t,s)}return t.flags|=1,e=Qt(i,n),e.ref=t.ref,e.return=t,t.child=e}function ph(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Xn(i,n)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,Nt(e,t,s)}return ml(e,t,r,n,s)}function mh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Hr,Le),Le|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(Hr,Le),Le|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,G(Hr,Le),Le|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,G(Hr,Le),Le|=n;return we(e,t,s,r),t.child}function gh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ml(e,t,r,n,s){var i=Pe(r)?gr:xe.current;return i=Zr(t,i),Qr(t,s),r=ko(e,t,r,n,i,s),n=bo(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(J&&n&&co(t),t.flags|=1,we(e,t,r,s),t.child)}function Wu(e,t,r,n,s){if(Pe(r)){var i=!0;ui(t)}else i=!1;if(Qr(t,s),t.stateNode===null)Qs(e,t),dh(t,r,n),fl(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=We(c):(c=Pe(r)?gr:xe.current,c=Zr(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&Du(t,a,n,c),$t=!1;var f=t.memoizedState;a.state=f,pi(t,n,a,s),u=t.memoizedState,o!==n||f!==u||Ce.current||$t?(typeof d=="function"&&(hl(t,r,d,n),u=t.memoizedState),(o=$t||zu(t,r,o,n,f,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Hd(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Je(t.type,o),a.props=c,h=t.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=We(u):(u=Pe(r)?gr:xe.current,u=Zr(t,u));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==u)&&Du(t,a,n,u),$t=!1,f=t.memoizedState,a.state=f,pi(t,n,a,s);var v=t.memoizedState;o!==h||f!==v||Ce.current||$t?(typeof y=="function"&&(hl(t,r,y,n),v=t.memoizedState),(c=$t||zu(t,r,c,n,f,v,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return gl(e,t,r,n,i,s)}function gl(e,t,r,n,s,i){gh(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Tu(t,r,!1),Nt(e,t,i);n=t.stateNode,Am.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=tn(t,e.child,null,i),t.child=tn(t,null,o,i)):we(e,t,o,i),t.memoizedState=n.state,s&&Tu(t,r,!0),t.child}function vh(e){var t=e.stateNode;t.pendingContext?Pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pu(e,t.context,!1),xo(e,t.containerInfo)}function qu(e,t,r,n,s){return en(),fo(s),t.flags|=256,we(e,t,r,n),t.child}var vl={dehydrated:null,treeContext:null,retryLane:0};function yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function yh(e,t,r){var n=t.pendingProps,s=Y.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),G(Y,s&1),e===null)return cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Mi(a,n,0,null),e=mr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yl(r),t.memoizedState=vl,e):Eo(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Im(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Qt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Qt(o,i):(i=mr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?yl(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=vl,n}return i=e.child,e=i.sibling,n=Qt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Eo(e,t){return t=Mi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ls(e,t,r,n){return n!==null&&fo(n),tn(t,e.child,null,r),e=Eo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Im(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ba(Error(N(422))),Ls(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Mi({mode:"visible",children:n.children},s,0,null),i=mr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&tn(t,e.child,null,a),t.child.memoizedState=yl(a),t.memoizedState=vl,i);if(!(t.mode&1))return Ls(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(N(419)),n=ba(i,n,void 0),Ls(e,t,a,n)}if(o=(a&e.childLanes)!==0,Ee||o){if(n=he,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,St(e,s),tt(n,e,s,-1))}return Lo(),n=ba(Error(N(421))),Ls(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Jm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,$e=Wt(s.nextSibling),Ue=t,J=!0,Ze=null,e!==null&&(Me[Fe++]=wt,Me[Fe++]=_t,Me[Fe++]=vr,wt=e.id,_t=e.overflow,vr=t),t=Eo(t,n.children),t.flags|=4096,t)}function Gu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),dl(e.return,t,r)}function Sa(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function xh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(we(e,t,n.children,r),n=Y.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gu(e,r,t);else if(e.tag===19)Gu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(G(Y,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&mi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Sa(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Sa(t,!0,r,null,i);break;case"together":Sa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=Qt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zm(e,t,r){switch(t.tag){case 3:vh(t),en();break;case 5:Wd(t);break;case 1:Pe(t.type)&&ui(t);break;case 4:xo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;G(hi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(G(Y,Y.current&1),t.flags|=128,null):r&t.child.childLanes?yh(e,t,r):(G(Y,Y.current&1),e=Nt(e,t,r),e!==null?e.sibling:null);G(Y,Y.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return xh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(Y,Y.current),n)break;return null;case 22:case 23:return t.lanes=0,mh(e,t,r)}return Nt(e,t,r)}var wh,xl,_h,jh;wh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xl=function(){};_h=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,fr(ft.current);var i=null;switch(r){case"input":s=Fa(e,s),n=Fa(e,n),i=[];break;case"select":s=ee({},s,{value:void 0}),n=ee({},n,{value:void 0}),i=[];break;case"textarea":s=Ha(e,s),n=Ha(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=li)}qa(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&K("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};jh=function(e,t,r,n){r!==n&&(t.flags|=4)};function bn(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Dm(e,t,r){var n=t.pendingProps;switch(ho(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(t),null;case 1:return Pe(t.type)&&oi(),ve(t),null;case 3:return n=t.stateNode,rn(),Q(Ce),Q(xe),_o(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ze!==null&&(El(Ze),Ze=null))),xl(e,t),ve(t),null;case 5:wo(t);var s=fr(rs.current);if(r=t.type,e!==null&&t.stateNode!=null)_h(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return ve(t),null}if(e=fr(ft.current),Rs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[dt]=t,n[es]=i,e=(t.mode&1)!==0,r){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(s=0;s<Tn.length;s++)K(Tn[s],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":ru(n,i),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},K("invalid",n);break;case"textarea":su(n,i),K("invalid",n)}qa(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ts(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ts(n.textContent,o,e),s=["children",""+o]):Hn.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&K("scroll",n)}switch(r){case"input":js(n),nu(n,i,!0);break;case"textarea":js(n),iu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=li)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[dt]=t,e[es]=n,wh(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ga(r,n),r){case"dialog":K("cancel",e),K("close",e),s=n;break;case"iframe":case"object":case"embed":K("load",e),s=n;break;case"video":case"audio":for(s=0;s<Tn.length;s++)K(Tn[s],e);s=n;break;case"source":K("error",e),s=n;break;case"img":case"image":case"link":K("error",e),K("load",e),s=n;break;case"details":K("toggle",e),s=n;break;case"input":ru(e,n),s=Fa(e,n),K("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ee({},n,{value:void 0}),K("invalid",e);break;case"textarea":su(e,n),s=Ha(e,n),K("invalid",e);break;default:s=n}qa(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?Zc(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Xc(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Wn(e,u):typeof u=="number"&&Wn(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&K("scroll",e):u!=null&&Jl(e,i,u,a))}switch(r){case"input":js(e),nu(e,n,!1);break;case"textarea":js(e),iu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Wr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Wr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=li)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ve(t),null;case 6:if(e&&t.stateNode!=null)jh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=fr(rs.current),fr(ft.current),Rs(t)){if(n=t.stateNode,r=t.memoizedProps,n[dt]=t,(i=n.nodeValue!==r)&&(e=Ue,e!==null))switch(e.tag){case 3:Ts(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ts(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dt]=t,t.stateNode=n}return ve(t),null;case 13:if(Q(Y),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&$e!==null&&t.mode&1&&!(t.flags&128))Md(),en(),t.flags|=98560,i=!1;else if(i=Rs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[dt]=t}else en(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ve(t),i=!1}else Ze!==null&&(El(Ze),Ze=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Y.current&1?le===0&&(le=3):Lo())),t.updateQueue!==null&&(t.flags|=4),ve(t),null);case 4:return rn(),xl(e,t),e===null&&Yn(t.stateNode.containerInfo),ve(t),null;case 10:return go(t.type._context),ve(t),null;case 17:return Pe(t.type)&&oi(),ve(t),null;case 19:if(Q(Y),i=t.memoizedState,i===null)return ve(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)bn(i,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=mi(e),a!==null){for(t.flags|=128,bn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return G(Y,Y.current&1|2),t.child}e=e.sibling}i.tail!==null&&ne()>sn&&(t.flags|=128,n=!0,bn(i,!1),t.lanes=4194304)}else{if(!n)if(e=mi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!J)return ve(t),null}else 2*ne()-i.renderingStartTime>sn&&r!==1073741824&&(t.flags|=128,n=!0,bn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ne(),t.sibling=null,r=Y.current,G(Y,n?r&1|2:r&1),t):(ve(t),null);case 22:case 23:return Oo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Le&1073741824&&(ve(t),t.subtreeFlags&6&&(t.flags|=8192)):ve(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function Mm(e,t){switch(ho(t),t.tag){case 1:return Pe(t.type)&&oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rn(),Q(Ce),Q(xe),_o(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wo(t),null;case 13:if(Q(Y),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));en()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(Y),null;case 4:return rn(),null;case 10:return go(t.type._context),null;case 22:case 23:return Oo(),null;case 24:return null;default:return null}}var $s=!1,ye=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,$=null;function Vr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){te(e,t,n)}else r.current=null}function wl(e,t,r){try{r()}catch(n){te(e,t,n)}}var Ku=!1;function Bm(e,t){if(nl=si,e=Ed(),uo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++c===s&&(o=a),f===i&&++d===n&&(u=a),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(sl={focusedElem:e,selectionRange:r},si=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,j=v.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Je(t.type,x),j);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){te(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return v=Ku,Ku=!1,v}function zn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&wl(t,r,i)}s=s.next}while(s!==n)}}function zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _l(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function kh(e){var t=e.alternate;t!==null&&(e.alternate=null,kh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dt],delete t[es],delete t[ll],delete t[bm],delete t[Sm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bh(e){return e.tag===5||e.tag===3||e.tag===4}function Qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=li));else if(n!==4&&(e=e.child,e!==null))for(jl(e,t,r),e=e.sibling;e!==null;)jl(e,t,r),e=e.sibling}function kl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(kl(e,t,r),e=e.sibling;e!==null;)kl(e,t,r),e=e.sibling}var fe=null,Xe=!1;function Tt(e,t,r){for(r=r.child;r!==null;)Sh(e,t,r),r=r.sibling}function Sh(e,t,r){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Ti,r)}catch{}switch(r.tag){case 5:ye||Vr(r,t);case 6:var n=fe,s=Xe;fe=null,Tt(e,t,r),fe=n,Xe=s,fe!==null&&(Xe?(e=fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fe.removeChild(r.stateNode));break;case 18:fe!==null&&(Xe?(e=fe,r=r.stateNode,e.nodeType===8?ya(e.parentNode,r):e.nodeType===1&&ya(e,r),Qn(e)):ya(fe,r.stateNode));break;case 4:n=fe,s=Xe,fe=r.stateNode.containerInfo,Xe=!0,Tt(e,t,r),fe=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&wl(r,t,a),s=s.next}while(s!==n)}Tt(e,t,r);break;case 1:if(!ye&&(Vr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){te(r,t,o)}Tt(e,t,r);break;case 21:Tt(e,t,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,Tt(e,t,r),ye=n):Tt(e,t,r);break;default:Tt(e,t,r)}}function Ju(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Fm),t.forEach(function(n){var s=Xm.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ke(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:fe=o.stateNode,Xe=!1;break e;case 3:fe=o.stateNode.containerInfo,Xe=!0;break e;case 4:fe=o.stateNode.containerInfo,Xe=!0;break e}o=o.return}if(fe===null)throw Error(N(160));Sh(i,a,s),fe=null,Xe=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){te(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nh(t,e),t=t.sibling}function Nh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),ot(e),n&4){try{zn(3,e,e.return),zi(3,e)}catch(x){te(e,e.return,x)}try{zn(5,e,e.return)}catch(x){te(e,e.return,x)}}break;case 1:Ke(t,e),ot(e),n&512&&r!==null&&Vr(r,r.return);break;case 5:if(Ke(t,e),ot(e),n&512&&r!==null&&Vr(r,r.return),e.flags&32){var s=e.stateNode;try{Wn(s,"")}catch(x){te(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Kc(s,i),Ga(o,a);var c=Ga(o,i);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?Zc(s,h):d==="dangerouslySetInnerHTML"?Xc(s,h):d==="children"?Wn(s,h):Jl(s,d,h,c)}switch(o){case"input":Ba(s,i);break;case"textarea":Qc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Wr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Wr(s,!!i.multiple,i.defaultValue,!0):Wr(s,!!i.multiple,i.multiple?[]:"",!1))}s[es]=i}catch(x){te(e,e.return,x)}}break;case 6:if(Ke(t,e),ot(e),n&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){te(e,e.return,x)}}break;case 3:if(Ke(t,e),ot(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qn(t.containerInfo)}catch(x){te(e,e.return,x)}break;case 4:Ke(t,e),ot(e);break;case 13:Ke(t,e),ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(To=ne())),n&4&&Ju(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ye=(c=ye)||d,Ke(t,e),ye=c):Ke(t,e),ot(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(h=$=d;$!==null;){switch(f=$,y=f.child,f.tag){case 0:case 11:case 14:case 15:zn(4,f,f.return);break;case 1:Vr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){te(n,r,x)}}break;case 5:Vr(f,f.return);break;case 22:if(f.memoizedState!==null){Yu(h);continue}}y!==null?(y.return=f,$=y):Yu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Yc("display",a))}catch(x){te(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){te(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(t,e),ot(e),n&4&&Ju(e);break;case 21:break;default:Ke(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(bh(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Wn(s,""),n.flags&=-33);var i=Qu(e);kl(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Qu(e);jl(e,o,a);break;default:throw Error(N(161))}}catch(u){te(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vm(e,t,r){$=e,Eh(e)}function Eh(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||$s;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||ye;o=$s;var c=ye;if($s=a,(ye=u)&&!c)for($=s;$!==null;)a=$,u=a.child,a.tag===22&&a.memoizedState!==null?Zu(s):u!==null?(u.return=a,$=u):Zu(s);for(;i!==null;)$=i,Eh(i),i=i.sibling;$=s,$s=o,ye=c}Xu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Xu(e)}}function Xu(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||zi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Je(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Uu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Uu(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}ye||t.flags&512&&_l(t)}catch(f){te(t,t.return,f)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Yu(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Zu(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zi(4,t)}catch(u){te(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){te(t,s,u)}}var i=t.return;try{_l(t)}catch(u){te(t,i,u)}break;case 5:var a=t.return;try{_l(t)}catch(u){te(t,a,u)}}}catch(u){te(t,t.return,u)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var Hm=Math.ceil,yi=Et.ReactCurrentDispatcher,Co=Et.ReactCurrentOwner,Ve=Et.ReactCurrentBatchConfig,V=0,he=null,ie=null,pe=0,Le=0,Hr=er(0),le=0,as=null,xr=0,Di=0,Po=0,Dn=null,Se=null,To=0,sn=1/0,gt=null,xi=!1,bl=null,Gt=null,Us=!1,Mt=null,wi=0,Mn=0,Sl=null,Js=-1,Xs=0;function _e(){return V&6?ne():Js!==-1?Js:Js=ne()}function Kt(e){return e.mode&1?V&2&&pe!==0?pe&-pe:Em.transition!==null?(Xs===0&&(Xs=dd()),Xs):(e=H,e!==0||(e=window.event,e=e===void 0?16:yd(e.type)),e):1}function tt(e,t,r,n){if(50<Mn)throw Mn=0,Sl=null,Error(N(185));hs(e,r,n),(!(V&2)||e!==he)&&(e===he&&(!(V&2)&&(Di|=r),le===4&&It(e,pe)),Te(e,n),r===1&&V===0&&!(t.mode&1)&&(sn=ne()+500,Ui&&tr()))}function Te(e,t){var r=e.callbackNode;Ep(e,t);var n=ni(e,e===he?pe:0);if(n===0)r!==null&&ou(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ou(r),t===1)e.tag===0?Nm(ec.bind(null,e)):Id(ec.bind(null,e)),jm(function(){!(V&6)&&tr()}),r=null;else{switch(hd(n)){case 1:r=to;break;case 4:r=ud;break;case 16:r=ri;break;case 536870912:r=cd;break;default:r=ri}r=Uh(r,Ch.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ch(e,t){if(Js=-1,Xs=0,V&6)throw Error(N(327));var r=e.callbackNode;if(Jr()&&e.callbackNode!==r)return null;var n=ni(e,e===he?pe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_i(e,n);else{t=n;var s=V;V|=2;var i=Th();(he!==e||pe!==t)&&(gt=null,sn=ne()+500,pr(e,t));do try{Gm();break}catch(o){Ph(e,o)}while(!0);mo(),yi.current=i,V=s,ie!==null?t=0:(he=null,pe=0,t=le)}if(t!==0){if(t===2&&(s=Ya(e),s!==0&&(n=s,t=Nl(e,s))),t===1)throw r=as,pr(e,0),It(e,n),Te(e,ne()),r;if(t===6)It(e,n);else{if(s=e.current.alternate,!(n&30)&&!Wm(s)&&(t=_i(e,n),t===2&&(i=Ya(e),i!==0&&(n=i,t=Nl(e,i))),t===1))throw r=as,pr(e,0),It(e,n),Te(e,ne()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:or(e,Se,gt);break;case 3:if(It(e,n),(n&130023424)===n&&(t=To+500-ne(),10<t)){if(ni(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_e(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=al(or.bind(null,e,Se,gt),t);break}or(e,Se,gt);break;case 4:if(It(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-et(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hm(n/1960))-n,10<n){e.timeoutHandle=al(or.bind(null,e,Se,gt),n);break}or(e,Se,gt);break;case 5:or(e,Se,gt);break;default:throw Error(N(329))}}}return Te(e,ne()),e.callbackNode===r?Ch.bind(null,e):null}function Nl(e,t){var r=Dn;return e.current.memoizedState.isDehydrated&&(pr(e,t).flags|=256),e=_i(e,t),e!==2&&(t=Se,Se=r,t!==null&&El(t)),e}function El(e){Se===null?Se=e:Se.push.apply(Se,e)}function Wm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!nt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~Po,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-et(t),n=1<<r;e[r]=-1,t&=~n}}function ec(e){if(V&6)throw Error(N(327));Jr();var t=ni(e,0);if(!(t&1))return Te(e,ne()),null;var r=_i(e,t);if(e.tag!==0&&r===2){var n=Ya(e);n!==0&&(t=n,r=Nl(e,n))}if(r===1)throw r=as,pr(e,0),It(e,t),Te(e,ne()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,Se,gt),Te(e,ne()),null}function Ro(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(sn=ne()+500,Ui&&tr())}}function wr(e){Mt!==null&&Mt.tag===0&&!(V&6)&&Jr();var t=V;V|=1;var r=Ve.transition,n=H;try{if(Ve.transition=null,H=1,e)return e()}finally{H=n,Ve.transition=r,V=t,!(V&6)&&tr()}}function Oo(){Le=Hr.current,Q(Hr)}function pr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_m(r)),ie!==null)for(r=ie.return;r!==null;){var n=r;switch(ho(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&oi();break;case 3:rn(),Q(Ce),Q(xe),_o();break;case 5:wo(n);break;case 4:rn();break;case 13:Q(Y);break;case 19:Q(Y);break;case 10:go(n.type._context);break;case 22:case 23:Oo()}r=r.return}if(he=e,ie=e=Qt(e.current,null),pe=Le=t,le=0,as=null,Po=Di=xr=0,Se=Dn=null,hr!==null){for(t=0;t<hr.length;t++)if(r=hr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}hr=null}return e}function Ph(e,t){do{var r=ie;try{if(mo(),Gs.current=vi,gi){for(var n=Z.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}gi=!1}if(yr=0,de=ae=Z=null,In=!1,ns=0,Co.current=null,r===null||r.return===null){le=1,as=t,ie=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=pe,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Fu(a);if(y!==null){y.flags&=-257,Bu(y,a,o,i,t),y.mode&1&&Mu(i,c,t),t=y,u=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(u),t.updateQueue=x}else v.add(u);break e}else{if(!(t&1)){Mu(i,c,t),Lo();break e}u=Error(N(426))}}else if(J&&o.mode&1){var j=Fu(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Bu(j,a,o,i,t),fo(nn(u,o));break e}}i=u=nn(u,o),le!==4&&(le=2),Dn===null?Dn=[i]:Dn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=hh(i,u,t);$u(i,m);break e;case 1:o=u;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gt===null||!Gt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=fh(i,o,t);$u(i,_);break e}}i=i.return}while(i!==null)}Oh(r)}catch(k){t=k,ie===r&&r!==null&&(ie=r=r.return);continue}break}while(!0)}function Th(){var e=yi.current;return yi.current=vi,e===null?vi:e}function Lo(){(le===0||le===3||le===2)&&(le=4),he===null||!(xr&268435455)&&!(Di&268435455)||It(he,pe)}function _i(e,t){var r=V;V|=2;var n=Th();(he!==e||pe!==t)&&(gt=null,pr(e,t));do try{qm();break}catch(s){Ph(e,s)}while(!0);if(mo(),V=r,yi.current=n,ie!==null)throw Error(N(261));return he=null,pe=0,le}function qm(){for(;ie!==null;)Rh(ie)}function Gm(){for(;ie!==null&&!yp();)Rh(ie)}function Rh(e){var t=$h(e.alternate,e,Le);e.memoizedProps=e.pendingProps,t===null?Oh(e):ie=t,Co.current=null}function Oh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Mm(r,t),r!==null){r.flags&=32767,ie=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,ie=null;return}}else if(r=Dm(r,t,Le),r!==null){ie=r;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);le===0&&(le=5)}function or(e,t,r){var n=H,s=Ve.transition;try{Ve.transition=null,H=1,Km(e,t,r,n)}finally{Ve.transition=s,H=n}return null}function Km(e,t,r,n){do Jr();while(Mt!==null);if(V&6)throw Error(N(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Cp(e,i),e===he&&(ie=he=null,pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Us||(Us=!0,Uh(ri,function(){return Jr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ve.transition,Ve.transition=null;var a=H;H=1;var o=V;V|=4,Co.current=null,Bm(e,r),Nh(r,e),pm(sl),si=!!nl,sl=nl=null,e.current=r,Vm(r),xp(),V=o,H=a,Ve.transition=i}else e.current=r;if(Us&&(Us=!1,Mt=e,wi=s),i=e.pendingLanes,i===0&&(Gt=null),jp(r.stateNode),Te(e,ne()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(xi)throw xi=!1,e=bl,bl=null,e;return wi&1&&e.tag!==0&&Jr(),i=e.pendingLanes,i&1?e===Sl?Mn++:(Mn=0,Sl=e):Mn=0,tr(),null}function Jr(){if(Mt!==null){var e=hd(wi),t=Ve.transition,r=H;try{if(Ve.transition=null,H=16>e?16:e,Mt===null)var n=!1;else{if(e=Mt,Mt=null,wi=0,V&6)throw Error(N(331));var s=V;for(V|=4,$=e.current;$!==null;){var i=$,a=i.child;if($.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:zn(8,d,i)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var f=d.sibling,y=d.return;if(kh(d),d===c){$=null;break}if(f!==null){f.return=y,$=f;break}$=y}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}$=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,$=a;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,$=m;break e}$=i.return}}var p=e.current;for($=p;$!==null;){a=$;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,$=g;else e:for(a=p;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:zi(9,o)}}catch(k){te(o,o.return,k)}if(o===a){$=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,$=_;break e}$=o.return}}if(V=s,tr(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Ti,e)}catch{}n=!0}return n}finally{H=r,Ve.transition=t}}return!1}function tc(e,t,r){t=nn(r,t),t=hh(e,t,1),e=qt(e,t,1),t=_e(),e!==null&&(hs(e,1,t),Te(e,t))}function te(e,t,r){if(e.tag===3)tc(e,e,r);else for(;t!==null;){if(t.tag===3){tc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gt===null||!Gt.has(n))){e=nn(r,e),e=fh(t,e,1),t=qt(t,e,1),e=_e(),t!==null&&(hs(t,1,e),Te(t,e));break}}t=t.return}}function Qm(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&r,he===e&&(pe&r)===r&&(le===4||le===3&&(pe&130023424)===pe&&500>ne()-To?pr(e,0):Po|=r),Te(e,t)}function Lh(e,t){t===0&&(e.mode&1?(t=Ss,Ss<<=1,!(Ss&130023424)&&(Ss=4194304)):t=1);var r=_e();e=St(e,t),e!==null&&(hs(e,t,r),Te(e,r))}function Jm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Lh(e,r)}function Xm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),Lh(e,r)}var $h;$h=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ce.current)Ee=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ee=!1,zm(e,t,r);Ee=!!(e.flags&131072)}else Ee=!1,J&&t.flags&1048576&&zd(t,di,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qs(e,t),e=t.pendingProps;var s=Zr(t,xe.current);Qr(t,r),s=ko(null,t,n,e,s,r);var i=bo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(n)?(i=!0,ui(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yo(t),s.updater=Ii,t.stateNode=s,s._reactInternals=t,fl(t,n,e,r),t=gl(null,t,n,!0,i,r)):(t.tag=0,J&&i&&co(t),we(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Qs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Zm(n),e=Je(n,e),s){case 0:t=ml(null,t,n,e,r);break e;case 1:t=Wu(null,t,n,e,r);break e;case 11:t=Vu(null,t,n,e,r);break e;case 14:t=Hu(null,t,n,Je(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Je(n,s),ml(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Je(n,s),Wu(e,t,n,s,r);case 3:e:{if(vh(t),e===null)throw Error(N(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Hd(e,t),pi(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=nn(Error(N(423)),t),t=qu(e,t,n,r,s);break e}else if(n!==s){s=nn(Error(N(424)),t),t=qu(e,t,n,r,s);break e}else for($e=Wt(t.stateNode.containerInfo.firstChild),Ue=t,J=!0,Ze=null,r=Bd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(en(),n===s){t=Nt(e,t,r);break e}we(e,t,n,r)}t=t.child}return t;case 5:return Wd(t),e===null&&cl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,il(n,s)?a=null:i!==null&&il(n,i)&&(t.flags|=32),gh(e,t),we(e,t,a,r),t.child;case 6:return e===null&&cl(t),null;case 13:return yh(e,t,r);case 4:return xo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=tn(t,null,n,r):we(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Je(n,s),Vu(e,t,n,s,r);case 7:return we(e,t,t.pendingProps,r),t.child;case 8:return we(e,t,t.pendingProps.children,r),t.child;case 12:return we(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,G(hi,n._currentValue),n._currentValue=a,i!==null)if(nt(i.value,a)){if(i.children===s.children&&!Ce.current){t=Nt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=jt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),dl(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),dl(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}we(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Qr(t,r),s=We(s),n=n(s),t.flags|=1,we(e,t,n,r),t.child;case 14:return n=t.type,s=Je(n,t.pendingProps),s=Je(n.type,s),Hu(e,t,n,s,r);case 15:return ph(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Je(n,s),Qs(e,t),t.tag=1,Pe(n)?(e=!0,ui(t)):e=!1,Qr(t,r),dh(t,n,s),fl(t,n,s,r),gl(null,t,n,!0,e,r);case 19:return xh(e,t,r);case 22:return mh(e,t,r)}throw Error(N(156,t.tag))};function Uh(e,t){return od(e,t)}function Ym(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(e,t,r,n){return new Ym(e,t,r,n)}function $o(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zm(e){if(typeof e=="function")return $o(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yl)return 11;if(e===Zl)return 14}return 2}function Qt(e,t){var r=e.alternate;return r===null?(r=Be(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ys(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")$o(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case $r:return mr(r.children,s,i,t);case Xl:a=8,s|=8;break;case Ia:return e=Be(12,r,t,s|2),e.elementType=Ia,e.lanes=i,e;case za:return e=Be(13,r,t,s),e.elementType=za,e.lanes=i,e;case Da:return e=Be(19,r,t,s),e.elementType=Da,e.lanes=i,e;case Wc:return Mi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vc:a=10;break e;case Hc:a=9;break e;case Yl:a=11;break e;case Zl:a=14;break e;case Lt:a=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Be(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function mr(e,t,r,n){return e=Be(7,e,n,t),e.lanes=r,e}function Mi(e,t,r,n){return e=Be(22,e,n,t),e.elementType=Wc,e.lanes=r,e.stateNode={isHidden:!1},e}function Na(e,t,r){return e=Be(6,e,null,t),e.lanes=r,e}function Ea(e,t,r){return t=Be(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uo(e,t,r,n,s,i,a,o,u){return e=new eg(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Be(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yo(i),e}function tg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ah(e){if(!e)return Yt;e=e._reactInternals;e:{if(jr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(Pe(r))return Ad(e,r,t)}return t}function Ih(e,t,r,n,s,i,a,o,u){return e=Uo(r,n,!0,e,s,i,a,o,u),e.context=Ah(null),r=e.current,n=_e(),s=Kt(r),i=jt(n,s),i.callback=t??null,qt(r,i,s),e.current.lanes=s,hs(e,s,n),Te(e,n),e}function Fi(e,t,r,n){var s=t.current,i=_e(),a=Kt(s);return r=Ah(r),t.context===null?t.context=r:t.pendingContext=r,t=jt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qt(s,t,a),e!==null&&(tt(e,s,a,i),qs(e,s,a)),a}function ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ao(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}function rg(){return null}var zh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Io(e){this._internalRoot=e}Bi.prototype.render=Io.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Fi(e,t,null,null)};Bi.prototype.unmount=Io.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wr(function(){Fi(null,e,null,null)}),t[bt]=null}};function Bi(e){this._internalRoot=e}Bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=md();e={blockedOn:null,target:e,priority:t};for(var r=0;r<At.length&&t!==0&&t<At[r].priority;r++);At.splice(r,0,e),r===0&&vd(e)}};function zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nc(){}function ng(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ji(a);i.call(c)}}var a=Ih(t,n,e,0,null,!1,!1,"",nc);return e._reactRootContainer=a,e[bt]=a.current,Yn(e.nodeType===8?e.parentNode:e),wr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=ji(u);o.call(c)}}var u=Uo(e,0,!1,null,null,!1,!1,"",nc);return e._reactRootContainer=u,e[bt]=u.current,Yn(e.nodeType===8?e.parentNode:e),wr(function(){Fi(t,u,r,n)}),u}function Hi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=ji(a);o.call(u)}}Fi(t,a,e,s)}else a=ng(r,t,e,s,n);return ji(a)}fd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Pn(t.pendingLanes);r!==0&&(ro(t,r|1),Te(t,ne()),!(V&6)&&(sn=ne()+500,tr()))}break;case 13:wr(function(){var n=St(e,1);if(n!==null){var s=_e();tt(n,e,1,s)}}),Ao(e,1)}};no=function(e){if(e.tag===13){var t=St(e,134217728);if(t!==null){var r=_e();tt(t,e,134217728,r)}Ao(e,134217728)}};pd=function(e){if(e.tag===13){var t=Kt(e),r=St(e,t);if(r!==null){var n=_e();tt(r,e,t,n)}Ao(e,t)}};md=function(){return H};gd=function(e,t){var r=H;try{return H=e,t()}finally{H=r}};Qa=function(e,t,r){switch(t){case"input":if(Ba(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=$i(n);if(!s)throw Error(N(90));Gc(n),Ba(n,s)}}}break;case"textarea":Qc(e,r);break;case"select":t=r.value,t!=null&&Wr(e,!!r.multiple,t,!1)}};rd=Ro;nd=wr;var sg={usingClientEntryPoint:!1,Events:[ps,zr,$i,ed,td,Ro]},Sn={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ig={bundleType:Sn.bundleType,version:Sn.version,rendererPackageName:Sn.rendererPackageName,rendererConfig:Sn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ad(e),e===null?null:e.stateNode},findFiberByHostInstance:Sn.findFiberByHostInstance||rg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var As=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!As.isDisabled&&As.supportsFiber)try{Ti=As.inject(ig),ht=As}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sg;Ie.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zo(t))throw Error(N(200));return tg(e,t,null,r)};Ie.createRoot=function(e,t){if(!zo(e))throw Error(N(299));var r=!1,n="",s=zh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Uo(e,1,!1,null,null,r,!1,n,s),e[bt]=t.current,Yn(e.nodeType===8?e.parentNode:e),new Io(t)};Ie.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=ad(t),e=e===null?null:e.stateNode,e};Ie.flushSync=function(e){return wr(e)};Ie.hydrate=function(e,t,r){if(!Vi(t))throw Error(N(200));return Hi(null,e,t,!0,r)};Ie.hydrateRoot=function(e,t,r){if(!zo(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=zh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Ih(t,null,e,1,r??null,s,!1,i,a),e[bt]=t.current,Yn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Bi(t)};Ie.render=function(e,t,r){if(!Vi(t))throw Error(N(200));return Hi(null,e,t,!1,r)};Ie.unmountComponentAtNode=function(e){if(!Vi(e))throw Error(N(40));return e._reactRootContainer?(wr(function(){Hi(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};Ie.unstable_batchedUpdates=Ro;Ie.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vi(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Hi(e,t,r,!1,n)};Ie.version="18.3.1-next-f1338f8080-20240426";function Dh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dh)}catch(e){console.error(e)}}Dh(),Dc.exports=Ie;var ag=Dc.exports,Mh,sc=ag;Mh=sc.createRoot,sc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(this,arguments)}var Ft;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ft||(Ft={}));const ic="popstate";function lg(e){e===void 0&&(e={});function t(s,i){let{pathname:a="/",search:o="",hash:u=""}=kr(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Cl("",{pathname:a,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let a=s.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let u=s.location.href,c=u.indexOf("#");o=c===-1?u:u.slice(0,c)}return o+"#"+(typeof i=="string"?i:ki(i))}function n(s,i){Do(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return ug(t,r,n,e)}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Do(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function og(){return Math.random().toString(36).substr(2,8)}function ac(e,t){return{usr:e.state,key:e.key,idx:t}}function Cl(e,t,r,n){return r===void 0&&(r=null),ls({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kr(t):t,{state:r,key:t&&t.key||n||og()})}function ki(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function kr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ug(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Ft.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(ls({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Ft.Pop;let j=d(),m=j==null?null:j-c;c=j,u&&u({action:o,location:x.location,delta:m})}function f(j,m){o=Ft.Push;let p=Cl(x.location,j,m);r&&r(p,j),c=d()+1;let g=ac(p,c),_=x.createHref(p);try{a.pushState(g,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}i&&u&&u({action:o,location:x.location,delta:1})}function y(j,m){o=Ft.Replace;let p=Cl(x.location,j,m);r&&r(p,j),c=d();let g=ac(p,c),_=x.createHref(p);a.replaceState(g,"",_),i&&u&&u({action:o,location:x.location,delta:0})}function v(j){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof j=="string"?j:ki(j);return p=p.replace(/ $/,"%20"),re(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let x={get action(){return o},get location(){return e(s,a)},listen(j){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(ic,h),u=j,()=>{s.removeEventListener(ic,h),u=null}},createHref(j){return t(s,j)},createURL:v,encodeLocation(j){let m=v(j);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:y,go(j){return a.go(j)}};return x}var lc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lc||(lc={}));function cg(e,t,r){return r===void 0&&(r="/"),dg(e,t,r,!1)}function dg(e,t,r,n){let s=typeof t=="string"?kr(t):t,i=an(s.pathname||"/",r);if(i==null)return null;let a=Fh(e);hg(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=kg(i);o=_g(a[u],c,n)}return o}function Fh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(re(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Jt([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Fh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:xg(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let u of Bh(i.path))s(i,a,u)}),t}function Bh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Bh(n.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function hg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:wg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fg=/^:[\w-]+$/,pg=3,mg=2,gg=1,vg=10,yg=-2,oc=e=>e==="*";function xg(e,t){let r=e.split("/"),n=r.length;return r.some(oc)&&(n+=yg),t&&(n+=mg),r.filter(s=>!oc(s)).reduce((s,i)=>s+(fg.test(i)?pg:i===""?gg:vg),n)}function wg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function _g(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=bi({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=bi({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Jt([i,h.pathname]),pathnameBase:Eg(Jt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Jt([i,h.pathnameBase]))}return a}function bi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let x=o[h]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=o[h];return y&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function jg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Do(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function kg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Do(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function an(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function bg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?kr(e):e;return{pathname:r?r.startsWith("/")?r:Sg(r,t):t,search:Cg(n),hash:Pg(s)}}function Sg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ca(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ng(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Vh(e,t){let r=Ng(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hh(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=kr(e):(s=ls({},e),re(!s.pathname||!s.pathname.includes("?"),Ca("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),Ca("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),Ca("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let u=bg(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Jt=e=>e.join("/").replace(/\/\/+/g,"/"),Eg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Wh=["post","put","patch","delete"];new Set(Wh);const Rg=["get",...Wh];new Set(Rg);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(this,arguments)}const Wi=w.createContext(null),qh=w.createContext(null),rr=w.createContext(null),qi=w.createContext(null),nr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Gh=w.createContext(null);function Og(e,t){let{relative:r}=t===void 0?{}:t;gs()||re(!1);let{basename:n,navigator:s}=w.useContext(rr),{hash:i,pathname:a,search:o}=Gi(e,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:Jt([n,a])),s.createHref({pathname:u,search:o,hash:i})}function gs(){return w.useContext(qi)!=null}function pn(){return gs()||re(!1),w.useContext(qi).location}function Kh(e){w.useContext(rr).static||w.useLayoutEffect(e)}function sr(){let{isDataRoute:e}=w.useContext(nr);return e?qg():Lg()}function Lg(){gs()||re(!1);let e=w.useContext(Wi),{basename:t,future:r,navigator:n}=w.useContext(rr),{matches:s}=w.useContext(nr),{pathname:i}=pn(),a=JSON.stringify(Vh(s,r.v7_relativeSplatPath)),o=w.useRef(!1);return Kh(()=>{o.current=!0}),w.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=Hh(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Jt([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}function $g(){let{matches:e}=w.useContext(nr),t=e[e.length-1];return t?t.params:{}}function Gi(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(rr),{matches:s}=w.useContext(nr),{pathname:i}=pn(),a=JSON.stringify(Vh(s,n.v7_relativeSplatPath));return w.useMemo(()=>Hh(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function Ug(e,t){return Ag(e,t)}function Ag(e,t,r,n){gs()||re(!1);let{navigator:s,static:i}=w.useContext(rr),{matches:a}=w.useContext(nr),o=a[a.length-1],u=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=pn(),h;if(t){var f;let m=typeof t=="string"?kr(t):t;c==="/"||(f=m.pathname)!=null&&f.startsWith(c)||re(!1),h=m}else h=d;let y=h.pathname||"/",v=y;if(c!=="/"){let m=c.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(m.length).join("/")}let x=!i&&r&&r.matches&&r.matches.length>0?r.matches:cg(e,{pathname:v}),j=Fg(x&&x.map(m=>Object.assign({},m,{params:Object.assign({},u,m.params),pathname:Jt([c,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Jt([c,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),a,r,n);return t&&j?w.createElement(qi.Provider,{value:{location:os({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ft.Pop}},j):j}function Ig(){let e=Wg(),t=Tg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,null)}const zg=w.createElement(Ig,null);class Dg extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(nr.Provider,{value:this.props.routeContext},w.createElement(Gh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mg(e){let{routeContext:t,match:r,children:n}=e,s=w.useContext(Wi);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(nr.Provider,{value:t},n)}function Fg(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||re(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:y}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let y,v=!1,x=null,j=null;r&&(y=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||zg,u&&(c<0&&f===0?(v=!0,j=null):c===f&&(v=!0,j=h.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,f+1)),p=()=>{let g;return y?g=x:v?g=j:h.route.Component?g=w.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,w.createElement(Mg,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(Dg,{location:r.location,revalidation:r.revalidation,component:x,error:y,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Qh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Qh||{}),Si=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Si||{});function Bg(e){let t=w.useContext(Wi);return t||re(!1),t}function Vg(e){let t=w.useContext(qh);return t||re(!1),t}function Hg(e){let t=w.useContext(nr);return t||re(!1),t}function Jh(e){let t=Hg(),r=t.matches[t.matches.length-1];return r.route.id||re(!1),r.route.id}function Wg(){var e;let t=w.useContext(Gh),r=Vg(Si.UseRouteError),n=Jh(Si.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function qg(){let{router:e}=Bg(Qh.UseNavigateStable),t=Jh(Si.UseNavigateStable),r=w.useRef(!1);return Kh(()=>{r.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,os({fromRouteId:t},i)))},[e,t])}function Gg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Qe(e){re(!1)}function Kg(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ft.Pop,navigator:i,static:a=!1,future:o}=e;gs()&&re(!1);let u=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:u,navigator:i,static:a,future:os({v7_relativeSplatPath:!1},o)}),[u,o,i,a]);typeof n=="string"&&(n=kr(n));let{pathname:d="/",search:h="",hash:f="",state:y=null,key:v="default"}=n,x=w.useMemo(()=>{let j=an(d,u);return j==null?null:{location:{pathname:j,search:h,hash:f,state:y,key:v},navigationType:s}},[u,d,h,f,y,v,s]);return x==null?null:w.createElement(rr.Provider,{value:c},w.createElement(qi.Provider,{children:r,value:x}))}function Qg(e){let{children:t,location:r}=e;return Ug(Pl(t),r)}new Promise(()=>{});function Pl(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,Pl(n.props.children,i));return}n.type!==Qe&&re(!1),!n.props.index||!n.props.children||re(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Pl(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}function Xh(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Jg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Xg(e,t){return e.button===0&&(!t||t==="_self")&&!Jg(e)}const Yg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zg=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],e0="6";try{window.__reactRouterVersion=e0}catch{}const t0=w.createContext({isTransitioning:!1}),r0="startTransition",uc=Qf[r0];function n0(e){let{basename:t,children:r,future:n,window:s}=e,i=w.useRef();i.current==null&&(i.current=lg({window:s,v5Compat:!0}));let a=i.current,[o,u]=w.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=w.useCallback(h=>{c&&uc?uc(()=>u(h)):u(h)},[u,c]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.useEffect(()=>Gg(n),[n]),w.createElement(Kg,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const s0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,us=w.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:u,to:c,preventScrollReset:d,viewTransition:h}=t,f=Xh(t,Yg),{basename:y}=w.useContext(rr),v,x=!1;if(typeof c=="string"&&i0.test(c)&&(v=c,s0))try{let g=new URL(window.location.href),_=c.startsWith("//")?new URL(g.protocol+c):new URL(c),k=an(_.pathname,y);_.origin===g.origin&&k!=null?c=k+_.search+_.hash:x=!0}catch{}let j=Og(c,{relative:s}),m=l0(c,{replace:a,state:o,target:u,preventScrollReset:d,relative:s,viewTransition:h});function p(g){n&&n(g),g.defaultPrevented||m(g)}return w.createElement("a",Ni({},f,{href:v||j,onClick:x||i?n:p,ref:r,target:u}))}),Er=w.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:c,children:d}=t,h=Xh(t,Zg),f=Gi(u,{relative:h.relative}),y=pn(),v=w.useContext(qh),{navigator:x,basename:j}=w.useContext(rr),m=v!=null&&o0(f)&&c===!0,p=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,g=y.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(g=g.toLowerCase(),_=_?_.toLowerCase():null,p=p.toLowerCase()),_&&j&&(_=an(_,j)||_);const k=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let P=g===p||!a&&g.startsWith(p)&&g.charAt(k)==="/",T=_!=null&&(_===p||!a&&_.startsWith(p)&&_.charAt(p.length)==="/"),b={isActive:P,isPending:T,isTransitioning:m},R=P?n:void 0,E;typeof i=="function"?E=i(b):E=[i,P?"active":null,T?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let S=typeof o=="function"?o(b):o;return w.createElement(us,Ni({},h,{"aria-current":R,className:E,ref:r,style:S,to:u,viewTransition:c}),typeof d=="function"?d(b):d)});var Tl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Tl||(Tl={}));var cc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cc||(cc={}));function a0(e){let t=w.useContext(Wi);return t||re(!1),t}function l0(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,u=sr(),c=pn(),d=Gi(e,{relative:a});return w.useCallback(h=>{if(Xg(h,r)){h.preventDefault();let f=n!==void 0?n:ki(c)===ki(d);u(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,u,d,n,s,r,e,i,a,o])}function o0(e,t){t===void 0&&(t={});let r=w.useContext(t0);r==null&&re(!1);let{basename:n}=a0(Tl.useViewTransitionState),s=Gi(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=an(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=an(r.nextLocation.pathname,n)||r.nextLocation.pathname;return bi(s.pathname,a)!=null||bi(s.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,...c},d)=>w.createElement("svg",{ref:d,...u0,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${c0(e)}`,o].join(" "),...c},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=D("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=D("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=D("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=D("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=D("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=D("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=D("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=D("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=D("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=D("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=D("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=D("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=D("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=D("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=D("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=D("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=D("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=D("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=D("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=D("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=D("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=D("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=D("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=D("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=D("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=D("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=D("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=D("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=D("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=D("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=D("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),T0="modulepreload",R0=function(e){return"/Nexus/"+e},fc={},un=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=R0(u),u in fc)return;fc[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":T0,c||(h.as="script"),h.crossOrigin="",h.href=u,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},O0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>un(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Fo extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class L0 extends Fo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $0 extends Fo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class U0 extends Fo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Al;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Al||(Al={}));var A0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class I0{constructor(t,{headers:r={},customFetch:n,region:s=Al.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=O0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return A0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(o["x-region"]=u);let c;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:c}).catch(v=>{throw new L0(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new $0(d);if(!d.ok)throw new U0(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield d.json():f==="application/octet-stream"?y=yield d.blob():f==="text/event-stream"?y=d:f==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Ne={},Bo={},Qi={},vs={},Ji={},Xi={},z0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cn=z0();const D0=cn.fetch,sf=cn.fetch.bind(cn),af=cn.Headers,M0=cn.Request,F0=cn.Response,mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:af,Request:M0,Response:F0,default:sf,fetch:D0},Symbol.toStringTag,{value:"Module"})),B0=Of(mn);var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});let V0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Yi.default=V0;var lf=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xi,"__esModule",{value:!0});const H0=lf(B0),W0=lf(Yi);let q0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=H0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,u;let c=null,d=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),j=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");x&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,y="OK")}catch{i.status===404&&x===""?(f=204,y="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,y="OK"),c&&this.shouldThrowOnError)throw new W0.default(c)}return{error:c,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Xi.default=q0;var G0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ji,"__esModule",{value:!0});const K0=G0(Xi);let Q0=class extends K0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ji.default=Q0;var J0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vs,"__esModule",{value:!0});const X0=J0(Ji);let Y0=class extends X0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};vs.default=Y0;var Z0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qi,"__esModule",{value:!0});const Nn=Z0(vs);let ev=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Nn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(a.length>0){const o=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new Nn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Nn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Nn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Nn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Qi.default=ev;var Zi={},ea={};Object.defineProperty(ea,"__esModule",{value:!0});ea.version=void 0;ea.version="0.0.0-automated";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.DEFAULT_HEADERS=void 0;const tv=ea;Zi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${tv.version}`};var of=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bo,"__esModule",{value:!0});const rv=of(Qi),nv=of(vs),sv=Zi;let iv=class uf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},sv.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new rv.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new uf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new nv.default({method:a,url:o,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Bo.default=iv;var gn=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const cf=gn(Bo);Ne.PostgrestClient=cf.default;const df=gn(Qi);Ne.PostgrestQueryBuilder=df.default;const hf=gn(vs);Ne.PostgrestFilterBuilder=hf.default;const ff=gn(Ji);Ne.PostgrestTransformBuilder=ff.default;const pf=gn(Xi);Ne.PostgrestBuilder=pf.default;const mf=gn(Yi);Ne.PostgrestError=mf.default;var av=Ne.default={PostgrestClient:cf.default,PostgrestQueryBuilder:df.default,PostgrestFilterBuilder:hf.default,PostgrestTransformBuilder:ff.default,PostgrestBuilder:pf.default,PostgrestError:mf.default};const{PostgrestClient:lv,PostgrestQueryBuilder:gx,PostgrestFilterBuilder:vx,PostgrestTransformBuilder:yx,PostgrestBuilder:xx,PostgrestError:wx}=av,ov="2.11.2",uv={"X-Client-Info":`realtime-js/${ov}`},cv="1.0.0",gf=1e4,dv=1e3;var Xr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xr||(Xr={}));var Oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oe||(Oe={}));var Ye;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ye||(Ye={}));var Il;(function(e){e.websocket="websocket"})(Il||(Il={}));var cr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(cr||(cr={}));class hv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const u=n.decode(t.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:u,payload:c}}}class vf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(q||(q={}));const pc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=fv(a,e,t,s),i),{})},fv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?yf(i,a):zl(a)},yf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return vv(t,r)}switch(e){case q.bool:return pv(t);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return mv(t);case q.json:case q.jsonb:return gv(t);case q.timestamp:return yv(t);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return zl(t);default:return zl(t)}},zl=e=>e,pv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},mv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},vv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>yf(t,o))}return e},yv=e=>typeof e=="string"?e.replace(" ","T"):e,xf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ta{constructor(t,r,n={},s=gf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mc||(mc={}));class Fn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Fn.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fn.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const h=i[c];if(h){const f=d.map(j=>j.presence_ref),y=h.map(j=>j.presence_ref),v=d.filter(j=>y.indexOf(j.presence_ref)<0),x=h.filter(j=>f.indexOf(j.presence_ref)<0);v.length>0&&(o[c]=v),x.length>0&&(u[c]=x)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(u),d.length>0){const h=t[o].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);t[o].unshift(...f)}n(o,d,u)}),this.map(a,(o,u)=>{let c=t[o];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=c,s(o,c,u),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gc||(gc={}));var vc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vc||(vc={}));var vt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vt||(vt={}));class Vo{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ta(this,Ye.join,this.params,this.timeout),this.rejoinTimer=new vf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ye.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Fn(this),this.broadcastEndpointURL=xf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(vt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(vt.CLOSED));const u={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(vt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let x=0;x<y;x++){const j=f[x],{filter:{event:m,schema:p,table:g,filter:_}}=j,k=d&&d[x];if(k&&k.event===m&&k.schema===p&&k.table===g&&k.filter===_)v.push(Object.assign(Object.assign({},j),{id:k.id}));else{this.unsubscribe(),t==null||t(vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(vt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ye.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Ta(this,Ye.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ta(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:c,join:d}=Ye;if(n&&[o,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,x,j;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((j=(x=y.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(y=>y.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var v,x,j,m,p,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const _=y.id,k=(v=y.filter)===null||v===void 0?void 0:v.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const _=(p=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:j,commit_timestamp:m,type:p,errors:g}=v;f=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(v))}y.callback(f,n)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Vo.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ye.close,{},t)}_onError(t){this._on(Ye.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=pc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=pc(t.columns,t.old_record)),r}}const xv=()=>{},wv=typeof WebSocket<"u",_v=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=uv,this.params={},this.timeout=gf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=xv,this.conn=null,this.sendBuffer=[],this.serializer=new hv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>un(async()=>{const{default:u}=await Promise.resolve().then(()=>mn);return{default:u}},void 0).then(({default:u})=>u(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${Il.websocket}`,this.httpEndpoint=xf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(wv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new kv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),un(async()=>{const{default:t}=await import("./browser-BVdPHvdQ.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cv}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xr.connecting:return cr.Connecting;case Xr.open:return cr.Open;case Xr.closing:return cr.Closing;default:return cr.Closed}}isConnected(){return this.connectionState()===cr.Open}channel(t,r={config:{}}){const n=new Vo(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Ye.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(dv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ye.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([_v],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class kv{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Xr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Ho extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class bv extends Ho{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Dl extends Ho{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Sv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const wf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>un(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Nv=()=>Sv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield un(()=>Promise.resolve().then(()=>mn),void 0)).Response:Response}),Ml=e=>{if(Array.isArray(e))return e.map(r=>Ml(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ml(n)}),t};var br=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Ra=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ev=(e,t,r)=>br(void 0,void 0,void 0,function*(){const n=yield Nv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new bv(Ra(s),e.status||500))}).catch(s=>{t(new Dl(Ra(s),s))}):t(new Dl(Ra(e),e))}),Cv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ys(e,t,r,n,s,i){return br(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,Cv(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>Ev(u,o,n))})})}function Ci(e,t,r,n){return br(this,void 0,void 0,function*(){return ys(e,"GET",t,r,n)})}function Ut(e,t,r,n,s){return br(this,void 0,void 0,function*(){return ys(e,"POST",t,n,s,r)})}function Pv(e,t,r,n,s){return br(this,void 0,void 0,function*(){return ys(e,"PUT",t,n,s,r)})}function Tv(e,t,r,n){return br(this,void 0,void 0,function*(){return ys(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function _f(e,t,r,n,s){return br(this,void 0,void 0,function*(){return ys(e,"DELETE",t,n,s,r)})}var be=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Rv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ov{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=wf(s)}uploadOrUpdate(t,r,n,s){return be(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},yc),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}upload(t,r,n){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:yc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:u,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(u){if(ce(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return be(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ut(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Ho("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}update(t,r,n){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return be(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}copy(t,r,n){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield Ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return be(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ut(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return be(this,void 0,void 0,function*(){try{const s=yield Ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}download(t,r){return be(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Ci(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ce(o))return{data:null,error:o};throw o}})}info(t){return be(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ci(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ml(n),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}exists(t){return be(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Tv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ce(n)&&n instanceof Dl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return be(this,void 0,void 0,function*(){try{return{data:yield _f(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}list(t,r,n){return be(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Rv),r),{prefix:t||""});return{data:yield Ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Lv="2.7.1",$v={"X-Client-Info":`storage-js/${Lv}`};var Cr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Uv{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},$v),r),this.fetch=wf(n)}listBuckets(){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}getBucket(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Cr(this,void 0,void 0,function*(){try{return{data:yield Pv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield _f(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}}class Av extends Uv{constructor(t,r={},n){super(t,r,n)}from(t){return new Ov(this.url,this.headers,t,this.fetch)}}const Iv="2.49.4";let Rn="";typeof Deno<"u"?Rn="deno":typeof document<"u"?Rn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rn="react-native":Rn="node";const zv={"X-Client-Info":`supabase-js-${Rn}/${Iv}`},Dv={headers:zv},Mv={schema:"public"},Fv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bv={};var Vv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Hv=e=>{let t;return e?t=e:typeof fetch>"u"?t=sf:t=fetch,(...r)=>t(...r)},Wv=()=>typeof Headers>"u"?af:Headers,qv=(e,t,r)=>{const n=Hv(r),s=Wv();return(i,a)=>Vv(void 0,void 0,void 0,function*(){var o;const u=(o=yield t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var Gv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};function Kv(e){return e.replace(/\/$/,"")}function Qv(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:a,auth:o,realtime:u,global:c}=t,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>Gv(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const jf="2.69.1",Rr=30*1e3,Fl=3,Oa=Fl*Rr,Jv="http://localhost:9999",Xv="supabase.auth.token",Yv={"X-Client-Info":`gotrue-js/${jf}`},Bl="X-Supabase-Api-Version",kf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Zv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ey=6e5;class Wo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ty extends Wo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ry(e){return z(e)&&e.name==="AuthApiError"}class bf extends Wo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ir extends Wo{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Rt extends ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ny(e){return z(e)&&e.name==="AuthSessionMissingError"}class La extends ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Is extends ir{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zs extends ir{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sy(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class xc extends ir{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vl extends ir{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $a(e){return z(e)&&e.name==="AuthRetryableFetchError"}class wc extends ir{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bn extends ir{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jc=` 	
\r=`.split(""),iy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jc.length;t+=1)e[jc[t].charCodeAt(0)]=-2;for(let t=0;t<_c.length;t+=1)e[_c[t].charCodeAt(0)]=t;return e})();function Sf(e,t,r){const n=iy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kc(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{oy(a,n,r)};for(let a=0;a<e.length;a+=1)Sf(e.charCodeAt(a),s,i);return t.join("")}function ay(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ly(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ay(n,t)}}function oy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function uy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Sf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function cy(e){const t=[];return ly(e,r=>t.push(r)),new Uint8Array(t)}function dy(e){return Math.round(Date.now()/1e3)+e}function hy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ut=()=>typeof window<"u"&&typeof document<"u",ar={tested:!1,writable:!1},Vn=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ar.tested)return ar.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ar.tested=!0,ar.writable=!0}catch{ar.tested=!0,ar.writable=!1}return ar.writable};function fy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Nf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>un(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},py=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ef=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ds=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ms=async(e,t)=>{await e.removeItem(t)};class ta{constructor(){this.promise=new ta.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ta.promiseConstructor=Promise;function Ua(e){const t=e.split(".");if(t.length!==3)throw new Bn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Zv.test(t[n]))throw new Bn("JWT not in base64url format");return{header:JSON.parse(kc(t[0])),payload:JSON.parse(kc(t[1])),signature:uy(t[2]),raw:{header:t[0],payload:t[1]}}}async function my(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function gy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function vy(e){return("0"+e.toString(16)).substr(-2)}function yy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,vy).join("")}async function xy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function wy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await xy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(e,t,r=!1){const n=yy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ef(e,`${t}-code-verifier`,s);const i=await wy(n);return[i,n===i?"plain":"s256"]}const _y=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jy(e){const t=e.headers.get(Bl);if(!t||!t.match(_y))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ky(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function by(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Sy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ny=[502,503,504];async function bc(e){var t;if(!py(e))throw new Vl(ur(e),0);if(Ny.includes(e.status))throw new Vl(ur(e),e.status);let r;try{r=await e.json()}catch(i){throw new bf(ur(i),i)}let n;const s=jy(e);if(s&&s.getTime()>=kf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new wc(ur(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Rt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new wc(ur(r),e.status,r.weak_password.reasons);throw new ty(ur(r),e.status||500,n)}const Ey=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function F(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Bl]||(i[Bl]=kf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Cy(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Cy(e,t,r,n,s,i){const a=Ey(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new Vl(ur(u),0)}if(o.ok||await bc(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await bc(u)}}function Ot(e){var t;let r=null;Oy(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=dy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Sc(e){const t=Ot(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Py(e){return{data:e,error:null}}function Ty(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Sy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function Ry(e){return e}function Oy(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ly=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class $y{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Nf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ly(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ty,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ry});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);c[`${j}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(z(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await F(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await F(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}const Uy={getItem:e=>Vn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Vn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Vn()&&globalThis.localStorage.removeItem(e)}};function Nc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Ay(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tr={debug:!!(globalThis&&Vn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Iy extends Cf{}async function zy(e,t,r){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Iy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ay();const Dy={url:Jv,storageKey:Xv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ec(e,t,r){return await r()}class cs{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cs.nextInstanceID,cs.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Dy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $y({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Nf(s.fetch),this.lock=s.lock||Ec,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ut()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=zy:this.lock=Ec,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Vn()?this.storage=Uy:(this.memoryStorage={},this.storage=Nc(this.memoryStorage)):(this.memoryStorage={},this.storage=Nc(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=fy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ut()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),sy(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new bf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ot}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Pr(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:Ot})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ot})}else throw new Is("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Sc})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Sc})}else throw new Is("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new La}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Ds(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ot});if(await Ms(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new La}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ot}),{data:u,error:c}=o;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new La}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Pr(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:u}=t,{data:c,error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Is("You must provide either an email or phone number.")}catch(o){if(z(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ot});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Pr(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Py})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Rt;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await F(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await F(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Is("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Oa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zt})})}catch(r){if(z(r))return ny(r)&&(await this._removeSession(),await Ms(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Rt;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await Pr(this.storage,this.storageKey));const{data:c,error:d}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:zt});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Ua(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Rt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ut())throw new zs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xc("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:c}=t;if(!i||!o||!a||!c)throw new zs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;u&&(f=parseInt(u));const y=f-d;y*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:x,error:j}=await this._getUser(i);if(j)throw j;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ds(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(ry(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ms(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=hy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Pr(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,c,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ut()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gy(async s=>(s>0&&await my(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ot})),(s,i)=>{const a=200*Math.pow(2,s);return i&&$a(i)&&Date.now()+a-n<Rr})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ut()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ds(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Oa;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Oa}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),$a(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ta;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Rt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),z(i)){const a={session:null,error:i};return $a(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ef(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ms(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rr}ms, refresh threshold is ${Fl} ticks`),s<=Fl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Cf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Pr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await F(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await F(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ua(s.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+ey>Date.now()))return n;const{data:s,error:i}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Bn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===t),!n)throw new Bn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:u}}=Ua(n);if(ky(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const c=by(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,a,cy(`${o}.${u}`)))throw new Bn("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}cs.nextInstanceID=0;const My=cs;class Fy extends My{constructor(t){super(t)}}var By=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Vy{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Kv(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Mv,realtime:Bv,auth:Object.assign(Object.assign({},Fv),{storageKey:u}),global:Dv},d=Qv(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=qv(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new lv(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new I0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Av(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return By(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fy({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new jv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hy=(e,t,r)=>new Vy(e,t,r),Wy="https://gtfgvqttfydelzgvgwly.supabase.co",qy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0Zmd2cXR0ZnlkZWx6Z3Znd2x5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQwMjE0OTEsImV4cCI6MjA1OTU5NzQ5MX0.nBdVMHZ6LJ8ZvdSuXk_uDVMb6DxB5iTeFdc0dM7zolI",O=Hy(Wy,qy);function Gy(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(""),[a,o]=w.useState(!1),u=sr(),c=async h=>{h.preventDefault(),i(""),o(!0);try{const{error:f}=await O.auth.signInWithPassword({email:e,password:r});if(f)throw f;u("/profile")}catch(f){console.error("Login error:",f),i(f.message||"Помилка входу")}finally{o(!1)}},d=async()=>{try{const{error:h}=await O.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}/profile`,queryParams:{access_type:"offline",prompt:"consent"}}});if(h)throw h}catch(h){console.error("GitHub login error:",h),i(h.message||"Помилка входу через GitHub")}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Вхід до аккаунту"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Або"," ",l.jsx(us,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"створіть новий аккаунт"})]})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[s&&l.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:s}),l.jsxs("button",{onClick:d,className:"w-full flex justify-center items-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 mb-6",children:[l.jsx(v0,{size:20}),"Увійти через GitHub"]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Або увійдіть за допомогою email"})})]}),l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(ef,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть email",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Пароль"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(ln,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"password",type:"password",value:r,onChange:h=>n(h.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть пароль",required:!0})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Завантаження...":"Увійти"})})]})]})})]})}function Ky(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(""),[a,o]=w.useState(""),[u,c]=w.useState(""),[d,h]=w.useState(!1),f=sr(),y=async v=>{v.preventDefault(),c(""),h(!0);try{const{data:x,error:j}=await O.auth.signUp({email:s,password:a});if(j)throw j;if(x.user){const{error:m}=await O.from("users").insert([{auth_user_id:x.user.id,name:e,lastName:r,email:s,date:new Date().toISOString()}]);if(m)throw m;f("/profile/confirm")}}catch(x){console.error("Registration error:",x),c(x.message||"Помилка реєстрації")}finally{h(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Створення нового аккаунту"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Або"," ",l.jsx(us,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"увійдіть в існуючий аккаунт"})]})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[u&&l.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:u}),l.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Ім'я"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(Ei,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"name",type:"text",value:e,onChange:v=>t(v.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть ім'я",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Прізвище"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(Ei,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"lastName",type:"text",value:r,onChange:v=>n(v.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть прізвище",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(ef,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"email",type:"email",value:s,onChange:v=>i(v.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть email",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Пароль"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx(ln,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("input",{id:"password",type:"password",value:a,onChange:v=>o(v.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Введіть пароль",required:!0,minLength:6})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Завантаження...":"Зареєструватися"})})]})]})})]})}function rt(){const e=sr(),t=async()=>{try{const{error:r}=await O.auth.signOut();if(r)throw r;e("/login")}catch(r){console.error("Error logging out:",r)}};return l.jsxs("div",{className:"w-64 bg-white h-screen fixed left-0 top-0 border-r border-gray-200",children:[l.jsx("div",{className:"p-4",children:l.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Соціальна мережа"})}),l.jsxs("nav",{className:"mt-8",children:[l.jsxs(Er,{to:"/profile",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(Rl,{className:"w-5 h-5 mr-3"}),"Профіль"]}),l.jsxs(Er,{to:"/people",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(on,{className:"w-5 h-5 mr-3"}),"Люди"]}),l.jsxs(Er,{to:"/messages",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(Ol,{className:"w-5 h-5 mr-3"}),"Повідомлення"]}),l.jsxs(Er,{to:"/friends",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(on,{className:"w-5 h-5 mr-3"}),"Друзі"]}),l.jsxs(Er,{to:"/groups",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(C0,{className:"w-5 h-5 mr-3"}),"Групи"]}),l.jsxs(Er,{to:"/settings",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[l.jsx(rf,{className:"w-5 h-5 mr-3"}),"Налаштування"]})]}),l.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-200",children:l.jsxs("button",{onClick:t,className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 w-full",children:[l.jsx(w0,{className:"w-5 h-5 mr-3"}),"Вийти"]})})]})}class Or{static async getCurrentUserProfile(){try{const{data:{user:t}}=await O.auth.getUser();if(!(t!=null&&t.email))return console.log("No authenticated user found"),null;const{data:r,error:n}=await O.from("users").select("*").eq("email",t.email).single();return n?n.code==="PGRST116"?await this.createUserProfile(t):(console.error("Error fetching user profile:",n),null):r}catch(t){return console.error("Error getting current user profile:",t),null}}static async createUserProfile(t){var r,n,s,i,a,o;try{const u={email:t.email,name:((r=t.user_metadata)==null?void 0:r.name)||((s=(n=t.user_metadata)==null?void 0:n.full_name)==null?void 0:s.split(" ")[0])||t.email.split("@")[0]||"User",lastName:((i=t.user_metadata)==null?void 0:i.lastName)||((o=(a=t.user_metadata)==null?void 0:a.full_name)==null?void 0:o.split(" ").slice(1).join(" "))||"",date:new Date().toISOString(),notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1}},{data:c,error:d}=await O.from("users").insert([u]).select().single();return d?(console.error("Error creating user profile:",d),null):c}catch(u){return console.error("Error creating user profile:",u),null}}static async searchUsers(t){try{if(t.length<2)return[];const{data:r,error:n}=await O.from("users").select("id, name, lastName, avatar, email").or(`name.ilike.%${t}%, lastName.ilike.%${t}%`).limit(10);if(n)throw n;return r||[]}catch(r){return console.error("Error searching users:",r),[]}}static async getUserFriends(){try{const t=await this.getCurrentUserProfile();if(!t)return[];const{data:r,error:n}=await O.from("friends").select(`
          friend_id,
          friend:users!friend_id (
            id,
            name,
            lastName,
            avatar,
            email
          )
        `).eq("user_id",t.id);if(n)throw n;return(r==null?void 0:r.map(s=>s.friend).filter(Boolean))||[]}catch(t){return console.error("Error fetching friends:",t),[]}}static async addFriend(t){try{const r=await this.getCurrentUserProfile();if(!r)return!1;const{error:n}=await O.from("friends").insert([{user_id:r.id,friend_id:t}]);if(n)throw n;return!0}catch(r){return console.error("Error adding friend:",r),!1}}static async updateUserProfile(t){try{const{data:{user:r}}=await O.auth.getUser();if(!(r!=null&&r.email))return!1;const{error:n}=await O.from("users").update(t).eq("email",r.email);if(n)throw n;return!0}catch(r){return console.error("Error updating user profile:",r),!1}}static async getUserMedia(){try{const t=await this.getCurrentUserProfile();if(!t)return[];const{data:r,error:n}=await O.from("media").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(t){return console.error("Error loading media:",t),[]}}static async createPost(t,r){try{const n=await this.getCurrentUserProfile();if(!n)return!1;const{error:s}=await O.from("posts").insert([{user_id:n.id,content:t,images:r,created_at:new Date().toISOString()}]);if(s)throw s;return!0}catch(n){return console.error("Error creating post:",n),!1}}}function Qy(){return new URLSearchParams(pn().search)}function Jy(){var P,T,b;const[e,t]=w.useState([]),[r,n]=w.useState(null),[s,i]=w.useState([]),[a,o]=w.useState(null),[u,c]=w.useState(""),[d,h]=w.useState(!0),[f,y]=w.useState(!1),v=w.useRef(null),x=Qy();w.useEffect(()=>{v.current&&v.current.scrollIntoView({behavior:"smooth"})},[s]),w.useEffect(()=>{j()},[]),w.useEffect(()=>{a&&m()},[a]),w.useEffect(()=>{const R=x.get("user");R&&a&&p(R)},[a]);async function j(){const R=await Or.getCurrentUserProfile();o(R)}async function m(){h(!0);const{data:R,error:E}=await O.from("conversations").select(`
        *,
        participant1:users!conversations_participant1_id_fkey (id, name, lastName, avatar),
        participant2:users!conversations_participant2_id_fkey (id, name, lastName, avatar)
      `).or(`participant1_id.eq.${a.id},participant2_id.eq.${a.id}`).order("updated_at",{ascending:!1});if(E){t([]),h(!1);return}const S=(R||[]).map(U=>{const W=U.participant1_id===a.id?U.participant2:U.participant1;return{id:U.id,participant:W,updated_at:U.updated_at}});t(S),h(!1)}async function p(R){let E=e.find(S=>S.participant&&S.participant.id===R);if(!E){const{data:S,error:U}=await O.from("conversations").insert([{participant1_id:a.id,participant2_id:R}]).select(`
          *,
          participant1:users!conversations_participant1_id_fkey (id, name, lastName, avatar),
          participant2:users!conversations_participant2_id_fkey (id, name, lastName, avatar)
        `).single();if(U)return;const W=S.participant1_id===a.id?S.participant2:S.participant1;E={id:S.id,participant:W,updated_at:S.updated_at},t(oe=>[E,...oe])}n(E),g(E.id)}async function g(R){const{data:E,error:S}=await O.from("messages").select("*").eq("conversation_id",R).order("created_at",{ascending:!0});if(S){i([]);return}i(E||[])}async function _(R){n(R),g(R.id)}async function k(R){if(R.preventDefault(),!u.trim()||!r)return;y(!0);const{error:E}=await O.from("messages").insert([{conversation_id:r.id,sender_id:a.id,content:u.trim()}]);y(!1),c(""),E||g(r.id)}return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(rt,{}),l.jsxs("div",{className:"flex-1 ml-64 flex",children:[l.jsxs("div",{className:"w-80 border-r border-gray-200 bg-white flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-gray-100",children:l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Діалоги"})}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:d?l.jsx("div",{className:"p-4 text-gray-500",children:"Завантаження..."}):e.length===0?l.jsx("div",{className:"p-4 text-gray-500",children:"Немає діалогів"}):e.map(R=>{var E,S,U;return l.jsxs("div",{className:`flex items-center px-4 py-3 cursor-pointer hover:bg-gray-50 ${r&&r.id===R.id?"bg-gray-100":""}`,onClick:()=>_(R),children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 overflow-hidden flex items-center justify-center",children:(E=R.participant)!=null&&E.avatar?l.jsx("img",{src:R.participant.avatar,alt:R.participant.name,className:"w-full h-full object-cover"}):l.jsx(Rl,{className:"w-8 h-8 text-gray-400"})}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsxs("div",{className:"font-semibold text-gray-900",children:[(S=R.participant)==null?void 0:S.name," ",(U=R.participant)==null?void 0:U.lastName]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Останнє оновлення: ",new Date(R.updated_at).toLocaleString("uk-UA")]})]})]},R.id)})})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center border-b border-gray-200 px-6 py-4 bg-white",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 overflow-hidden flex items-center justify-center",children:(P=r.participant)!=null&&P.avatar?l.jsx("img",{src:r.participant.avatar,alt:r.participant.name,className:"w-full h-full object-cover"}):l.jsx(Rl,{className:"w-7 h-7 text-gray-400"})}),l.jsx("div",{className:"ml-4",children:l.jsxs("div",{className:"font-semibold text-gray-900",children:[(T=r.participant)==null?void 0:T.name," ",(b=r.participant)==null?void 0:b.lastName]})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 bg-gray-50",children:s.length===0?l.jsx("div",{className:"text-gray-500 text-center mt-8",children:"Немає повідомлень"}):l.jsxs("div",{className:"space-y-4",children:[s.map(R=>l.jsx("div",{className:`flex ${R.sender_id===a.id?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg shadow-sm ${R.sender_id===a.id?"bg-blue-600 text-white":"bg-white text-gray-900 border"}`,children:[R.content,l.jsx("div",{className:"text-xs text-gray-300 mt-1 text-right",children:new Date(R.created_at).toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})})]})},R.id)),l.jsx("div",{ref:v})]})}),l.jsxs("form",{onSubmit:k,className:"flex items-center px-6 py-4 border-t border-gray-200 bg-white",children:[l.jsx("input",{type:"text",value:u,onChange:R=>c(R.target.value),placeholder:"Введіть повідомлення...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:f}),l.jsx("button",{type:"submit",disabled:f||!u.trim(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50",children:l.jsx(tf,{className:"w-5 h-5"})})]})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400 text-xl",children:"Виберіть діалог для перегляду повідомлень"})})]})]})}function Xy(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[s,i]=w.useState(""),[a,o]=w.useState(!0);w.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:{user:h}}=await O.auth.getUser();if(!h)return;const{data:f,error:y}=await O.from("friends").select(`
          friend_id,
          friend:users!friend_id (
            id,
            name,
            lastName,
            avatar
          )
        `).eq("user_id",h.id);if(y)throw y;t((f==null?void 0:f.map(v=>v.friend))||[])}catch(h){console.error("Error fetching friends:",h)}finally{o(!1)}},c=async h=>{if(i(h),h.length<2){n([]);return}try{const{data:f,error:y}=await O.from("users").select("id, name, lastName, avatar").or(`name.ilike.%${h}%, lastName.ilike.%${h}%`).limit(10);if(y)throw y;n(f||[])}catch(f){console.error("Error searching users:",f)}},d=async h=>{try{const{data:{user:f}}=await O.auth.getUser();if(!f)return;const{error:y}=await O.from("friends").insert([{user_id:f.id,friend_id:h}]);if(y)throw y;await u()}catch(f){console.error("Error adding friend:",f)}};return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(rt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Пошук друзів"}),l.jsxs("div",{className:"relative",children:[l.jsx(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:"Пошук за ім'ям або прізвищем",value:s,onChange:h=>c(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.length>0&&l.jsx("div",{className:"mt-4 bg-white rounded-lg shadow-sm",children:r.map(h=>l.jsxs("div",{className:"flex items-center justify-between p-4 border-b last:border-b-0",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:h.avatar?l.jsx("img",{src:h.avatar,alt:h.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-lg text-gray-600",children:h.name[0]})}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"font-medium text-gray-900",children:[h.name," ",h.lastName]})})]}),l.jsxs("button",{onClick:()=>d(h.id),className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ul,{size:18,className:"mr-1"}),"Додати"]})]},h.id))})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Мої друзі"}),a?l.jsx("div",{className:"text-center py-8",children:"Завантаження..."}):e.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(h=>l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:h.avatar?l.jsx("img",{src:h.avatar,alt:h.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-xl text-gray-600",children:h.name[0]})}),l.jsxs("div",{className:"ml-4",children:[l.jsxs("p",{className:"font-medium text-gray-900",children:[h.name," ",h.lastName]}),l.jsxs("button",{className:"flex items-center text-sm text-blue-600 hover:text-blue-700 mt-1",children:[l.jsx(N0,{size:16,className:"mr-1"}),"Друзі"]})]})]},h.id))}):l.jsx("div",{className:"text-center py-8 text-gray-600",children:"У вас поки немає друзів"})]})]})})]})}function Yy(){const[e,t]=w.useState("profile"),[r,n]=w.useState(!0),s=sr(),[i,a]=w.useState({name:"",lastName:"",email:"",bio:"",city:"",birthDate:"",notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1},familyStatus:"",status:"",phone:"",website:""});w.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:d},error:h}=await O.auth.getUser();if(h||!d){s("/login");return}const{data:f,error:y}=await O.from("users").select("*").eq("id",d.id).single();if(y){console.error("Error fetching user settings:",y);return}a({...i,...f,name:f.name||"",lastName:f.lastname||"",notifications:f.notifications||i.notifications,privacy:f.privacy||i.privacy})}catch(d){console.error("Error loading user settings:",d)}finally{n(!1)}},u=async d=>{d.preventDefault();try{const{data:{user:h},error:f}=await O.auth.getUser();if(f||!h){s("/login");return}const{error:y}=await O.from("users").update({name:i.name,lastname:i.lastName,bio:i.bio,city:i.city,birthDate:i.birthDate,notifications:i.notifications,privacy:i.privacy,familyStatus:i.familyStatus,status:i.status,phone:i.phone,website:i.website}).eq("id",h.id);if(y)throw y;alert("Налаштування збережено успішно")}catch(h){console.error("Error saving settings:",h),alert("Помилка при збереженні налаштувань")}},c=[{id:"profile",label:"Профіль",icon:Ei},{id:"privacy",label:"Приватність",icon:ln},{id:"notifications",label:"Сповіщення",icon:f0}];return r?l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(rt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsx("div",{className:"text-center",children:"Завантаження..."})})]}):l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(rt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Налаштування"}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[l.jsx("div",{className:"flex border-b border-gray-200",children:c.map(({id:d,label:h,icon:f})=>l.jsxs("button",{onClick:()=>t(d),className:`flex items-center px-6 py-3 text-sm font-medium ${e===d?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[l.jsx(f,{size:18,className:"mr-2"}),h]},d))}),l.jsxs("div",{className:"p-6",children:[e==="profile"&&l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ім'я"}),l.jsx("input",{type:"text",value:i.name,onChange:d=>a({...i,name:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Прізвище"}),l.jsx("input",{type:"text",value:i.lastName,onChange:d=>a({...i,lastName:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Місто"}),l.jsx("input",{type:"text",value:i.city||"",onChange:d=>a({...i,city:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Сімейний стан"}),l.jsx("input",{type:"text",value:i.familyStatus||"",onChange:d=>a({...i,familyStatus:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Статус"}),l.jsx("input",{type:"text",value:i.status||"",onChange:d=>a({...i,status:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Телефон"}),l.jsx("input",{type:"text",value:i.phone||"",onChange:d=>a({...i,phone:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Веб-сайт"}),l.jsx("input",{type:"text",value:i.website||"",onChange:d=>a({...i,website:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Дата народження"}),l.jsx("input",{type:"date",value:i.birthDate||"",onChange:d=>a({...i,birthDate:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Про мене"}),l.jsx("textarea",{value:i.bio,onChange:d=>a({...i,bio:d.target.value}),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Зберегти зміни"})})]}),e==="privacy"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Налаштування приватності"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Видимість профілю"}),l.jsxs("select",{value:i.privacy.profileVisibility,onChange:d=>a({...i,privacy:{...i.privacy,profileVisibility:d.target.value}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"public",children:"Публічний"}),l.jsx("option",{value:"friends",children:"Тільки друзі"}),l.jsx("option",{value:"private",children:"Приватний"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Показувати дату народження"}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.privacy.showBirthDate,onChange:d=>a({...i,privacy:{...i.privacy,showBirthDate:d.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Показувати email"}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.privacy.showEmail,onChange:d=>a({...i,privacy:{...i.privacy,showEmail:d.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),e==="notifications"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Налаштування сповіщень"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Email сповіщення"}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.notifications.email,onChange:d=>a({...i,notifications:{...i.notifications,email:d.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Сповіщення про повідомлення"}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.notifications.messages,onChange:d=>a({...i,notifications:{...i.notifications,messages:d.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Сповіщення про запити в друзі"}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.notifications.friendRequests,onChange:d=>a({...i,notifications:{...i.notifications,friendRequests:d.target.checked}}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})})]})]})]})})]})}function Zy(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[s,i]=w.useState(""),[a,o]=w.useState("public"),[u,c]=w.useState(!0),[d,h]=w.useState(null),[f,y]=w.useState(!1),[v,x]=w.useState(!1),j=sr(),[m,p]=w.useState({name:"",description:"",isPrivate:!1,avatar:null});w.useEffect(()=>{g()},[]),w.useEffect(()=>{d&&(_(),k())},[d]);const g=async()=>{try{const{data:{user:S},error:U}=await O.auth.getUser();if(U||!S){j("/login");return}const{data:W,error:oe}=await O.from("user_profiles").select("*").eq("auth_user_id",S.id).single();if(oe){console.error("Error fetching user profile:",oe);return}h(W)}catch(S){console.error("Error fetching current user:",S)}},_=async()=>{try{c(!0);const{data:S,error:U}=await O.from("groups").select(`
          *,
          created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
        `).eq("is_private",!1).order("created_at",{ascending:!1});if(U)throw U;t(S||[])}catch(S){console.error("Error fetching groups:",S)}finally{c(!1)}},k=async()=>{try{if(!d)return;const{data:S,error:U}=await O.from("group_members").select(`
          *,
          group:groups(
            *,
            created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
          )
        `).eq("user_id",d.id);if(U)throw U;n((S==null?void 0:S.map(W=>W.group))||[])}catch(S){console.error("Error fetching my groups:",S)}},P=async S=>{if(S.preventDefault(),!!d)try{x(!0);let U=null;if(m.avatar){const Ge=m.avatar.name.split(".").pop(),L=`group-avatars/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${Ge}`}`,{error:A}=await O.storage.from("avatars").upload(L,m.avatar);if(A)throw A;const{data:{publicUrl:I}}=O.storage.from("avatars").getPublicUrl(L);U=I}const{data:W,error:oe}=await O.from("groups").insert([{name:m.name,description:m.description,is_private:m.isPrivate,avatar:U,created_by:d.id}]).select().single();if(oe)throw oe;const{error:pt}=await O.from("group_members").insert([{group_id:W.id,user_id:d.id,role:"admin"}]);if(pt)throw pt;y(!1),p({name:"",description:"",isPrivate:!1,avatar:null}),_(),k(),alert("Групу успішно створено!")}catch(U){console.error("Error creating group:",U),alert("Помилка при створенні групи")}finally{x(!1)}},T=async S=>{try{if(!d)return;const{error:U}=await O.from("group_members").insert([{group_id:S,user_id:d.id,role:"member"}]);if(U)throw U;_(),k(),alert("Ви успішно приєдналися до групи!")}catch(U){console.error("Error joining group:",U),alert("Помилка при приєднанні до групи")}},b=S=>r.some(U=>U.id===S),R=(a==="public"?e:r).filter(S=>S.name.toLowerCase().includes(s.toLowerCase())||S.description&&S.description.toLowerCase().includes(s.toLowerCase())),E=S=>new Date(S).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric"});return u&&!d?l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(rt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsx("div",{className:"text-center",children:"Завантаження..."})})]}):l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(rt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Групи"}),l.jsxs("button",{onClick:()=>y(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ll,{size:20,className:"mr-2"}),"Створити групу"]})]}),l.jsx("p",{className:"text-gray-600",children:"Знайдіть спільноти за інтересами або створіть власну"})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:"Пошук груп...",value:s,onChange:S=>i(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[l.jsx("button",{onClick:()=>o("public"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${a==="public"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Відкриті групи"}),l.jsxs("button",{onClick:()=>o("my"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${a==="my"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Мої групи (",r.length,")"]})]})}),R.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(S=>{var U,W,oe;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-200",children:[l.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-500 to-purple-600 relative",children:[S.avatar&&l.jsx("img",{src:S.avatar,alt:S.name,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute top-3 right-3",children:S.is_private?l.jsx(ln,{size:16,className:"text-white bg-black bg-opacity-50 p-1 rounded"}):l.jsx(Yh,{size:16,className:"text-white bg-black bg-opacity-50 p-1 rounded"})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:S.name}),S.description&&l.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-2",children:S.description}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(on,{size:14,className:"mr-1"}),S.member_count||1," учасників"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(p0,{size:14,className:"mr-1"}),E(S.created_at)]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(U=S.created_by_profile)!=null&&U.avatar?l.jsx("img",{src:S.created_by_profile.avatar,alt:"Creator",className:"w-full h-full rounded-full object-cover"}):l.jsx(Ei,{size:16,className:"text-gray-400"})}),l.jsx("div",{className:"ml-2",children:l.jsxs("p",{className:"text-xs text-gray-600",children:[(W=S.created_by_profile)==null?void 0:W.name," ",(oe=S.created_by_profile)==null?void 0:oe.last_name]})})]}),a==="public"&&!b(S.id)?l.jsx("button",{onClick:()=>T(S.id),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Приєднатися"}):l.jsx("button",{onClick:()=>j(`/groups/${S.id}`),className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 transition-colors",children:"Переглянути"})]})]})]},S.id)})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(on,{size:32,className:"text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a==="public"?"Груп не знайдено":"Ви ще не приєдналися до жодної групи"}),l.jsx("p",{className:"text-gray-600",children:a==="public"?"Спробуйте змінити критерії пошуку":"Приєднайтеся до відкритих груп або створіть власну"})]})]})}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Створити групу"}),l.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ki,{size:24})})]}),l.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Назва групи *"}),l.jsx("input",{type:"text",value:m.name,onChange:S=>p({...m,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введіть назву групи",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Опис"}),l.jsx("textarea",{value:m.description,onChange:S=>p({...m,description:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Розкажіть про вашу групу",rows:3})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Аватар групи"}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("label",{className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx(Zh,{size:18,className:"mr-2 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600",children:m.avatar?m.avatar.name:"Вибрати файл"}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:S=>p({...m,avatar:S.target.files[0]})})]})})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"isPrivate",checked:m.isPrivate,onChange:S=>p({...m,isPrivate:S.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isPrivate",className:"ml-2 block text-sm text-gray-700",children:"Приватна група (тільки за запрошенням)"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Скасувати"}),l.jsx("button",{type:"submit",disabled:v||!m.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Створення...":"Створити"})]})]})]})})]})}function ex(){var qo,Go,Ko,Qo;const{groupId:e}=$g(),t=sr(),[r,n]=w.useState(null),[s,i]=w.useState([]),[a,o]=w.useState([]),[u,c]=w.useState(null),[d,h]=w.useState(null),[f,y]=w.useState(!0),[v,x]=w.useState("posts"),[j,m]=w.useState(""),[p,g]=w.useState([]),[_,k]=w.useState(!1),[P,T]=w.useState(!1),[b,R]=w.useState(""),[E,S]=w.useState(null),[U,W]=w.useState(!1);w.useEffect(()=>{oe()},[]),w.useEffect(()=>{u&&e&&(pt(),Ge(),Ct(),L())},[u,e]);const oe=async()=>{try{const{data:{user:C},error:B}=await O.auth.getUser();if(B||!C){t("/login");return}const{data:Re,error:ue}=await O.from("user_profiles").select("*").eq("auth_user_id",C.id).single();if(ue){console.error("Error fetching user profile:",ue);return}c(Re)}catch(C){console.error("Error fetching current user:",C)}},pt=async()=>{try{const{data:C,error:B}=await O.from("groups").select(`
          *,
          created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
        `).eq("id",e).single();if(B)throw B;n(C)}catch(C){console.error("Error fetching group details:",C),t("/groups")}finally{y(!1)}},Ge=async()=>{try{const{data:C,error:B}=await O.from("group_posts").select(`
          *,
          author:user_profiles!group_posts_author_id_fkey(name, last_name, avatar),
          media:group_post_media(*)
        `).eq("group_id",e).order("created_at",{ascending:!1});if(B)throw B;i(C||[])}catch(C){console.error("Error fetching group posts:",C)}},Ct=async()=>{try{const{data:C,error:B}=await O.from("group_members").select(`
          *,
          user:user_profiles!group_members_user_id_fkey(name, last_name, avatar)
        `).eq("group_id",e).order("joined_at",{ascending:!1});if(B)throw B;o(C||[])}catch(C){console.error("Error fetching group members:",C)}},L=async()=>{try{if(!u)return;const{data:C,error:B}=await O.from("group_members").select("*").eq("group_id",e).eq("user_id",u.id).single();if(B&&B.code!=="PGRST116")throw B;h(C)}catch(C){console.error("Error checking user membership:",C)}},A=async()=>{try{if(!u)return;const{error:C}=await O.from("group_members").insert([{group_id:e,user_id:u.id,role:"member"}]);if(C)throw C;L(),Ct(),alert("Ви успішно приєдналися до групи!")}catch(C){console.error("Error joining group:",C),alert("Помилка при приєднанні до групи")}},I=async()=>{try{if(!u||!d)return;if(d.role==="admin"){alert("Адміністратор не може покинути групу");return}const{error:C}=await O.from("group_members").delete().eq("group_id",e).eq("user_id",u.id);if(C)throw C;h(null),Ct(),alert("Ви покинули групу")}catch(C){console.error("Error leaving group:",C),alert("Помилка при виході з групи")}},X=C=>{const B=Array.from(C.target.files);g(B)},se=C=>{g(B=>B.filter((Re,ue)=>ue!==C))},Sr=async C=>{if(C.preventDefault(),!(!u||!d||!j.trim()&&p.length===0))try{k(!0);const{data:B,error:Re}=await O.from("group_posts").insert([{group_id:e,author_id:u.id,content:j.trim()}]).select().single();if(Re)throw Re;if(p.length>0)for(const ue of p){const at=ue.name.split(".").pop(),mt=`${Date.now()}-${Math.random().toString(36).substring(7)}.${at}`,lt=`group-posts/${e}/${mt}`,Pt=ue.type.startsWith("video/")?"video":"image",{error:xs}=await O.storage.from("media").upload(lt,ue);if(xs)throw xs;const{data:{publicUrl:Pf}}=O.storage.from("media").getPublicUrl(lt);await O.from("group_post_media").insert([{post_id:B.id,type:Pt,url:Pf,filename:ue.name,file_size:ue.size}])}m(""),g([]),Ge()}catch(B){console.error("Error creating post:",B),alert("Помилка при створенні поста")}finally{k(!1)}},De=C=>new Date(C).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),vn=C=>{switch(C){case"admin":return"Адміністратор";case"moderator":return"Модератор";default:return"Учасник"}};if(f)return l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(rt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsx("div",{className:"text-center",children:"Завантаження..."})})]});if(!r)return l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx(rt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsx("div",{className:"text-center",children:"Група не знайдена"})})]});const st=!!d,it=(d==null?void 0:d.role)==="admin";return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(rt,{}),l.jsxs("div",{className:"flex-1 ml-64",children:[l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-8 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>t("/groups"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(d0,{size:20})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mr-4",children:r.avatar?l.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full rounded-full object-cover"}):l.jsx(on,{size:24,className:"text-gray-400"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mr-2",children:r.name}),r.is_private?l.jsx(ln,{size:16,className:"text-gray-500"}):l.jsx(Yh,{size:16,className:"text-gray-500"})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[l.jsxs("span",{children:[r.member_count||a.length," учасників"]}),l.jsx("span",{children:"•"}),l.jsxs("span",{children:["Створено ",De(r.created_at)]})]})]})]})]}),l.jsx("div",{className:"flex items-center space-x-3",children:st?l.jsxs(l.Fragment,{children:[!it&&l.jsxs("button",{onClick:I,className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[l.jsx(E0,{size:18,className:"mr-2"}),"Покинути"]}),it&&l.jsxs("button",{className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[l.jsx(rf,{size:18,className:"mr-2"}),"Керувати"]})]}):l.jsxs("button",{onClick:A,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsx(Ul,{size:18,className:"mr-2"}),"Приєднатися"]})})]}),r.description&&l.jsx("p",{className:"mt-4 text-gray-600",children:r.description})]})}),l.jsx("div",{className:"max-w-6xl mx-auto px-8 py-6",children:st?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[l.jsxs("button",{onClick:()=>x("posts"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${v==="posts"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Пости (",s.length,")"]}),l.jsxs("button",{onClick:()=>x("members"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${v==="members"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Учасники (",a.length,")"]}),l.jsx("button",{onClick:()=>x("info"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${v==="info"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Інформація"})]})}),v==="posts"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsx("form",{onSubmit:Sr,children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:u!=null&&u.avatar?l.jsx("img",{src:u.avatar,alt:u.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-sm text-gray-600",children:(Go=(qo=u==null?void 0:u.name)==null?void 0:qo[0])==null?void 0:Go.toUpperCase()})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("textarea",{value:j,onChange:C=>m(C.target.value),placeholder:"Поділіться чимось з групою...",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3}),p.length>0&&l.jsx("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-2",children:p.map((C,B)=>l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:C.type.startsWith("image/")?l.jsx("img",{src:URL.createObjectURL(C),alt:"",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(P0,{size:24,className:"text-gray-400"})})}),l.jsx("button",{type:"button",onClick:()=>se(B),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:l.jsx(Ki,{size:12})})]},B))}),l.jsxs("div",{className:"flex items-center justify-between mt-3",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("label",{className:"flex items-center px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg cursor-pointer",children:[l.jsx(Zh,{size:18,className:"mr-1"}),l.jsx("span",{className:"text-sm",children:"Фото/Відео"}),l.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:X})]})}),l.jsxs("button",{type:"submit",disabled:_||!j.trim()&&p.length===0,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[_?l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):l.jsx(tf,{size:16,className:"mr-2"}),_?"Публікація...":"Опублікувати"]})]})]})]})})}),s.length>0?s.map(C=>{var B,Re,ue,at,mt,lt;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(B=C.author)!=null&&B.avatar?l.jsx("img",{src:C.author.avatar,alt:C.author.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-sm text-gray-600",children:(at=(ue=(Re=C.author)==null?void 0:Re.name)==null?void 0:ue[0])==null?void 0:at.toUpperCase()})}),l.jsxs("div",{className:"ml-3",children:[l.jsxs("p",{className:"font-medium text-gray-900",children:[(mt=C.author)==null?void 0:mt.name," ",(lt=C.author)==null?void 0:lt.last_name]}),l.jsx("p",{className:"text-sm text-gray-500",children:De(C.created_at)})]})]}),l.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(hc,{size:16,className:"text-gray-400"})})]})}),C.content&&l.jsx("div",{className:"px-6 pb-4",children:l.jsx("p",{className:"text-gray-900",children:C.content})}),C.media&&C.media.length>0&&l.jsx("div",{className:"px-6 pb-4",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:C.media.map((Pt,xs)=>l.jsx("div",{className:"rounded-lg overflow-hidden",children:Pt.type==="image"?l.jsx("img",{src:Pt.url,alt:"",className:"w-full h-64 object-cover"}):l.jsx("video",{src:Pt.url,className:"w-full h-64 object-cover",controls:!0})},xs))})}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("button",{className:"flex items-center text-gray-600 hover:text-red-500",children:[l.jsx(y0,{size:18,className:"mr-1"}),l.jsx("span",{className:"text-sm",children:"Подобається"})]}),l.jsxs("button",{className:"flex items-center text-gray-600 hover:text-blue-500",children:[l.jsx(Ol,{size:18,className:"mr-1"}),l.jsx("span",{className:"text-sm",children:"Коментувати"})]}),l.jsxs("button",{className:"flex items-center text-gray-600 hover:text-green-500",children:[l.jsx(b0,{size:18,className:"mr-1"}),l.jsx("span",{className:"text-sm",children:"Поділитися"})]})]})})})]},C.id)}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ol,{size:32,className:"text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Поки що немає постів"}),l.jsx("p",{className:"text-gray-600",children:"Станьте першим, хто поділиться чимось цікавим!"})]})]}),v==="members"&&l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Учасники групи (",a.length,")"]}),l.jsx("div",{className:"space-y-4",children:a.map(C=>{var B,Re,ue,at,mt,lt,Pt;return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(B=C.user)!=null&&B.avatar?l.jsx("img",{src:C.user.avatar,alt:C.user.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-lg text-gray-600",children:(at=(ue=(Re=C.user)==null?void 0:Re.name)==null?void 0:ue[0])==null?void 0:at.toUpperCase()})}),l.jsxs("div",{className:"ml-4",children:[l.jsxs("p",{className:"font-medium text-gray-900",children:[(mt=C.user)==null?void 0:mt.name," ",(lt=C.user)==null?void 0:lt.last_name]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${C.role==="admin"?"bg-red-100 text-red-800":C.role==="moderator"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:vn(C.role)}),l.jsxs("span",{className:"ml-2",children:["Приєднався ",De(C.joined_at)]})]})]})]}),it&&((Pt=C.user)==null?void 0:Pt.id)!==(u==null?void 0:u.id)&&l.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:l.jsx(hc,{size:16})})]},C.id)})})]})}),v==="info"&&l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 max-w-xl mx-auto",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("div",{className:"relative w-24 h-24 mb-4",children:[l.jsx("img",{src:E?URL.createObjectURL(E):r.avatar||"",alt:"Group avatar",className:"w-24 h-24 rounded-full object-cover border border-gray-200"}),it&&l.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white rounded-full p-1 cursor-pointer hover:bg-blue-700",children:[l.jsx(nf,{size:16}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:C=>S(C.target.files[0])})]})]}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:r.name}),l.jsxs("div",{className:"text-gray-600 mb-2",children:["Створено: ",De(r.created_at)]}),l.jsxs("div",{className:"text-gray-600 mb-2",children:["Адміністратор: ",((Qo=(Ko=a.find(C=>C.role==="admin"))==null?void 0:Ko.user)==null?void 0:Qo.name)||"—"]}),P?l.jsxs(l.Fragment,{children:[l.jsx("textarea",{className:"w-full border rounded p-2 mb-2",rows:3,value:b,onChange:C=>R(C.target.value)}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:U,onClick:async()=>{W(!0);let C=r.avatar;if(E){const Re=E.name.split(".").pop(),ue=`${Date.now()}-${Math.random().toString(36).substring(7)}.${Re}`,at=`group-avatars/${e}/${ue}`,{error:mt}=await O.storage.from("media").upload(at,E);if(!mt){const{data:{publicUrl:lt}}=O.storage.from("media").getPublicUrl(at);C=lt}}const{error:B}=await O.from("groups").update({description:b,avatar:C}).eq("id",e);B||(n({...r,description:b,avatar:C}),T(!1),S(null)),W(!1)},children:"Зберегти"}),l.jsx("button",{className:"px-4 py-2 border rounded hover:bg-gray-100",onClick:()=>{T(!1),R(r.description||""),S(null)},children:"Скасувати"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4 text-gray-800 w-full text-center min-h-[48px]",children:r.description||"Опис відсутній"}),it&&l.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>{T(!0),R(r.description||"")},children:"Редагувати опис"})]})]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ln,{size:32,className:"text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Приєднайтеся до групи"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Щоб переглядати пости та брати участь в обговореннях, приєднайтеся до групи"}),l.jsxs("button",{onClick:A,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mx-auto",children:[l.jsx(Ul,{size:18,className:"mr-2"}),"Приєднатися до групи"]})]})})]})]})}class xt{static async getAllGames(t,r){try{let n=O.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).order("created_at",{ascending:!1});t&&t!=="other"&&(n=n.eq("category",t)),r&&r.length>=2&&(n=n.ilike("title",`%${r}%`));const{data:s,error:i}=await n;if(i)throw i;return s||[]}catch(n){return console.error("Error fetching games:",n),[]}}static async getGameById(t){try{const{data:r,error:n}=await O.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("id",t).eq("is_active",!0).single();if(n)throw n;return r}catch(r){return console.error("Error fetching game:",r),null}}static async createGame(t){try{const r=await Or.getCurrentUserProfile();if(!r)return null;const{data:n,error:s}=await O.from("games").insert([{...t,developer_id:r.id.toString()}]).select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).single();if(s)throw s;return n}catch(r){return console.error("Error creating game:",r),null}}static async updateGame(t,r){try{const{error:n}=await O.from("games").update({...r,updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n;return!0}catch(n){return console.error("Error updating game:",n),!1}}static async deleteGame(t){try{const{error:r}=await O.from("games").delete().eq("id",t);if(r)throw r;return!0}catch(r){return console.error("Error deleting game:",r),!1}}static async getGamesByDeveloper(){try{const t=await Or.getCurrentUserProfile();if(!t)return[];const{data:r,error:n}=await O.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("developer_id",t.id.toString()).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(t){return console.error("Error fetching developer games:",t),[]}}static async recordGamePlay(t,r=0){try{const n=await Or.getCurrentUserProfile();if(!n)return!1;const{error:s}=await O.from("game_plays").insert([{game_id:t,user_id:n.id.toString(),duration:r}]);if(s)throw s;return!0}catch(n){return console.error("Error recording game play:",n),!1}}static async rateGame(t,r,n=""){try{const s=await Or.getCurrentUserProfile();if(!s)return!1;const{error:i}=await O.from("game_ratings").upsert([{game_id:t,user_id:s.id.toString(),rating:r,review:n}]);if(i)throw i;return!0}catch(s){return console.error("Error rating game:",s),!1}}static async getGameRatings(t){try{const{data:r,error:n}=await O.from("game_ratings").select(`
          *,
          user:users!game_ratings_user_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("game_id",t).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){return console.error("Error fetching game ratings:",r),[]}}static async getUserGameRating(t){try{const r=await Or.getCurrentUserProfile();if(!r)return null;const{data:n,error:s}=await O.from("game_ratings").select("*").eq("game_id",t).eq("user_id",r.id.toString()).single();if(s){if(s.code==="PGRST116")return null;throw s}return n}catch(r){return console.error("Error fetching user game rating:",r),null}}static async getPopularGames(t=10){try{const{data:r,error:n}=await O.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).order("play_count",{ascending:!1}).limit(t);if(n)throw n;return r||[]}catch(r){return console.error("Error fetching popular games:",r),[]}}static async getTopRatedGames(t=10){try{const{data:r,error:n}=await O.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).gt("rating",0).order("rating",{ascending:!1}).limit(t);if(n)throw n;return r||[]}catch(r){return console.error("Error fetching top rated games:",r),[]}}}function tx({game:e,onPlay:t}){var s,i,a,o,u,c;const r=d=>({action:"Екшн",puzzle:"Головоломки",strategy:"Стратегія",arcade:"Аркада",adventure:"Пригоди",simulation:"Симулятори",sports:"Спорт",racing:"Гонки",other:"Інше"})[d]||d,n=d=>d>=1e3?`${(d/1e3).toFixed(1)}k`:d.toString();return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[l.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-500 to-purple-600 overflow-hidden",children:[e.thumbnail?l.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Pa,{className:"text-white opacity-50",size:48})}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsxs("button",{onClick:t,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Pa,{size:20,className:"mr-2"}),"Грати"]})}),l.jsx("div",{className:"absolute top-3 left-3",children:l.jsx("span",{className:"px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded-full",children:r(e.category)})}),e.rating>0&&l.jsx("div",{className:"absolute top-3 right-3",children:l.jsxs("div",{className:"flex items-center px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded-full",children:[l.jsx($l,{size:12,className:"mr-1 fill-current text-yellow-400"}),e.rating.toFixed(1)]})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:e.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description||"Немає опису"}),l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-2",children:(s=e.developer)!=null&&s.avatar?l.jsx("img",{src:e.developer.avatar,alt:e.developer.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-xs text-gray-600",children:(o=(a=(i=e.developer)==null?void 0:i.name)==null?void 0:a[0])==null?void 0:o.toUpperCase()})}),l.jsxs("span",{className:"text-sm text-gray-600",children:[(u=e.developer)==null?void 0:u.name," ",(c=e.developer)==null?void 0:c.lastName]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(m0,{size:16,className:"mr-1"}),l.jsxs("span",{children:[n(e.play_count)," грали"]})]}),l.jsx("span",{children:new Date(e.created_at).toLocaleDateString("uk-UA")})]}),l.jsxs("button",{onClick:t,className:"w-full mt-4 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Pa,{size:18,className:"mr-2"}),"Грати зараз"]})]})]})}const rx=[{value:"action",label:"Екшн"},{value:"puzzle",label:"Головоломки"},{value:"strategy",label:"Стратегія"},{value:"arcade",label:"Аркада"},{value:"adventure",label:"Пригоди"},{value:"simulation",label:"Симулятори"},{value:"sports",label:"Спорт"},{value:"racing",label:"Гонки"},{value:"other",label:"Інше"}];function nx({onClose:e,onSubmit:t}){const[r,n]=w.useState(""),[s,i]=w.useState(""),[a,o]=w.useState(""),[u,c]=w.useState(""),[d,h]=w.useState("other"),[f,y]=w.useState(!1),v=async x=>{if(x.preventDefault(),!(!r.trim()||!u.trim())){y(!0);try{await t({title:r.trim(),description:s.trim(),thumbnail:a.trim()||void 0,game_url:u.trim(),category:d})}finally{y(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Додати нову гру"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ki,{size:24})})]}),l.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Назва гри *"}),l.jsx("input",{type:"text",value:r,onChange:x=>n(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введіть назву гри",required:!0,maxLength:100})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Опис гри"}),l.jsx("textarea",{value:s,onChange:x=>i(x.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Розкажіть про вашу гру...",maxLength:500})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Категорія *"}),l.jsx("select",{value:d,onChange:x=>h(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:rx.map(x=>l.jsx("option",{value:x.value,children:x.label},x.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL гри *"}),l.jsxs("div",{className:"relative",children:[l.jsx(x0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"url",value:u,onChange:x=>c(x.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/game.html",required:!0})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Посилання на HTML файл гри або веб-сторінку з грою"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Зображення гри (URL)"}),l.jsxs("div",{className:"relative",children:[l.jsx(nf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"url",value:a,onChange:x=>o(x.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/thumbnail.jpg"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Посилання на зображення-превью гри (необов'язково)"})]}),a&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Превью:"}),l.jsx("img",{src:a,alt:"Game thumbnail preview",className:"w-full h-32 object-cover rounded-lg",onError:x=>{x.currentTarget.style.display="none"}})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Скасувати"}),l.jsx("button",{type:"submit",disabled:f||!r.trim()||!u.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Додавання...":"Додати гру"})]})]})]})})}function sx({game:e,onClose:t}){var b,R;const[r,n]=w.useState(!1),[s,i]=w.useState(null),[a,o]=w.useState([]),[u,c]=w.useState(0),[d,h]=w.useState(""),[f,y]=w.useState(!1),[v]=w.useState(Date.now()),[x,j]=w.useState(!1);w.useEffect(()=>{m(),p(),g()},[e.id]);const m=async()=>{const E=await xt.getGameRatings(e.id);o(E)},p=async()=>{const E=await xt.getUserGameRating(e.id);i(E),E&&(c(E.rating),h(E.review))},g=async()=>{await xt.recordGamePlay(e.id)},_=async E=>{if(E.preventDefault(),u===0)return;j(!0),await xt.rateGame(e.id,u,d)&&(await m(),await p(),y(!1)),j(!1)},k=async()=>{const E=Math.floor((Date.now()-v)/1e3);E>10&&await xt.recordGamePlay(e.id,E),t()},P=()=>{n(!r)},T=(E,S=!1,U)=>l.jsx("div",{className:"flex",children:[1,2,3,4,5].map(W=>l.jsx("button",{type:S?"button":void 0,onClick:S&&U?()=>U(W):void 0,className:`${S?"cursor-pointer hover:scale-110":"cursor-default"} transition-transform`,disabled:!S,children:l.jsx($l,{size:20,className:`${W<=E?"text-yellow-400 fill-current":"text-gray-300"}`})},W))});return l.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 ${r?"p-0":"p-4"}`,children:l.jsxs("div",{className:`bg-white rounded-lg shadow-xl ${r?"w-full h-full rounded-none":"w-full max-w-6xl h-[90vh]"} flex flex-col`,children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mr-4",children:e.title}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx($l,{size:16,className:"mr-1 text-yellow-400 fill-current"}),l.jsxs("span",{children:[e.rating.toFixed(1)," (",a.length," відгуків)"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:P,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",title:r?"Вийти з повноекранного режиму":"Повноекранний режим",children:l.jsx(_0,{size:20})}),l.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",title:"Перезапустити гру",children:l.jsx(k0,{size:20})}),l.jsx("button",{onClick:k,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:l.jsx(Ki,{size:20})})]})]}),l.jsxs("div",{className:"flex-1 flex",children:[l.jsx("div",{className:"flex-1 bg-gray-100",children:l.jsx("iframe",{src:e.game_url,className:"w-full h-full border-0",title:e.title,allowFullScreen:!0,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-pointer-lock"})}),!r&&l.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 overflow-y-auto",children:l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Про гру"}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description||"Немає опису"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Розробник:"}),l.jsxs("span",{className:"text-gray-900",children:[(b=e.developer)==null?void 0:b.name," ",(R=e.developer)==null?void 0:R.lastName]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Категорія:"}),l.jsx("span",{className:"text-gray-900",children:e.category})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Зіграно:"}),l.jsxs("span",{className:"text-gray-900",children:[e.play_count," разів"]})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Оцінка"}),!s&&l.jsx("button",{onClick:()=>y(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:"Оцінити"})]}),f&&l.jsxs("form",{onSubmit:_,className:"mb-4 p-3 bg-white rounded-lg border",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ваша оцінка:"}),T(u,!0,c)]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Відгук (необов'язково):"}),l.jsx("textarea",{value:d,onChange:E=>h(E.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Поділіться враженнями від гри..."})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"Скасувати"}),l.jsx("button",{type:"submit",disabled:x||u===0,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 disabled:opacity-50",children:x?"Збереження...":"Зберегти"})]})]}),s&&l.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Ваша оцінка:"}),l.jsx("button",{onClick:()=>y(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:"Змінити"})]}),T(s.rating),s.review&&l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s.review})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[l.jsx(j0,{size:18,className:"mr-2"}),"Відгуки (",a.length,")"]}),l.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:a.length>0?a.map(E=>{var S,U,W,oe,pt,Ge;return l.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-2",children:(S=E.user)!=null&&S.avatar?l.jsx("img",{src:E.user.avatar,alt:E.user.name,className:"w-full h-full rounded-full object-cover"}):l.jsx("span",{className:"text-xs text-gray-600",children:(oe=(W=(U=E.user)==null?void 0:U.name)==null?void 0:W[0])==null?void 0:oe.toUpperCase()})}),l.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[(pt=E.user)==null?void 0:pt.name," ",(Ge=E.user)==null?void 0:Ge.lastName]})]}),T(E.rating)]}),E.review&&l.jsx("p",{className:"text-sm text-gray-600",children:E.review}),l.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(E.created_at).toLocaleDateString("uk-UA")})]},E.id)}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Поки немає відгуків"})})]})]})})]})]})})}const ix=[{value:"action",label:"Екшн"},{value:"puzzle",label:"Головоломки"},{value:"strategy",label:"Стратегія"},{value:"arcade",label:"Аркада"},{value:"adventure",label:"Пригоди"},{value:"simulation",label:"Симулятори"},{value:"sports",label:"Спорт"},{value:"racing",label:"Гонки"},{value:"other",label:"Інше"}];function ax(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[s,i]=w.useState([]),[a,o]=w.useState(!0),[u,c]=w.useState(""),[d,h]=w.useState(""),[f,y]=w.useState(!1),[v,x]=w.useState(null),[j,m]=w.useState("all");sr(),w.useEffect(()=>{p(),g(),_()},[]),w.useEffect(()=>{const b=setTimeout(()=>{p()},300);return()=>clearTimeout(b)},[u,d]);const p=async()=>{try{o(!0);const b=await xt.getAllGames(d,u);t(b)}catch(b){console.error("Error loading games:",b)}finally{o(!1)}},g=async()=>{try{const b=await xt.getPopularGames(6);n(b)}catch(b){console.error("Error loading popular games:",b)}},_=async()=>{try{const b=await xt.getTopRatedGames(6);i(b)}catch(b){console.error("Error loading top rated games:",b)}},k=async b=>{const R=await xt.createGame(b);R&&(t(E=>[R,...E]),y(!1))},P=b=>{x(b)},T=()=>{switch(j){case"popular":return r;case"top-rated":return s;default:return e}};return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx(rt,{}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(dc,{className:"h-8 w-8 text-blue-600 mr-3"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ігри"})]}),l.jsxs("button",{onClick:()=>y(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ll,{size:20,className:"mr-2"}),"Додати гру"]})]}),l.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg w-fit",children:[l.jsx("button",{onClick:()=>m("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${j==="all"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Всі ігри"}),l.jsxs("button",{onClick:()=>m("popular"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${j==="popular"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(S0,{size:16,className:"mr-1"}),"Популярні"]}),l.jsxs("button",{onClick:()=>m("top-rated"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${j==="top-rated"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(h0,{size:16,className:"mr-1"}),"Найкращі"]})]}),j==="all"&&l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:"Пошук ігор...",value:u,onChange:b=>c(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(g0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsxs("select",{value:d,onChange:b=>h(b.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[l.jsx("option",{value:"",children:"Всі категорії"}),ix.map(b=>l.jsx("option",{value:b.value,children:b.label},b.value))]})]})]}),a?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Завантаження ігор..."})]}):T().length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:T().map(b=>l.jsx(tx,{game:b,onPlay:()=>P(b)},b.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(dc,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:u||d?"Ігри не знайдено":"Немає ігор"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u||d?"Спробуйте змінити пошуковий запит або фільтр":"Додайте першу гру для спільноти"}),!u&&!d&&l.jsx("div",{className:"mt-6",children:l.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(Ll,{className:"-ml-1 mr-2 h-5 w-5"}),"Додати гру"]})})]})]})}),f&&l.jsx(nx,{onClose:()=>y(!1),onSubmit:k}),v&&l.jsx(sx,{game:v,onClose:()=>x(null)})]})}function lx(){const[e,t]=w.useState([]),[r,n]=w.useState(""),[s,i]=w.useState([]),[a,o]=w.useState(!1),[u,c]=w.useState(null);w.useEffect(()=>{d()},[]);const d=async()=>{const{data:v,error:x}=await O.from("posts").select("*, user:users(id, name, lastname, avatar)").order("created_at",{ascending:!1});x?c("Помилка завантаження постів"):t(v||[])},h=v=>{v.target.files&&i(Array.from(v.target.files))},f=v=>{i(s.filter((x,j)=>j!==v))},y=async()=>{if(!(!r.trim()&&s.length===0)){o(!0),c(null);try{const v=[];for(const j of s){const m=j.name.split(".").pop();let p="image";j.type.startsWith("video")&&(p="video"),j.type.startsWith("audio")&&(p="audio");const g=`post_${Date.now()}_${Math.random().toString(36).slice(2)}.${m}`,{error:_}=await O.storage.from("post-media").upload(g,j);if(_)throw _;const{data:k}=O.storage.from("post-media").getPublicUrl(g);v.push({type:p,url:k.publicUrl})}const{error:x}=await O.from("posts").insert([{content:r,media:v,created_at:new Date().toISOString()}]);if(x)throw x;n(""),i([]),d()}catch{c("Помилка публікації поста")}finally{o(!1)}}};return l.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[l.jsx("div",{style:{zIndex:50,background:"#fff",borderRight:"1px solid #e5e7eb",minHeight:"100vh",width:"16rem",position:"fixed",left:0,top:0},children:l.jsx(rt,{})}),l.jsx("div",{className:"flex-1 ml-64 p-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Стіна"}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-8",children:[l.jsx("textarea",{className:"w-full border rounded p-2 mb-2",rows:2,placeholder:"Що нового?",value:r,onChange:v=>n(v.target.value),disabled:a}),l.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*,audio/*",onChange:h,disabled:a,className:"mb-2"}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.map((v,x)=>l.jsxs("div",{className:"relative",children:[v.type.startsWith("image")&&l.jsx("img",{src:URL.createObjectURL(v),alt:"preview",className:"w-20 h-20 object-cover rounded"}),v.type.startsWith("video")&&l.jsx("video",{src:URL.createObjectURL(v),className:"w-20 h-20 object-cover rounded",controls:!0}),v.type.startsWith("audio")&&l.jsx("audio",{src:URL.createObjectURL(v),controls:!0,className:"w-20"}),l.jsx("button",{type:"button",onClick:()=>f(x),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center",children:"×"})]},x))}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 disabled:opacity-50",onClick:y,disabled:a,children:a?"Публікуємо...":"Опублікувати"}),u&&l.jsx("div",{className:"text-red-500 mt-2",children:u})]}),l.jsx("div",{children:e.length===0?l.jsx("div",{className:"text-center text-gray-500",children:"Постів ще немає"}):e.map(v=>{var x,j,m,p,g,_,k;return l.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold mr-3 overflow-hidden",children:(x=v.user)!=null&&x.avatar?l.jsx("img",{src:v.user.avatar,alt:"avatar",className:"w-full h-full object-cover"}):l.jsx("span",{children:(p=(m=(j=v.user)==null?void 0:j.name)==null?void 0:m[0])==null?void 0:p.toUpperCase()})}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold",children:[(g=v.user)==null?void 0:g.name," ",(_=v.user)==null?void 0:_.lastname]}),l.jsx("div",{className:"text-xs text-gray-400",children:new Date(v.created_at).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric"})})]})]}),l.jsx("div",{className:"mb-2 whitespace-pre-line",children:v.content}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(k=v.media)==null?void 0:k.map((P,T)=>l.jsxs("div",{children:[P.type==="image"&&l.jsx("img",{src:P.url,alt:"media",className:"max-w-xs max-h-60 rounded"}),P.type==="video"&&l.jsx("video",{src:P.url,controls:!0,className:"max-w-xs max-h-60 rounded"}),P.type==="audio"&&l.jsx("audio",{src:P.url,controls:!0,className:"w-60"})]},T))})]},v.id)})})]})})]})}function ox(){return w.useEffect(()=>{(async()=>{var r,n,s,i,a,o,u;const{data:{session:t}}=await O.auth.getSession();if(t!=null&&t.user){const{data:c}=await O.from("users").select("id").eq("email",t.user.email).single();c||await O.from("users").insert([{name:((r=t.user.user_metadata)==null?void 0:r.name)||((s=(n=t.user.user_metadata)==null?void 0:n.full_name)==null?void 0:s.split(" ")[0])||((i=t.user.email)==null?void 0:i.split("@")[0])||"User",lastName:((a=t.user.user_metadata)==null?void 0:a.lastName)||((u=(o=t.user.user_metadata)==null?void 0:o.full_name)==null?void 0:u.split(" ").slice(1).join(" "))||"",email:t.user.email,date:new Date().toISOString(),notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1}}])}})()},[]),null}function ux(){return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(on,{className:"h-8 w-8 text-blue-600"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Соціальна мережа"})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(us,{to:"/login",className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Вхід"}),l.jsx(us,{to:"/register",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200",children:"Реєстрація"})]})]})})}),l.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Ласкаво просимо до нашої спільноти"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Приєднуйтесь до нашої соціальної мережі, щоб спілкуватися з друзями, ділитися моментами та знаходити нові знайомства."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Спілкування"}),l.jsx("p",{className:"text-gray-600",children:"Спілкуйтеся з друзями та знаходьте нові знайомства"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Контент"}),l.jsx("p",{className:"text-gray-600",children:"Діліться фото, відео та іншими матеріалами"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Приватність"}),l.jsx("p",{className:"text-gray-600",children:"Повний контроль над вашими даними та приватністю"})]})]})]})})]})}function cx(){return l.jsxs(l.Fragment,{children:[l.jsx(ox,{}),l.jsxs(Qg,{children:[l.jsx(Qe,{path:"/",element:l.jsx(ux,{})}),l.jsx(Qe,{path:"/login",element:l.jsx(Gy,{})}),l.jsx(Qe,{path:"/register",element:l.jsx(Ky,{})}),l.jsx(Qe,{path:"/messages",element:l.jsx(Jy,{})}),l.jsx(Qe,{path:"/friends",element:l.jsx(Xy,{})}),l.jsx(Qe,{path:"/settings",element:l.jsx(Yy,{})}),l.jsx(Qe,{path:"/groups",element:l.jsx(Zy,{})}),l.jsx(Qe,{path:"/groups/:groupId",element:l.jsx(ex,{})}),l.jsx(Qe,{path:"/games",element:l.jsx(ax,{})}),l.jsx(Qe,{path:"/wall",element:l.jsx(lx,{})})]})]})}Mh(document.getElementById("root")).render(l.jsx(w.StrictMode,{children:l.jsx(n0,{children:l.jsx(cx,{})})}));export{Rf as g};
