function $0(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function M0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),r}var kh={exports:{}},tl={},_h={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ci=Symbol.for("react.element"),U0=Symbol.for("react.portal"),D0=Symbol.for("react.fragment"),I0=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),V0=Symbol.for("react.provider"),B0=Symbol.for("react.context"),q0=Symbol.for("react.forward_ref"),G0=Symbol.for("react.suspense"),H0=Symbol.for("react.memo"),W0=Symbol.for("react.lazy"),Pu=Symbol.iterator;function K0(e){return e===null||typeof e!="object"?null:(e=Pu&&e[Pu]||e["@@iterator"],typeof e=="function"?e:null)}var Sh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ch=Object.assign,Eh={};function yn(e,t,r){this.props=e,this.context=t,this.refs=Eh,this.updater=r||Sh}yn.prototype.isReactComponent={};yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ph(){}Ph.prototype=yn.prototype;function yc(e,t,r){this.props=e,this.context=t,this.refs=Eh,this.updater=r||Sh}var vc=yc.prototype=new Ph;vc.constructor=yc;Ch(vc,yn.prototype);vc.isPureReactComponent=!0;var Tu=Array.isArray,Th=Object.prototype.hasOwnProperty,wc={current:null},Rh={key:!0,ref:!0,__self:!0,__source:!0};function Lh(e,t,r){var s,i={},a=null,l=null;if(t!=null)for(s in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Th.call(t,s)&&!Rh.hasOwnProperty(s)&&(i[s]=t[s]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)i[s]===void 0&&(i[s]=o[s]);return{$$typeof:Ci,type:e,key:a,ref:l,props:i,_owner:wc.current}}function Q0(e,t){return{$$typeof:Ci,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ci}function J0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ru=/\/+/g;function Pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?J0(""+e.key):t.toString(36)}function ia(e,t,r,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ci:case U0:l=!0}}if(l)return l=e,i=i(l),e=s===""?"."+Pl(l,0):s,Tu(i)?(r="",e!=null&&(r=e.replace(Ru,"$&/")+"/"),ia(i,t,r,"",function(d){return d})):i!=null&&(bc(i)&&(i=Q0(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Ru,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=s===""?".":s+":",Tu(e))for(var o=0;o<e.length;o++){a=e[o];var c=s+Pl(a,o);l+=ia(a,t,r,c,i)}else if(c=K0(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=s+Pl(a,o++),l+=ia(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Mi(e,t,r){if(e==null)return e;var s=[],i=0;return ia(e,s,"","",function(a){return t.call(r,a,i++)}),s}function Z0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},aa={transition:null},X0={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:aa,ReactCurrentOwner:wc};function Oh(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Mi,forEach:function(e,t,r){Mi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Mi(e,function(){t++}),t},toArray:function(e){return Mi(e,function(t){return t})||[]},only:function(e){if(!bc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=yn;ge.Fragment=D0;ge.Profiler=F0;ge.PureComponent=yc;ge.StrictMode=I0;ge.Suspense=G0;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X0;ge.act=Oh;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Ch({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=wc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Th.call(t,c)&&!Rh.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:Ci,type:e.type,key:i,ref:a,props:s,_owner:l}};ge.createContext=function(e){return e={$$typeof:B0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:V0,_context:e},e.Consumer=e};ge.createElement=Lh;ge.createFactory=function(e){var t=Lh.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:q0,render:e}};ge.isValidElement=bc;ge.lazy=function(e){return{$$typeof:W0,_payload:{_status:-1,_result:e},_init:Z0}};ge.memo=function(e,t){return{$$typeof:H0,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=aa.transition;aa.transition={};try{e()}finally{aa.transition=t}};ge.unstable_act=Oh;ge.useCallback=function(e,t){return pt.current.useCallback(e,t)};ge.useContext=function(e){return pt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return pt.current.useEffect(e,t)};ge.useId=function(){return pt.current.useId()};ge.useImperativeHandle=function(e,t,r){return pt.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return pt.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return pt.current.useReducer(e,t,r)};ge.useRef=function(e){return pt.current.useRef(e)};ge.useState=function(e){return pt.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return pt.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return pt.current.useTransition()};ge.version="18.3.1";_h.exports=ge;var p=_h.exports;const Ut=z0(p),Y0=$0({__proto__:null,default:Ut},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=p,tp=Symbol.for("react.element"),rp=Symbol.for("react.fragment"),sp=Object.prototype.hasOwnProperty,np=ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ip={key:!0,ref:!0,__self:!0,__source:!0};function Ah(e,t,r){var s,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)sp.call(t,s)&&!ip.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:tp,type:e,key:a,ref:l,props:i,_owner:np.current}}tl.Fragment=rp;tl.jsx=Ah;tl.jsxs=Ah;kh.exports=tl;var n=kh.exports,$h={exports:{}},At={},zh={exports:{}},Mh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,J){var X=P.length;P.push(J);e:for(;0<X;){var ce=X-1>>>1,ae=P[ce];if(0<i(ae,J))P[ce]=J,P[X]=ae,X=ce;else break e}}function r(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var J=P[0],X=P.pop();if(X!==J){P[0]=X;e:for(var ce=0,ae=P.length,Ee=ae>>>1;ce<Ee;){var _=2*(ce+1)-1,z=P[_],H=_+1,ie=P[H];if(0>i(z,X))H<ae&&0>i(ie,z)?(P[ce]=ie,P[H]=X,ce=H):(P[ce]=z,P[_]=X,ce=_);else if(H<ae&&0>i(ie,X))P[ce]=ie,P[H]=X,ce=H;else break e}}return J}function i(P,J){var X=P.sortIndex-J.sortIndex;return X!==0?X:P.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,f=3,v=!1,j=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var J=r(d);J!==null;){if(J.callback===null)s(d);else if(J.startTime<=P)s(d),J.sortIndex=J.expirationTime,t(c,J);else break;J=r(d)}}function k(P){if(N=!1,x(P),!j)if(r(c)!==null)j=!0,le(O);else{var J=r(d);J!==null&&pe(k,J.startTime-P)}}function O(P,J){j=!1,N&&(N=!1,g(A),A=-1),v=!0;var X=f;try{for(x(J),h=r(c);h!==null&&(!(h.expirationTime>J)||P&&!Y());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,f=h.priorityLevel;var ae=ce(h.expirationTime<=J);J=e.unstable_now(),typeof ae=="function"?h.callback=ae:h===r(c)&&s(c),x(J)}else s(c);h=r(c)}if(h!==null)var Ee=!0;else{var _=r(d);_!==null&&pe(k,_.startTime-J),Ee=!1}return Ee}finally{h=null,f=X,v=!1}}var B=!1,I=null,A=-1,F=5,$=-1;function Y(){return!(e.unstable_now()-$<F)}function G(){if(I!==null){var P=e.unstable_now();$=P;var J=!0;try{J=I(!0,P)}finally{J?Z():(B=!1,I=null)}}else B=!1}var Z;if(typeof m=="function")Z=function(){m(G)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,de=se.port2;se.port1.onmessage=G,Z=function(){de.postMessage(null)}}else Z=function(){C(G,0)};function le(P){I=P,B||(B=!0,Z())}function pe(P,J){A=C(function(){P(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,le(O))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var X=f;f=J;try{return P()}finally{f=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,J){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var X=f;f=P;try{return J()}finally{f=X}},e.unstable_scheduleCallback=function(P,J,X){var ce=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ce+X:ce):X=ce,P){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=X+ae,P={id:u++,callback:J,priorityLevel:P,startTime:X,expirationTime:ae,sortIndex:-1},X>ce?(P.sortIndex=X,t(d,P),r(c)===null&&P===r(d)&&(N?(g(A),A=-1):N=!0,pe(k,X-ce))):(P.sortIndex=ae,t(c,P),j||v||(j=!0,le(O))),P},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(P){var J=f;return function(){var X=f;f=J;try{return P.apply(this,arguments)}finally{f=X}}}})(Mh);zh.exports=Mh;var ap=zh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp=p,Ot=ap;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uh=new Set,ii={};function Rs(e,t){ln(e,t),ln(e+"Capture",t)}function ln(e,t){for(ii[e]=t,e=0;e<t.length;e++)Uh.add(t[e])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=Object.prototype.hasOwnProperty,op=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lu={},Ou={};function cp(e){return co.call(Ou,e)?!0:co.call(Lu,e)?!1:op.test(e)?Ou[e]=!0:(Lu[e]=!0,!1)}function up(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dp(e,t,r,s){if(t===null||typeof t>"u"||up(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gt(e,t,r,s,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var jc=/[\-:]([a-z])/g;function Nc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jc,Nc);it[t]=new gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jc,Nc);it[t]=new gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jc,Nc);it[t]=new gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new gt(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function kc(e,t,r,s){var i=it.hasOwnProperty(t)?it[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dp(t,r,i,s)&&(r=null),s||i===null?cp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,s=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Pr=lp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ui=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),_c=Symbol.for("react.strict_mode"),uo=Symbol.for("react.profiler"),Dh=Symbol.for("react.provider"),Ih=Symbol.for("react.context"),Sc=Symbol.for("react.forward_ref"),ho=Symbol.for("react.suspense"),fo=Symbol.for("react.suspense_list"),Cc=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),Fh=Symbol.for("react.offscreen"),Au=Symbol.iterator;function En(e){return e===null||typeof e!="object"?null:(e=Au&&e[Au]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,Tl;function Dn(e){if(Tl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Tl=t&&t[1]||""}return`
`+Tl+e}var Rl=!1;function Ll(e,t){if(!e||Rl)return"";Rl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=s.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var c=`
`+i[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Rl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dn(e):""}function hp(e){switch(e.tag){case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 2:case 15:return e=Ll(e.type,!1),e;case 11:return e=Ll(e.type.render,!1),e;case 1:return e=Ll(e.type,!0),e;default:return""}}function mo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vs:return"Fragment";case Fs:return"Portal";case uo:return"Profiler";case _c:return"StrictMode";case ho:return"Suspense";case fo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ih:return(e.displayName||"Context")+".Consumer";case Dh:return(e._context.displayName||"Context")+".Provider";case Sc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cc:return t=e.displayName||null,t!==null?t:mo(e.type)||"Memo";case $r:t=e._payload,e=e._init;try{return mo(e(t))}catch{}}return null}function fp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mo(t);case 8:return t===_c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mp(e){var t=Vh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){s=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Di(e){e._valueTracker||(e._valueTracker=mp(e))}function Bh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Vh(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function po(e,t){var r=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $u(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=ts(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qh(e,t){t=t.checked,t!=null&&kc(e,"checked",t,!1)}function go(e,t){qh(e,t);var r=ts(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xo(e,t.type,r):t.hasOwnProperty("defaultValue")&&xo(e,t.type,ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xo(e,t,r){(t!=="number"||ba(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var In=Array.isArray;function Ys(e,t,r,s){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ts(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function yo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(In(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ts(r)}}function Gh(e,t){var r=ts(t.value),s=ts(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Uu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ii,Wh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ii=Ii||document.createElement("div"),Ii.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ai(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pp=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(e){pp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gn[t]=Gn[e]})});function Kh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gn.hasOwnProperty(e)&&Gn[e]?(""+t).trim():t+"px"}function Qh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,i=Kh(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,i):e[r]=i}}var gp=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wo(e,t){if(t){if(gp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=null;function Ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var No=null,en=null,tn=null;function Du(e){if(e=Ti(e)){if(typeof No!="function")throw Error(q(280));var t=e.stateNode;t&&(t=al(t),No(e.stateNode,e.type,t))}}function Jh(e){en?tn?tn.push(e):tn=[e]:en=e}function Zh(){if(en){var e=en,t=tn;if(tn=en=null,Du(e),t)for(e=0;e<t.length;e++)Du(t[e])}}function Xh(e,t){return e(t)}function Yh(){}var Ol=!1;function ef(e,t,r){if(Ol)return e(t,r);Ol=!0;try{return Xh(e,t,r)}finally{Ol=!1,(en!==null||tn!==null)&&(Yh(),Zh())}}function li(e,t){var r=e.stateNode;if(r===null)return null;var s=al(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var ko=!1;if(kr)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){ko=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{ko=!1}function xp(e,t,r,s,i,a,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Hn=!1,ja=null,Na=!1,_o=null,yp={onError:function(e){Hn=!0,ja=e}};function vp(e,t,r,s,i,a,l,o,c){Hn=!1,ja=null,xp.apply(yp,arguments)}function wp(e,t,r,s,i,a,l,o,c){if(vp.apply(this,arguments),Hn){if(Hn){var d=ja;Hn=!1,ja=null}else throw Error(q(198));Na||(Na=!0,_o=d)}}function Ls(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iu(e){if(Ls(e)!==e)throw Error(q(188))}function bp(e){var t=e.alternate;if(!t){if(t=Ls(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,s=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){r=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Iu(i),e;if(a===s)return Iu(i),t;a=a.sibling}throw Error(q(188))}if(r.return!==s.return)r=i,s=a;else{for(var l=!1,o=i.child;o;){if(o===r){l=!0,r=i,s=a;break}if(o===s){l=!0,s=i,r=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===r){l=!0,r=a,s=i;break}if(o===s){l=!0,s=a,r=i;break}o=o.sibling}if(!l)throw Error(q(189))}}if(r.alternate!==s)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function rf(e){return e=bp(e),e!==null?sf(e):null}function sf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sf(e);if(t!==null)return t;e=e.sibling}return null}var nf=Ot.unstable_scheduleCallback,Fu=Ot.unstable_cancelCallback,jp=Ot.unstable_shouldYield,Np=Ot.unstable_requestPaint,qe=Ot.unstable_now,kp=Ot.unstable_getCurrentPriorityLevel,Pc=Ot.unstable_ImmediatePriority,af=Ot.unstable_UserBlockingPriority,ka=Ot.unstable_NormalPriority,_p=Ot.unstable_LowPriority,lf=Ot.unstable_IdlePriority,rl=null,hr=null;function Sp(e){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(rl,e,void 0,(e.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:Pp,Cp=Math.log,Ep=Math.LN2;function Pp(e){return e>>>=0,e===0?32:31-(Cp(e)/Ep|0)|0}var Fi=64,Vi=4194304;function Fn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _a(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~i;o!==0?s=Fn(o):(a&=l,a!==0&&(s=Fn(a)))}else l=r&~i,l!==0?s=Fn(l):a!==0&&(s=Fn(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-er(t),i=1<<r,s|=e[r],t&=~i;return s}function Tp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rp(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-er(a),o=1<<l,c=i[l];c===-1?(!(o&r)||o&s)&&(i[l]=Tp(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function So(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function of(){var e=Fi;return Fi<<=1,!(Fi&4194240)&&(Fi=64),e}function Al(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ei(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-er(t),e[t]=r}function Lp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-er(r),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,r&=~a}}function Tc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-er(r),i=1<<s;i&t|e[s]&t&&(e[s]|=t),r&=~i}}var _e=0;function cf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uf,Rc,df,hf,ff,Co=!1,Bi=[],Hr=null,Wr=null,Kr=null,oi=new Map,ci=new Map,Ur=[],Op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vu(e,t){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(t.pointerId)}}function Tn(e,t,r,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ti(t),t!==null&&Rc(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ap(e,t,r,s,i){switch(t){case"focusin":return Hr=Tn(Hr,e,t,r,s,i),!0;case"dragenter":return Wr=Tn(Wr,e,t,r,s,i),!0;case"mouseover":return Kr=Tn(Kr,e,t,r,s,i),!0;case"pointerover":var a=i.pointerId;return oi.set(a,Tn(oi.get(a)||null,e,t,r,s,i)),!0;case"gotpointercapture":return a=i.pointerId,ci.set(a,Tn(ci.get(a)||null,e,t,r,s,i)),!0}return!1}function mf(e){var t=xs(e.target);if(t!==null){var r=Ls(t);if(r!==null){if(t=r.tag,t===13){if(t=tf(r),t!==null){e.blockedOn=t,ff(e.priority,function(){df(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function la(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);jo=s,r.target.dispatchEvent(s),jo=null}else return t=Ti(r),t!==null&&Rc(t),e.blockedOn=r,!1;t.shift()}return!0}function Bu(e,t,r){la(e)&&r.delete(t)}function $p(){Co=!1,Hr!==null&&la(Hr)&&(Hr=null),Wr!==null&&la(Wr)&&(Wr=null),Kr!==null&&la(Kr)&&(Kr=null),oi.forEach(Bu),ci.forEach(Bu)}function Rn(e,t){e.blockedOn===t&&(e.blockedOn=null,Co||(Co=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,$p)))}function ui(e){function t(i){return Rn(i,e)}if(0<Bi.length){Rn(Bi[0],e);for(var r=1;r<Bi.length;r++){var s=Bi[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Hr!==null&&Rn(Hr,e),Wr!==null&&Rn(Wr,e),Kr!==null&&Rn(Kr,e),oi.forEach(t),ci.forEach(t),r=0;r<Ur.length;r++)s=Ur[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ur.length&&(r=Ur[0],r.blockedOn===null);)mf(r),r.blockedOn===null&&Ur.shift()}var rn=Pr.ReactCurrentBatchConfig,Sa=!0;function zp(e,t,r,s){var i=_e,a=rn.transition;rn.transition=null;try{_e=1,Lc(e,t,r,s)}finally{_e=i,rn.transition=a}}function Mp(e,t,r,s){var i=_e,a=rn.transition;rn.transition=null;try{_e=4,Lc(e,t,r,s)}finally{_e=i,rn.transition=a}}function Lc(e,t,r,s){if(Sa){var i=Eo(e,t,r,s);if(i===null)ql(e,t,s,Ca,r),Vu(e,s);else if(Ap(i,e,t,r,s))s.stopPropagation();else if(Vu(e,s),t&4&&-1<Op.indexOf(e)){for(;i!==null;){var a=Ti(i);if(a!==null&&uf(a),a=Eo(e,t,r,s),a===null&&ql(e,t,s,Ca,r),a===i)break;i=a}i!==null&&s.stopPropagation()}else ql(e,t,s,null,r)}}var Ca=null;function Eo(e,t,r,s){if(Ca=null,e=Ec(s),e=xs(e),e!==null)if(t=Ls(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ca=e,null}function pf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kp()){case Pc:return 1;case af:return 4;case ka:case _p:return 16;case lf:return 536870912;default:return 16}default:return 16}}var Vr=null,Oc=null,oa=null;function gf(){if(oa)return oa;var e,t=Oc,r=t.length,s,i="value"in Vr?Vr.value:Vr.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(s=1;s<=l&&t[r-s]===i[a-s];s++);return oa=i.slice(e,1<s?1-s:void 0)}function ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qi(){return!0}function qu(){return!1}function $t(e){function t(r,s,i,a,l){this._reactName=r,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?qi:qu,this.isPropagationStopped=qu,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),t}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=$t(vn),Pi=De({},vn,{view:0,detail:0}),Up=$t(Pi),$l,zl,Ln,sl=De({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ln&&(Ln&&e.type==="mousemove"?($l=e.screenX-Ln.screenX,zl=e.screenY-Ln.screenY):zl=$l=0,Ln=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:zl}}),Gu=$t(sl),Dp=De({},sl,{dataTransfer:0}),Ip=$t(Dp),Fp=De({},Pi,{relatedTarget:0}),Ml=$t(Fp),Vp=De({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Bp=$t(Vp),qp=De({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gp=$t(qp),Hp=De({},vn,{data:0}),Hu=$t(Hp),Wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qp[e])?!!t[e]:!1}function $c(){return Jp}var Zp=De({},Pi,{key:function(e){if(e.key){var t=Wp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(e){return e.type==="keypress"?ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xp=$t(Zp),Yp=De({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wu=$t(Yp),eg=De({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),tg=$t(eg),rg=De({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),sg=$t(rg),ng=De({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ig=$t(ng),ag=[9,13,27,32],zc=kr&&"CompositionEvent"in window,Wn=null;kr&&"documentMode"in document&&(Wn=document.documentMode);var lg=kr&&"TextEvent"in window&&!Wn,xf=kr&&(!zc||Wn&&8<Wn&&11>=Wn),Ku=" ",Qu=!1;function yf(e,t){switch(e){case"keyup":return ag.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bs=!1;function og(e,t){switch(e){case"compositionend":return vf(t);case"keypress":return t.which!==32?null:(Qu=!0,Ku);case"textInput":return e=t.data,e===Ku&&Qu?null:e;default:return null}}function cg(e,t){if(Bs)return e==="compositionend"||!zc&&yf(e,t)?(e=gf(),oa=Oc=Vr=null,Bs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xf&&t.locale!=="ko"?null:t.data;default:return null}}var ug={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ug[e.type]:t==="textarea"}function wf(e,t,r,s){Jh(s),t=Ea(t,"onChange"),0<t.length&&(r=new Ac("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Kn=null,di=null;function dg(e){Rf(e,0)}function nl(e){var t=Hs(e);if(Bh(t))return e}function hg(e,t){if(e==="change")return t}var bf=!1;if(kr){var Ul;if(kr){var Dl="oninput"in document;if(!Dl){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),Dl=typeof Zu.oninput=="function"}Ul=Dl}else Ul=!1;bf=Ul&&(!document.documentMode||9<document.documentMode)}function Xu(){Kn&&(Kn.detachEvent("onpropertychange",jf),di=Kn=null)}function jf(e){if(e.propertyName==="value"&&nl(di)){var t=[];wf(t,di,e,Ec(e)),ef(dg,t)}}function fg(e,t,r){e==="focusin"?(Xu(),Kn=t,di=r,Kn.attachEvent("onpropertychange",jf)):e==="focusout"&&Xu()}function mg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nl(di)}function pg(e,t){if(e==="click")return nl(t)}function gg(e,t){if(e==="input"||e==="change")return nl(t)}function xg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sr=typeof Object.is=="function"?Object.is:xg;function hi(e,t){if(sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var i=r[s];if(!co.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function Yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ed(e,t){var r=Yu(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yu(r)}}function Nf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kf(){for(var e=window,t=ba();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ba(e.document)}return t}function Mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yg(e){var t=kf(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Nf(r.ownerDocument.documentElement,r)){if(s!==null&&Mc(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=ed(r,a);var l=ed(r,s);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vg=kr&&"documentMode"in document&&11>=document.documentMode,qs=null,Po=null,Qn=null,To=!1;function td(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;To||qs==null||qs!==ba(s)||(s=qs,"selectionStart"in s&&Mc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Qn&&hi(Qn,s)||(Qn=s,s=Ea(Po,"onSelect"),0<s.length&&(t=new Ac("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=qs)))}function Gi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gs={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},Il={},_f={};kr&&(_f=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function il(e){if(Il[e])return Il[e];if(!Gs[e])return e;var t=Gs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _f)return Il[e]=t[r];return e}var Sf=il("animationend"),Cf=il("animationiteration"),Ef=il("animationstart"),Pf=il("transitionend"),Tf=new Map,rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(e,t){Tf.set(e,t),Rs(t,[e])}for(var Fl=0;Fl<rd.length;Fl++){var Vl=rd[Fl],wg=Vl.toLowerCase(),bg=Vl[0].toUpperCase()+Vl.slice(1);ss(wg,"on"+bg)}ss(Sf,"onAnimationEnd");ss(Cf,"onAnimationIteration");ss(Ef,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(Pf,"onTransitionEnd");ln("onMouseEnter",["mouseout","mouseover"]);ln("onMouseLeave",["mouseout","mouseover"]);ln("onPointerEnter",["pointerout","pointerover"]);ln("onPointerLeave",["pointerout","pointerover"]);Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vn));function sd(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,wp(s,t,void 0,e),e.currentTarget=null}function Rf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var l=s.length-1;0<=l;l--){var o=s[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;sd(i,o,d),a=c}else for(l=0;l<s.length;l++){if(o=s[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;sd(i,o,d),a=c}}}if(Na)throw e=_o,Na=!1,_o=null,e}function Te(e,t){var r=t[$o];r===void 0&&(r=t[$o]=new Set);var s=e+"__bubble";r.has(s)||(Lf(t,e,2,!1),r.add(s))}function Bl(e,t,r){var s=0;t&&(s|=4),Lf(r,e,s,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function fi(e){if(!e[Hi]){e[Hi]=!0,Uh.forEach(function(r){r!=="selectionchange"&&(jg.has(r)||Bl(r,!1,e),Bl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,Bl("selectionchange",!1,t))}}function Lf(e,t,r,s){switch(pf(t)){case 1:var i=zp;break;case 4:i=Mp;break;default:i=Lc}r=i.bind(null,t,r,e),i=void 0,!ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ql(e,t,r,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var o=s.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=s.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=xs(o),l===null)return;if(c=l.tag,c===5||c===6){s=a=l;continue e}o=o.parentNode}}s=s.return}ef(function(){var d=a,u=Ec(r),h=[];e:{var f=Tf.get(e);if(f!==void 0){var v=Ac,j=e;switch(e){case"keypress":if(ca(r)===0)break e;case"keydown":case"keyup":v=Xp;break;case"focusin":j="focus",v=Ml;break;case"focusout":j="blur",v=Ml;break;case"beforeblur":case"afterblur":v=Ml;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=tg;break;case Sf:case Cf:case Ef:v=Bp;break;case Pf:v=sg;break;case"scroll":v=Up;break;case"wheel":v=ig;break;case"copy":case"cut":case"paste":v=Gp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Wu}var N=(t&4)!==0,C=!N&&e==="scroll",g=N?f!==null?f+"Capture":null:f;N=[];for(var m=d,x;m!==null;){x=m;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,g!==null&&(k=li(m,g),k!=null&&N.push(mi(m,k,x)))),C)break;m=m.return}0<N.length&&(f=new v(f,j,null,r,u),h.push({event:f,listeners:N}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&r!==jo&&(j=r.relatedTarget||r.fromElement)&&(xs(j)||j[_r]))break e;if((v||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,v?(j=r.relatedTarget||r.toElement,v=d,j=j?xs(j):null,j!==null&&(C=Ls(j),j!==C||j.tag!==5&&j.tag!==6)&&(j=null)):(v=null,j=d),v!==j)){if(N=Gu,k="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(N=Wu,k="onPointerLeave",g="onPointerEnter",m="pointer"),C=v==null?f:Hs(v),x=j==null?f:Hs(j),f=new N(k,m+"leave",v,r,u),f.target=C,f.relatedTarget=x,k=null,xs(u)===d&&(N=new N(g,m+"enter",j,r,u),N.target=x,N.relatedTarget=C,k=N),C=k,v&&j)t:{for(N=v,g=j,m=0,x=N;x;x=$s(x))m++;for(x=0,k=g;k;k=$s(k))x++;for(;0<m-x;)N=$s(N),m--;for(;0<x-m;)g=$s(g),x--;for(;m--;){if(N===g||g!==null&&N===g.alternate)break t;N=$s(N),g=$s(g)}N=null}else N=null;v!==null&&nd(h,f,v,N,!1),j!==null&&C!==null&&nd(h,C,j,N,!0)}}e:{if(f=d?Hs(d):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var O=hg;else if(Ju(f))if(bf)O=gg;else{O=mg;var B=fg}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=pg);if(O&&(O=O(e,d))){wf(h,O,r,u);break e}B&&B(e,f,d),e==="focusout"&&(B=f._wrapperState)&&B.controlled&&f.type==="number"&&xo(f,"number",f.value)}switch(B=d?Hs(d):window,e){case"focusin":(Ju(B)||B.contentEditable==="true")&&(qs=B,Po=d,Qn=null);break;case"focusout":Qn=Po=qs=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,td(h,r,u);break;case"selectionchange":if(vg)break;case"keydown":case"keyup":td(h,r,u)}var I;if(zc)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Bs?yf(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(xf&&r.locale!=="ko"&&(Bs||A!=="onCompositionStart"?A==="onCompositionEnd"&&Bs&&(I=gf()):(Vr=u,Oc="value"in Vr?Vr.value:Vr.textContent,Bs=!0)),B=Ea(d,A),0<B.length&&(A=new Hu(A,e,null,r,u),h.push({event:A,listeners:B}),I?A.data=I:(I=vf(r),I!==null&&(A.data=I)))),(I=lg?og(e,r):cg(e,r))&&(d=Ea(d,"onBeforeInput"),0<d.length&&(u=new Hu("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=I))}Rf(h,t)})}function mi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ea(e,t){for(var r=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=li(e,r),a!=null&&s.unshift(mi(e,a,i)),a=li(e,t),a!=null&&s.push(mi(e,a,i))),e=e.return}return s}function $s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nd(e,t,r,s,i){for(var a=t._reactName,l=[];r!==null&&r!==s;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&d!==null&&(o=d,i?(c=li(r,a),c!=null&&l.unshift(mi(r,c,o))):i||(c=li(r,a),c!=null&&l.push(mi(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var Ng=/\r\n?/g,kg=/\u0000|\uFFFD/g;function id(e){return(typeof e=="string"?e:""+e).replace(Ng,`
`).replace(kg,"")}function Wi(e,t,r){if(t=id(t),id(e)!==t&&r)throw Error(q(425))}function Pa(){}var Ro=null,Lo=null;function Oo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ao=typeof setTimeout=="function"?setTimeout:void 0,_g=typeof clearTimeout=="function"?clearTimeout:void 0,ad=typeof Promise=="function"?Promise:void 0,Sg=typeof queueMicrotask=="function"?queueMicrotask:typeof ad<"u"?function(e){return ad.resolve(null).then(e).catch(Cg)}:Ao;function Cg(e){setTimeout(function(){throw e})}function Gl(e,t){var r=t,s=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(s===0){e.removeChild(i),ui(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=i}while(r);ui(t)}function Qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),cr="__reactFiber$"+wn,pi="__reactProps$"+wn,_r="__reactContainer$"+wn,$o="__reactEvents$"+wn,Eg="__reactListeners$"+wn,Pg="__reactHandles$"+wn;function xs(e){var t=e[cr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_r]||r[cr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ld(e);e!==null;){if(r=e[cr])return r;e=ld(e)}return t}e=r,r=e.parentNode}return null}function Ti(e){return e=e[cr]||e[_r],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function al(e){return e[pi]||null}var zo=[],Ws=-1;function ns(e){return{current:e}}function Re(e){0>Ws||(e.current=zo[Ws],zo[Ws]=null,Ws--)}function Ce(e,t){Ws++,zo[Ws]=e.current,e.current=t}var rs={},ct=ns(rs),kt=ns(!1),ks=rs;function on(e,t){var r=e.type.contextTypes;if(!r)return rs;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _t(e){return e=e.childContextTypes,e!=null}function Ta(){Re(kt),Re(ct)}function od(e,t,r){if(ct.current!==rs)throw Error(q(168));Ce(ct,t),Ce(kt,r)}function Of(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(q(108,fp(e)||"Unknown",i));return De({},r,s)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rs,ks=ct.current,Ce(ct,e),Ce(kt,kt.current),!0}function cd(e,t,r){var s=e.stateNode;if(!s)throw Error(q(169));r?(e=Of(e,t,ks),s.__reactInternalMemoizedMergedChildContext=e,Re(kt),Re(ct),Ce(ct,e)):Re(kt),Ce(kt,r)}var xr=null,ll=!1,Hl=!1;function Af(e){xr===null?xr=[e]:xr.push(e)}function Tg(e){ll=!0,Af(e)}function is(){if(!Hl&&xr!==null){Hl=!0;var e=0,t=_e;try{var r=xr;for(_e=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}xr=null,ll=!1}catch(i){throw xr!==null&&(xr=xr.slice(e+1)),nf(Pc,is),i}finally{_e=t,Hl=!1}}return null}var Ks=[],Qs=0,La=null,Oa=0,Dt=[],It=0,_s=null,wr=1,br="";function hs(e,t){Ks[Qs++]=Oa,Ks[Qs++]=La,La=e,Oa=t}function $f(e,t,r){Dt[It++]=wr,Dt[It++]=br,Dt[It++]=_s,_s=e;var s=wr;e=br;var i=32-er(s)-1;s&=~(1<<i),r+=1;var a=32-er(t)+i;if(30<a){var l=i-i%5;a=(s&(1<<l)-1).toString(32),s>>=l,i-=l,wr=1<<32-er(t)+i|r<<i|s,br=a+e}else wr=1<<a|r<<i|s,br=e}function Uc(e){e.return!==null&&(hs(e,1),$f(e,1,0))}function Dc(e){for(;e===La;)La=Ks[--Qs],Ks[Qs]=null,Oa=Ks[--Qs],Ks[Qs]=null;for(;e===_s;)_s=Dt[--It],Dt[It]=null,br=Dt[--It],Dt[It]=null,wr=Dt[--It],Dt[It]=null}var Lt=null,Rt=null,Ae=!1,Zt=null;function zf(e,t){var r=Ft(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ud(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,Rt=Qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_s!==null?{id:wr,overflow:br}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ft(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Lt=e,Rt=null,!0):!1;default:return!1}}function Mo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Uo(e){if(Ae){var t=Rt;if(t){var r=t;if(!ud(e,t)){if(Mo(e))throw Error(q(418));t=Qr(r.nextSibling);var s=Lt;t&&ud(e,t)?zf(s,r):(e.flags=e.flags&-4097|2,Ae=!1,Lt=e)}}else{if(Mo(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ae=!1,Lt=e}}}function dd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function Ki(e){if(e!==Lt)return!1;if(!Ae)return dd(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oo(e.type,e.memoizedProps)),t&&(t=Rt)){if(Mo(e))throw Mf(),Error(q(418));for(;t;)zf(e,t),t=Qr(t.nextSibling)}if(dd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Rt=Qr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Lt?Qr(e.stateNode.nextSibling):null;return!0}function Mf(){for(var e=Rt;e;)e=Qr(e.nextSibling)}function cn(){Rt=Lt=null,Ae=!1}function Ic(e){Zt===null?Zt=[e]:Zt.push(e)}var Rg=Pr.ReactCurrentBatchConfig;function On(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var s=r.stateNode}if(!s)throw Error(q(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function Qi(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hd(e){var t=e._init;return t(e._payload)}function Uf(e){function t(g,m){if(e){var x=g.deletions;x===null?(g.deletions=[m],g.flags|=16):x.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function s(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Yr(g,m),g.index=0,g.sibling=null,g}function a(g,m,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<m?(g.flags|=2,m):x):(g.flags|=2,m)):(g.flags|=1048576,m)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,m,x,k){return m===null||m.tag!==6?(m=Yl(x,g.mode,k),m.return=g,m):(m=i(m,x),m.return=g,m)}function c(g,m,x,k){var O=x.type;return O===Vs?u(g,m,x.props.children,k,x.key):m!==null&&(m.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===$r&&hd(O)===m.type)?(k=i(m,x.props),k.ref=On(g,m,x),k.return=g,k):(k=ga(x.type,x.key,x.props,null,g.mode,k),k.ref=On(g,m,x),k.return=g,k)}function d(g,m,x,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=eo(x,g.mode,k),m.return=g,m):(m=i(m,x.children||[]),m.return=g,m)}function u(g,m,x,k,O){return m===null||m.tag!==7?(m=js(x,g.mode,k,O),m.return=g,m):(m=i(m,x),m.return=g,m)}function h(g,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Yl(""+m,g.mode,x),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ui:return x=ga(m.type,m.key,m.props,null,g.mode,x),x.ref=On(g,null,m),x.return=g,x;case Fs:return m=eo(m,g.mode,x),m.return=g,m;case $r:var k=m._init;return h(g,k(m._payload),x)}if(In(m)||En(m))return m=js(m,g.mode,x,null),m.return=g,m;Qi(g,m)}return null}function f(g,m,x,k){var O=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:o(g,m,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ui:return x.key===O?c(g,m,x,k):null;case Fs:return x.key===O?d(g,m,x,k):null;case $r:return O=x._init,f(g,m,O(x._payload),k)}if(In(x)||En(x))return O!==null?null:u(g,m,x,k,null);Qi(g,x)}return null}function v(g,m,x,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(x)||null,o(m,g,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ui:return g=g.get(k.key===null?x:k.key)||null,c(m,g,k,O);case Fs:return g=g.get(k.key===null?x:k.key)||null,d(m,g,k,O);case $r:var B=k._init;return v(g,m,x,B(k._payload),O)}if(In(k)||En(k))return g=g.get(x)||null,u(m,g,k,O,null);Qi(m,k)}return null}function j(g,m,x,k){for(var O=null,B=null,I=m,A=m=0,F=null;I!==null&&A<x.length;A++){I.index>A?(F=I,I=null):F=I.sibling;var $=f(g,I,x[A],k);if($===null){I===null&&(I=F);break}e&&I&&$.alternate===null&&t(g,I),m=a($,m,A),B===null?O=$:B.sibling=$,B=$,I=F}if(A===x.length)return r(g,I),Ae&&hs(g,A),O;if(I===null){for(;A<x.length;A++)I=h(g,x[A],k),I!==null&&(m=a(I,m,A),B===null?O=I:B.sibling=I,B=I);return Ae&&hs(g,A),O}for(I=s(g,I);A<x.length;A++)F=v(I,g,A,x[A],k),F!==null&&(e&&F.alternate!==null&&I.delete(F.key===null?A:F.key),m=a(F,m,A),B===null?O=F:B.sibling=F,B=F);return e&&I.forEach(function(Y){return t(g,Y)}),Ae&&hs(g,A),O}function N(g,m,x,k){var O=En(x);if(typeof O!="function")throw Error(q(150));if(x=O.call(x),x==null)throw Error(q(151));for(var B=O=null,I=m,A=m=0,F=null,$=x.next();I!==null&&!$.done;A++,$=x.next()){I.index>A?(F=I,I=null):F=I.sibling;var Y=f(g,I,$.value,k);if(Y===null){I===null&&(I=F);break}e&&I&&Y.alternate===null&&t(g,I),m=a(Y,m,A),B===null?O=Y:B.sibling=Y,B=Y,I=F}if($.done)return r(g,I),Ae&&hs(g,A),O;if(I===null){for(;!$.done;A++,$=x.next())$=h(g,$.value,k),$!==null&&(m=a($,m,A),B===null?O=$:B.sibling=$,B=$);return Ae&&hs(g,A),O}for(I=s(g,I);!$.done;A++,$=x.next())$=v(I,g,A,$.value,k),$!==null&&(e&&$.alternate!==null&&I.delete($.key===null?A:$.key),m=a($,m,A),B===null?O=$:B.sibling=$,B=$);return e&&I.forEach(function(G){return t(g,G)}),Ae&&hs(g,A),O}function C(g,m,x,k){if(typeof x=="object"&&x!==null&&x.type===Vs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ui:e:{for(var O=x.key,B=m;B!==null;){if(B.key===O){if(O=x.type,O===Vs){if(B.tag===7){r(g,B.sibling),m=i(B,x.props.children),m.return=g,g=m;break e}}else if(B.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===$r&&hd(O)===B.type){r(g,B.sibling),m=i(B,x.props),m.ref=On(g,B,x),m.return=g,g=m;break e}r(g,B);break}else t(g,B);B=B.sibling}x.type===Vs?(m=js(x.props.children,g.mode,k,x.key),m.return=g,g=m):(k=ga(x.type,x.key,x.props,null,g.mode,k),k.ref=On(g,m,x),k.return=g,g=k)}return l(g);case Fs:e:{for(B=x.key;m!==null;){if(m.key===B)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){r(g,m.sibling),m=i(m,x.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=eo(x,g.mode,k),m.return=g,g=m}return l(g);case $r:return B=x._init,C(g,m,B(x._payload),k)}if(In(x))return j(g,m,x,k);if(En(x))return N(g,m,x,k);Qi(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(r(g,m.sibling),m=i(m,x),m.return=g,g=m):(r(g,m),m=Yl(x,g.mode,k),m.return=g,g=m),l(g)):r(g,m)}return C}var un=Uf(!0),Df=Uf(!1),Aa=ns(null),$a=null,Js=null,Fc=null;function Vc(){Fc=Js=$a=null}function Bc(e){var t=Aa.current;Re(Aa),e._currentValue=t}function Do(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function sn(e,t){$a=e,Fc=Js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(Fc!==e)if(e={context:e,memoizedValue:t,next:null},Js===null){if($a===null)throw Error(q(308));Js=e,$a.dependencies={lanes:0,firstContext:e}}else Js=Js.next=e;return t}var ys=null;function qc(e){ys===null?ys=[e]:ys.push(e)}function If(e,t,r,s){var i=t.interleaved;return i===null?(r.next=r,qc(t)):(r.next=i.next,i.next=r),t.interleaved=r,Sr(e,s)}function Sr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zr=!1;function Gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ff(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,be&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,Sr(e,r)}return i=s.interleaved,i===null?(t.next=t,qc(s)):(t.next=i.next,i.next=t),s.interleaved=t,Sr(e,r)}function ua(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Tc(e,r)}}function fd(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function za(e,t,r,s){var i=e.updateQueue;zr=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?a=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;l=0,u=d=c=null,o=a;do{var f=o.lane,v=o.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var j=e,N=o;switch(f=t,v=r,N.tag){case 1:if(j=N.payload,typeof j=="function"){h=j.call(v,h,f);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=N.payload,f=typeof j=="function"?j.call(v,h,f):j,f==null)break e;h=De({},h,f);break e;case 2:zr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else v={eventTime:v,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=v,c=h):u=u.next=v,l|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Cs|=l,e.lanes=l,e.memoizedState=h}}function md(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=r,typeof i!="function")throw Error(q(191,i));i.call(s)}}}var Ri={},fr=ns(Ri),gi=ns(Ri),xi=ns(Ri);function vs(e){if(e===Ri)throw Error(q(174));return e}function Hc(e,t){switch(Ce(xi,t),Ce(gi,e),Ce(fr,Ri),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vo(t,e)}Re(fr),Ce(fr,t)}function dn(){Re(fr),Re(gi),Re(xi)}function Vf(e){vs(xi.current);var t=vs(fr.current),r=vo(t,e.type);t!==r&&(Ce(gi,e),Ce(fr,r))}function Wc(e){gi.current===e&&(Re(fr),Re(gi))}var Me=ns(0);function Ma(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wl=[];function Kc(){for(var e=0;e<Wl.length;e++)Wl[e]._workInProgressVersionPrimary=null;Wl.length=0}var da=Pr.ReactCurrentDispatcher,Kl=Pr.ReactCurrentBatchConfig,Ss=0,Ue=null,Qe=null,et=null,Ua=!1,Jn=!1,yi=0,Lg=0;function at(){throw Error(q(321))}function Qc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sr(e[r],t[r]))return!1;return!0}function Jc(e,t,r,s,i,a){if(Ss=a,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=e===null||e.memoizedState===null?zg:Mg,e=r(s,i),Jn){a=0;do{if(Jn=!1,yi=0,25<=a)throw Error(q(301));a+=1,et=Qe=null,t.updateQueue=null,da.current=Ug,e=r(s,i)}while(Jn)}if(da.current=Da,t=Qe!==null&&Qe.next!==null,Ss=0,et=Qe=Ue=null,Ua=!1,t)throw Error(q(300));return e}function Zc(){var e=yi!==0;return yi=0,e}function lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ue.memoizedState=et=e:et=et.next=e,et}function Gt(){if(Qe===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=et===null?Ue.memoizedState:et.next;if(t!==null)et=t,Qe=e;else{if(e===null)throw Error(q(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},et===null?Ue.memoizedState=et=e:et=et.next=e}return et}function vi(e,t){return typeof t=="function"?t(e):t}function Ql(e){var t=Gt(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var s=Qe,i=s.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}s.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,s=s.baseState;var o=l=null,c=null,d=a;do{var u=d.lane;if((Ss&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=s):c=c.next=h,Ue.lanes|=u,Cs|=u}d=d.next}while(d!==null&&d!==a);c===null?l=s:c.next=o,sr(s,t.memoizedState)||(Nt=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Ue.lanes|=a,Cs|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Jl(e){var t=Gt(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var s=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);sr(a,t.memoizedState)||(Nt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,s]}function Bf(){}function qf(e,t){var r=Ue,s=Gt(),i=t(),a=!sr(s.memoizedState,i);if(a&&(s.memoizedState=i,Nt=!0),s=s.queue,Xc(Wf.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||et!==null&&et.memoizedState.tag&1){if(r.flags|=2048,wi(9,Hf.bind(null,r,s,i,t),void 0,null),tt===null)throw Error(q(349));Ss&30||Gf(r,t,i)}return i}function Gf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hf(e,t,r,s){t.value=r,t.getSnapshot=s,Kf(t)&&Qf(e)}function Wf(e,t,r){return r(function(){Kf(t)&&Qf(e)})}function Kf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sr(e,r)}catch{return!0}}function Qf(e){var t=Sr(e,1);t!==null&&tr(t,e,1,-1)}function pd(e){var t=lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=$g.bind(null,Ue,e),[t.memoizedState,e]}function wi(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Jf(){return Gt().memoizedState}function ha(e,t,r,s){var i=lr();Ue.flags|=e,i.memoizedState=wi(1|t,r,void 0,s===void 0?null:s)}function ol(e,t,r,s){var i=Gt();s=s===void 0?null:s;var a=void 0;if(Qe!==null){var l=Qe.memoizedState;if(a=l.destroy,s!==null&&Qc(s,l.deps)){i.memoizedState=wi(t,r,a,s);return}}Ue.flags|=e,i.memoizedState=wi(1|t,r,a,s)}function gd(e,t){return ha(8390656,8,e,t)}function Xc(e,t){return ol(2048,8,e,t)}function Zf(e,t){return ol(4,2,e,t)}function Xf(e,t){return ol(4,4,e,t)}function Yf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function em(e,t,r){return r=r!=null?r.concat([e]):null,ol(4,4,Yf.bind(null,t,e),r)}function Yc(){}function tm(e,t){var r=Gt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Qc(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function rm(e,t){var r=Gt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Qc(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function sm(e,t,r){return Ss&21?(sr(r,t)||(r=of(),Ue.lanes|=r,Cs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=r)}function Og(e,t){var r=_e;_e=r!==0&&4>r?r:4,e(!0);var s=Kl.transition;Kl.transition={};try{e(!1),t()}finally{_e=r,Kl.transition=s}}function nm(){return Gt().memoizedState}function Ag(e,t,r){var s=Xr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},im(e))am(t,r);else if(r=If(e,t,r,s),r!==null){var i=mt();tr(r,e,s,i),lm(r,t,s)}}function $g(e,t,r){var s=Xr(e),i={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(im(e))am(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,r);if(i.hasEagerState=!0,i.eagerState=o,sr(o,l)){var c=t.interleaved;c===null?(i.next=i,qc(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=If(e,t,i,s),r!==null&&(i=mt(),tr(r,e,s,i),lm(r,t,s))}}function im(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function am(e,t){Jn=Ua=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function lm(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Tc(e,r)}}var Da={readContext:qt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},zg={readContext:qt,useCallback:function(e,t){return lr().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:gd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ha(4194308,4,Yf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return ha(4,2,e,t)},useMemo:function(e,t){var r=lr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=lr();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ag.bind(null,Ue,e),[s.memoizedState,e]},useRef:function(e){var t=lr();return e={current:e},t.memoizedState=e},useState:pd,useDebugValue:Yc,useDeferredValue:function(e){return lr().memoizedState=e},useTransition:function(){var e=pd(!1),t=e[0];return e=Og.bind(null,e[1]),lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Ue,i=lr();if(Ae){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),tt===null)throw Error(q(349));Ss&30||Gf(s,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,gd(Wf.bind(null,s,a,e),[e]),s.flags|=2048,wi(9,Hf.bind(null,s,a,r,t),void 0,null),r},useId:function(){var e=lr(),t=tt.identifierPrefix;if(Ae){var r=br,s=wr;r=(s&~(1<<32-er(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=yi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Lg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mg={readContext:qt,useCallback:tm,useContext:qt,useEffect:Xc,useImperativeHandle:em,useInsertionEffect:Zf,useLayoutEffect:Xf,useMemo:rm,useReducer:Ql,useRef:Jf,useState:function(){return Ql(vi)},useDebugValue:Yc,useDeferredValue:function(e){var t=Gt();return sm(t,Qe.memoizedState,e)},useTransition:function(){var e=Ql(vi)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:Bf,useSyncExternalStore:qf,useId:nm,unstable_isNewReconciler:!1},Ug={readContext:qt,useCallback:tm,useContext:qt,useEffect:Xc,useImperativeHandle:em,useInsertionEffect:Zf,useLayoutEffect:Xf,useMemo:rm,useReducer:Jl,useRef:Jf,useState:function(){return Jl(vi)},useDebugValue:Yc,useDeferredValue:function(e){var t=Gt();return Qe===null?t.memoizedState=e:sm(t,Qe.memoizedState,e)},useTransition:function(){var e=Jl(vi)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:Bf,useSyncExternalStore:qf,useId:nm,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Io(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:De({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cl={isMounted:function(e){return(e=e._reactInternals)?Ls(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=mt(),i=Xr(e),a=jr(s,i);a.payload=t,r!=null&&(a.callback=r),t=Jr(e,a,i),t!==null&&(tr(t,e,i,s),ua(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=mt(),i=Xr(e),a=jr(s,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Jr(e,a,i),t!==null&&(tr(t,e,i,s),ua(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mt(),s=Xr(e),i=jr(r,s);i.tag=2,t!=null&&(i.callback=t),t=Jr(e,i,s),t!==null&&(tr(t,e,s,r),ua(t,e,s))}};function xd(e,t,r,s,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,l):t.prototype&&t.prototype.isPureReactComponent?!hi(r,s)||!hi(i,a):!0}function om(e,t,r){var s=!1,i=rs,a=t.contextType;return typeof a=="object"&&a!==null?a=qt(a):(i=_t(t)?ks:ct.current,s=t.contextTypes,a=(s=s!=null)?on(e,i):rs),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function yd(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&cl.enqueueReplaceState(t,t.state,null)}function Fo(e,t,r,s){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Gc(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=qt(a):(a=_t(t)?ks:ct.current,i.context=on(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Io(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cl.enqueueReplaceState(i,i.state,null),za(e,r,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function hn(e,t){try{var r="",s=t;do r+=hp(s),s=s.return;while(s);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Zl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Vo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Dg=typeof WeakMap=="function"?WeakMap:Map;function cm(e,t,r){r=jr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Fa||(Fa=!0,Xo=s),Vo(e,t)},r}function um(e,t,r){r=jr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;r.payload=function(){return s(i)},r.callback=function(){Vo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Vo(e,t),typeof s!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function vd(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Dg;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(r)||(i.add(r),e=Yg.bind(null,e,t,r),t.then(e,e))}function wd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bd(e,t,r,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jr(-1,1),t.tag=2,Jr(r,t,1))),r.lanes|=1),e)}var Ig=Pr.ReactCurrentOwner,Nt=!1;function ht(e,t,r,s){t.child=e===null?Df(t,null,r,s):un(t,e.child,r,s)}function jd(e,t,r,s,i){r=r.render;var a=t.ref;return sn(t,i),s=Jc(e,t,r,s,a,i),r=Zc(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Cr(e,t,i)):(Ae&&r&&Uc(t),t.flags|=1,ht(e,t,s,i),t.child)}function Nd(e,t,r,s,i){if(e===null){var a=r.type;return typeof a=="function"&&!lu(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,dm(e,t,a,s,i)):(e=ga(r.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:hi,r(l,s)&&e.ref===t.ref)return Cr(e,t,i)}return t.flags|=1,e=Yr(a,s),e.ref=t.ref,e.return=t,t.child=e}function dm(e,t,r,s,i){if(e!==null){var a=e.memoizedProps;if(hi(a,s)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,Cr(e,t,i)}return Bo(e,t,r,s,i)}function hm(e,t,r){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Xs,Tt),Tt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Xs,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,Ce(Xs,Tt),Tt|=s}else a!==null?(s=a.baseLanes|r,t.memoizedState=null):s=r,Ce(Xs,Tt),Tt|=s;return ht(e,t,i,r),t.child}function fm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Bo(e,t,r,s,i){var a=_t(r)?ks:ct.current;return a=on(t,a),sn(t,i),r=Jc(e,t,r,s,a,i),s=Zc(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Cr(e,t,i)):(Ae&&s&&Uc(t),t.flags|=1,ht(e,t,r,i),t.child)}function kd(e,t,r,s,i){if(_t(r)){var a=!0;Ra(t)}else a=!1;if(sn(t,i),t.stateNode===null)fa(e,t),om(t,r,s),Fo(t,r,s,i),s=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=qt(d):(d=_t(r)?ks:ct.current,d=on(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==s||c!==d)&&yd(t,l,s,d),zr=!1;var f=t.memoizedState;l.state=f,za(t,s,l,i),c=t.memoizedState,o!==s||f!==c||kt.current||zr?(typeof u=="function"&&(Io(t,r,u,s),c=t.memoizedState),(o=zr||xd(t,r,o,s,f,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),l.props=s,l.state=c,l.context=d,s=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,Ff(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Kt(t.type,o),l.props=d,h=t.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=qt(c):(c=_t(r)?ks:ct.current,c=on(t,c));var v=r.getDerivedStateFromProps;(u=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||f!==c)&&yd(t,l,s,c),zr=!1,f=t.memoizedState,l.state=f,za(t,s,l,i);var j=t.memoizedState;o!==h||f!==j||kt.current||zr?(typeof v=="function"&&(Io(t,r,v,s),j=t.memoizedState),(d=zr||xd(t,r,d,s,f,j,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,j,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,j,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),l.props=s,l.state=j,l.context=c,s=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return qo(e,t,r,s,a,i)}function qo(e,t,r,s,i,a){fm(e,t);var l=(t.flags&128)!==0;if(!s&&!l)return i&&cd(t,r,!1),Cr(e,t,a);s=t.stateNode,Ig.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&l?(t.child=un(t,e.child,null,a),t.child=un(t,null,o,a)):ht(e,t,o,a),t.memoizedState=s.state,i&&cd(t,r,!0),t.child}function mm(e){var t=e.stateNode;t.pendingContext?od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&od(e,t.context,!1),Hc(e,t.containerInfo)}function _d(e,t,r,s,i){return cn(),Ic(i),t.flags|=256,ht(e,t,r,s),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0};function Ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function pm(e,t,r){var s=t.pendingProps,i=Me.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ce(Me,i&1),e===null)return Uo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=hl(l,s,0,null),e=js(e,s,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ho(r),t.memoizedState=Go,e):eu(t,l));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Fg(e,t,l,s,o,i,r);if(a){a=s.fallback,l=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:s.children};return!(l&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Yr(i,c),s.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Yr(o,a):(a=js(a,l,r,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=e.child.memoizedState,l=l===null?Ho(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=Go,s}return a=e.child,e=a.sibling,s=Yr(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function eu(e,t){return t=hl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ji(e,t,r,s){return s!==null&&Ic(s),un(t,e.child,null,r),e=eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fg(e,t,r,s,i,a,l){if(r)return t.flags&256?(t.flags&=-257,s=Zl(Error(q(422))),Ji(e,t,l,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=hl({mode:"visible",children:s.children},i,0,null),a=js(a,i,l,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&un(t,e.child,null,l),t.child.memoizedState=Ho(l),t.memoizedState=Go,a);if(!(t.mode&1))return Ji(e,t,l,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var o=s.dgst;return s=o,a=Error(q(419)),s=Zl(a,s,void 0),Ji(e,t,l,s)}if(o=(l&e.childLanes)!==0,Nt||o){if(s=tt,s!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Sr(e,i),tr(s,e,i,-1))}return au(),s=Zl(Error(q(421))),Ji(e,t,l,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ex.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Rt=Qr(i.nextSibling),Lt=t,Ae=!0,Zt=null,e!==null&&(Dt[It++]=wr,Dt[It++]=br,Dt[It++]=_s,wr=e.id,br=e.overflow,_s=t),t=eu(t,s.children),t.flags|=4096,t)}function Sd(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Do(e.return,t,r)}function Xl(e,t,r,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=i)}function gm(e,t,r){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(ht(e,t,s.children,r),s=Me.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,r,t);else if(e.tag===19)Sd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ce(Me,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ma(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Xl(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ma(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Xl(t,!0,r,null,a);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Cs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=Yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Vg(e,t,r){switch(t.tag){case 3:mm(t),cn();break;case 5:Vf(t);break;case 1:_t(t.type)&&Ra(t);break;case 4:Hc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Ce(Aa,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ce(Me,Me.current&1),t.flags|=128,null):r&t.child.childLanes?pm(e,t,r):(Ce(Me,Me.current&1),e=Cr(e,t,r),e!==null?e.sibling:null);Ce(Me,Me.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return gm(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Me,Me.current),s)break;return null;case 22:case 23:return t.lanes=0,hm(e,t,r)}return Cr(e,t,r)}var xm,Wo,ym,vm;xm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wo=function(){};ym=function(e,t,r,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,vs(fr.current);var a=null;switch(r){case"input":i=po(e,i),s=po(e,s),a=[];break;case"select":i=De({},i,{value:void 0}),s=De({},s,{value:void 0}),a=[];break;case"textarea":i=yo(e,i),s=yo(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Pa)}wo(r,s);var l;r=null;for(d in i)if(!s.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ii.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(o=i!=null?i[d]:void 0,s.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ii.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Te("scroll",e),a||o===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};vm=function(e,t,r,s){r!==s&&(t.flags|=4)};function An(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Bg(e,t,r){var s=t.pendingProps;switch(Dc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return _t(t.type)&&Ta(),lt(t),null;case 3:return s=t.stateNode,dn(),Re(kt),Re(ct),Kc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ki(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zt!==null&&(tc(Zt),Zt=null))),Wo(e,t),lt(t),null;case 5:Wc(t);var i=vs(xi.current);if(r=t.type,e!==null&&t.stateNode!=null)ym(e,t,r,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(q(166));return lt(t),null}if(e=vs(fr.current),Ki(t)){s=t.stateNode,r=t.type;var a=t.memoizedProps;switch(s[cr]=t,s[pi]=a,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",s),Te("close",s);break;case"iframe":case"object":case"embed":Te("load",s);break;case"video":case"audio":for(i=0;i<Vn.length;i++)Te(Vn[i],s);break;case"source":Te("error",s);break;case"img":case"image":case"link":Te("error",s),Te("load",s);break;case"details":Te("toggle",s);break;case"input":$u(s,a),Te("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Te("invalid",s);break;case"textarea":Mu(s,a),Te("invalid",s)}wo(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?s.textContent!==o&&(a.suppressHydrationWarning!==!0&&Wi(s.textContent,o,e),i=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Wi(s.textContent,o,e),i=["children",""+o]):ii.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Te("scroll",s)}switch(r){case"input":Di(s),zu(s,a,!0);break;case"textarea":Di(s),Uu(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Pa)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=l.createElement(r,{is:s.is}):(e=l.createElement(r),r==="select"&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,r),e[cr]=t,e[pi]=s,xm(e,t,!1,!1),t.stateNode=e;e:{switch(l=bo(r,s),r){case"dialog":Te("cancel",e),Te("close",e),i=s;break;case"iframe":case"object":case"embed":Te("load",e),i=s;break;case"video":case"audio":for(i=0;i<Vn.length;i++)Te(Vn[i],e);i=s;break;case"source":Te("error",e),i=s;break;case"img":case"image":case"link":Te("error",e),Te("load",e),i=s;break;case"details":Te("toggle",e),i=s;break;case"input":$u(e,s),i=po(e,s),Te("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=De({},s,{value:void 0}),Te("invalid",e);break;case"textarea":Mu(e,s),i=yo(e,s),Te("invalid",e);break;default:i=s}wo(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Qh(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wh(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ai(e,c):typeof c=="number"&&ai(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ii.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Te("scroll",e):c!=null&&kc(e,a,c,l))}switch(r){case"input":Di(e),zu(e,s,!1);break;case"textarea":Di(e),Uu(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ts(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Ys(e,!!s.multiple,a,!1):s.defaultValue!=null&&Ys(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Pa)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)vm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(q(166));if(r=vs(xi.current),vs(fr.current),Ki(t)){if(s=t.stateNode,r=t.memoizedProps,s[cr]=t,(a=s.nodeValue!==r)&&(e=Lt,e!==null))switch(e.tag){case 3:Wi(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wi(s.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[cr]=t,t.stateNode=s}return lt(t),null;case 13:if(Re(Me),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&Rt!==null&&t.mode&1&&!(t.flags&128))Mf(),cn(),t.flags|=98560,a=!1;else if(a=Ki(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(q(317));a[cr]=t}else cn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),a=!1}else Zt!==null&&(tc(Zt),Zt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?Je===0&&(Je=3):au())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return dn(),Wo(e,t),e===null&&fi(t.stateNode.containerInfo),lt(t),null;case 10:return Bc(t.type._context),lt(t),null;case 17:return _t(t.type)&&Ta(),lt(t),null;case 19:if(Re(Me),a=t.memoizedState,a===null)return lt(t),null;if(s=(t.flags&128)!==0,l=a.rendering,l===null)if(s)An(a,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ma(e),l!==null){for(t.flags|=128,An(a,!1),s=l.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)a=r,e=s,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ce(Me,Me.current&1|2),t.child}e=e.sibling}a.tail!==null&&qe()>fn&&(t.flags|=128,s=!0,An(a,!1),t.lanes=4194304)}else{if(!s)if(e=Ma(l),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),An(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Ae)return lt(t),null}else 2*qe()-a.renderingStartTime>fn&&r!==1073741824&&(t.flags|=128,s=!0,An(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=qe(),t.sibling=null,r=Me.current,Ce(Me,s?r&1|2:r&1),t):(lt(t),null);case 22:case 23:return iu(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Tt&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function qg(e,t){switch(Dc(t),t.tag){case 1:return _t(t.type)&&Ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(),Re(kt),Re(ct),Kc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wc(t),null;case 13:if(Re(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Me),null;case 4:return dn(),null;case 10:return Bc(t.type._context),null;case 22:case 23:return iu(),null;case 24:return null;default:return null}}var Zi=!1,ot=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,te=null;function Zs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ie(e,t,s)}else r.current=null}function Ko(e,t,r){try{r()}catch(s){Ie(e,t,s)}}var Cd=!1;function Hg(e,t){if(Ro=Sa,e=kf(),Mc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var v;h!==r||i!==0&&h.nodeType!==3||(o=l+i),h!==a||s!==0&&h.nodeType!==3||(c=l+s),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===r&&++d===i&&(o=l),f===a&&++u===s&&(c=l),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lo={focusedElem:e,selectionRange:r},Sa=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var N=j.memoizedProps,C=j.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?N:Kt(t.type,N),C);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(k){Ie(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return j=Cd,Cd=!1,j}function Zn(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ko(t,r,a)}i=i.next}while(i!==s)}}function ul(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Qo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function wm(e){var t=e.alternate;t!==null&&(e.alternate=null,wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cr],delete t[pi],delete t[$o],delete t[Eg],delete t[Pg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bm(e){return e.tag===5||e.tag===3||e.tag===4}function Ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pa));else if(s!==4&&(e=e.child,e!==null))for(Jo(e,t,r),e=e.sibling;e!==null;)Jo(e,t,r),e=e.sibling}function Zo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Zo(e,t,r),e=e.sibling;e!==null;)Zo(e,t,r),e=e.sibling}var rt=null,Qt=!1;function Lr(e,t,r){for(r=r.child;r!==null;)jm(e,t,r),r=r.sibling}function jm(e,t,r){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(rl,r)}catch{}switch(r.tag){case 5:ot||Zs(r,t);case 6:var s=rt,i=Qt;rt=null,Lr(e,t,r),rt=s,Qt=i,rt!==null&&(Qt?(e=rt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):rt.removeChild(r.stateNode));break;case 18:rt!==null&&(Qt?(e=rt,r=r.stateNode,e.nodeType===8?Gl(e.parentNode,r):e.nodeType===1&&Gl(e,r),ui(e)):Gl(rt,r.stateNode));break;case 4:s=rt,i=Qt,rt=r.stateNode.containerInfo,Qt=!0,Lr(e,t,r),rt=s,Qt=i;break;case 0:case 11:case 14:case 15:if(!ot&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Ko(r,t,l),i=i.next}while(i!==s)}Lr(e,t,r);break;case 1:if(!ot&&(Zs(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(o){Ie(r,t,o)}Lr(e,t,r);break;case 21:Lr(e,t,r);break;case 22:r.mode&1?(ot=(s=ot)||r.memoizedState!==null,Lr(e,t,r),ot=s):Lr(e,t,r);break;default:Lr(e,t,r)}}function Pd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Gg),t.forEach(function(s){var i=tx.bind(null,e,s);r.has(s)||(r.add(s),s.then(i,i))})}}function Wt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var i=r[s];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:rt=o.stateNode,Qt=!1;break e;case 3:rt=o.stateNode.containerInfo,Qt=!0;break e;case 4:rt=o.stateNode.containerInfo,Qt=!0;break e}o=o.return}if(rt===null)throw Error(q(160));jm(a,l,i),rt=null,Qt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Ie(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nm(t,e),t=t.sibling}function Nm(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),ir(e),s&4){try{Zn(3,e,e.return),ul(3,e)}catch(N){Ie(e,e.return,N)}try{Zn(5,e,e.return)}catch(N){Ie(e,e.return,N)}}break;case 1:Wt(t,e),ir(e),s&512&&r!==null&&Zs(r,r.return);break;case 5:if(Wt(t,e),ir(e),s&512&&r!==null&&Zs(r,r.return),e.flags&32){var i=e.stateNode;try{ai(i,"")}catch(N){Ie(e,e.return,N)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&qh(i,a),bo(o,l);var d=bo(o,a);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?Qh(i,h):u==="dangerouslySetInnerHTML"?Wh(i,h):u==="children"?ai(i,h):kc(i,u,h,d)}switch(o){case"input":go(i,a);break;case"textarea":Gh(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Ys(i,!!a.multiple,v,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ys(i,!!a.multiple,a.defaultValue,!0):Ys(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(N){Ie(e,e.return,N)}}break;case 6:if(Wt(t,e),ir(e),s&4){if(e.stateNode===null)throw Error(q(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(N){Ie(e,e.return,N)}}break;case 3:if(Wt(t,e),ir(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(N){Ie(e,e.return,N)}break;case 4:Wt(t,e),ir(e);break;case 13:Wt(t,e),ir(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(su=qe())),s&4&&Pd(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ot=(d=ot)||u,Wt(t,e),ot=d):Wt(t,e),ir(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(te=e,u=e.child;u!==null;){for(h=te=u;te!==null;){switch(f=te,v=f.child,f.tag){case 0:case 11:case 14:case 15:Zn(4,f,f.return);break;case 1:Zs(f,f.return);var j=f.stateNode;if(typeof j.componentWillUnmount=="function"){s=f,r=f.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(N){Ie(s,r,N)}}break;case 5:Zs(f,f.return);break;case 22:if(f.memoizedState!==null){Rd(h);continue}}v!==null?(v.return=f,te=v):Rd(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Kh("display",l))}catch(N){Ie(e,e.return,N)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(N){Ie(e,e.return,N)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wt(t,e),ir(e),s&4&&Pd(e);break;case 21:break;default:Wt(t,e),ir(e)}}function ir(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(bm(r)){var s=r;break e}r=r.return}throw Error(q(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(ai(i,""),s.flags&=-33);var a=Ed(e);Zo(e,a,i);break;case 3:case 4:var l=s.stateNode.containerInfo,o=Ed(e);Jo(e,o,l);break;default:throw Error(q(161))}}catch(c){Ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wg(e,t,r){te=e,km(e)}function km(e,t,r){for(var s=(e.mode&1)!==0;te!==null;){var i=te,a=i.child;if(i.tag===22&&s){var l=i.memoizedState!==null||Zi;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||ot;o=Zi;var d=ot;if(Zi=l,(ot=c)&&!d)for(te=i;te!==null;)l=te,c=l.child,l.tag===22&&l.memoizedState!==null?Ld(i):c!==null?(c.return=l,te=c):Ld(i);for(;a!==null;)te=a,km(a),a=a.sibling;te=i,Zi=o,ot=d}Td(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,te=a):Td(e)}}function Td(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||ul(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ot)if(r===null)s.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Kt(t.type,r.memoizedProps);s.componentDidUpdate(i,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&md(t,a,s);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}md(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ui(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}ot||t.flags&512&&Qo(t)}catch(f){Ie(t,t.return,f)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function Rd(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function Ld(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ul(4,t)}catch(c){Ie(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){Ie(t,i,c)}}var a=t.return;try{Qo(t)}catch(c){Ie(t,a,c)}break;case 5:var l=t.return;try{Qo(t)}catch(c){Ie(t,l,c)}}}catch(c){Ie(t,t.return,c)}if(t===e){te=null;break}var o=t.sibling;if(o!==null){o.return=t.return,te=o;break}te=t.return}}var Kg=Math.ceil,Ia=Pr.ReactCurrentDispatcher,tu=Pr.ReactCurrentOwner,Vt=Pr.ReactCurrentBatchConfig,be=0,tt=null,Ke=null,st=0,Tt=0,Xs=ns(0),Je=0,bi=null,Cs=0,dl=0,ru=0,Xn=null,bt=null,su=0,fn=1/0,pr=null,Fa=!1,Xo=null,Zr=null,Xi=!1,Br=null,Va=0,Yn=0,Yo=null,ma=-1,pa=0;function mt(){return be&6?qe():ma!==-1?ma:ma=qe()}function Xr(e){return e.mode&1?be&2&&st!==0?st&-st:Rg.transition!==null?(pa===0&&(pa=of()),pa):(e=_e,e!==0||(e=window.event,e=e===void 0?16:pf(e.type)),e):1}function tr(e,t,r,s){if(50<Yn)throw Yn=0,Yo=null,Error(q(185));Ei(e,r,s),(!(be&2)||e!==tt)&&(e===tt&&(!(be&2)&&(dl|=r),Je===4&&Dr(e,st)),St(e,s),r===1&&be===0&&!(t.mode&1)&&(fn=qe()+500,ll&&is()))}function St(e,t){var r=e.callbackNode;Rp(e,t);var s=_a(e,e===tt?st:0);if(s===0)r!==null&&Fu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Fu(r),t===1)e.tag===0?Tg(Od.bind(null,e)):Af(Od.bind(null,e)),Sg(function(){!(be&6)&&is()}),r=null;else{switch(cf(s)){case 1:r=Pc;break;case 4:r=af;break;case 16:r=ka;break;case 536870912:r=lf;break;default:r=ka}r=Lm(r,_m.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _m(e,t){if(ma=-1,pa=0,be&6)throw Error(q(327));var r=e.callbackNode;if(nn()&&e.callbackNode!==r)return null;var s=_a(e,e===tt?st:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ba(e,s);else{t=s;var i=be;be|=2;var a=Cm();(tt!==e||st!==t)&&(pr=null,fn=qe()+500,bs(e,t));do try{Zg();break}catch(o){Sm(e,o)}while(!0);Vc(),Ia.current=a,be=i,Ke!==null?t=0:(tt=null,st=0,t=Je)}if(t!==0){if(t===2&&(i=So(e),i!==0&&(s=i,t=ec(e,i))),t===1)throw r=bi,bs(e,0),Dr(e,s),St(e,qe()),r;if(t===6)Dr(e,s);else{if(i=e.current.alternate,!(s&30)&&!Qg(i)&&(t=Ba(e,s),t===2&&(a=So(e),a!==0&&(s=a,t=ec(e,a))),t===1))throw r=bi,bs(e,0),Dr(e,s),St(e,qe()),r;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(q(345));case 2:fs(e,bt,pr);break;case 3:if(Dr(e,s),(s&130023424)===s&&(t=su+500-qe(),10<t)){if(_a(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ao(fs.bind(null,e,bt,pr),t);break}fs(e,bt,pr);break;case 4:if(Dr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var l=31-er(s);a=1<<l,l=t[l],l>i&&(i=l),s&=~a}if(s=i,s=qe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Kg(s/1960))-s,10<s){e.timeoutHandle=Ao(fs.bind(null,e,bt,pr),s);break}fs(e,bt,pr);break;case 5:fs(e,bt,pr);break;default:throw Error(q(329))}}}return St(e,qe()),e.callbackNode===r?_m.bind(null,e):null}function ec(e,t){var r=Xn;return e.current.memoizedState.isDehydrated&&(bs(e,t).flags|=256),e=Ba(e,t),e!==2&&(t=bt,bt=r,t!==null&&tc(t)),e}function tc(e){bt===null?bt=e:bt.push.apply(bt,e)}function Qg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var i=r[s],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dr(e,t){for(t&=~ru,t&=~dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-er(t),s=1<<r;e[r]=-1,t&=~s}}function Od(e){if(be&6)throw Error(q(327));nn();var t=_a(e,0);if(!(t&1))return St(e,qe()),null;var r=Ba(e,t);if(e.tag!==0&&r===2){var s=So(e);s!==0&&(t=s,r=ec(e,s))}if(r===1)throw r=bi,bs(e,0),Dr(e,t),St(e,qe()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fs(e,bt,pr),St(e,qe()),null}function nu(e,t){var r=be;be|=1;try{return e(t)}finally{be=r,be===0&&(fn=qe()+500,ll&&is())}}function Es(e){Br!==null&&Br.tag===0&&!(be&6)&&nn();var t=be;be|=1;var r=Vt.transition,s=_e;try{if(Vt.transition=null,_e=1,e)return e()}finally{_e=s,Vt.transition=r,be=t,!(be&6)&&is()}}function iu(){Tt=Xs.current,Re(Xs)}function bs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_g(r)),Ke!==null)for(r=Ke.return;r!==null;){var s=r;switch(Dc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ta();break;case 3:dn(),Re(kt),Re(ct),Kc();break;case 5:Wc(s);break;case 4:dn();break;case 13:Re(Me);break;case 19:Re(Me);break;case 10:Bc(s.type._context);break;case 22:case 23:iu()}r=r.return}if(tt=e,Ke=e=Yr(e.current,null),st=Tt=t,Je=0,bi=null,ru=dl=Cs=0,bt=Xn=null,ys!==null){for(t=0;t<ys.length;t++)if(r=ys[t],s=r.interleaved,s!==null){r.interleaved=null;var i=s.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,s.next=l}r.pending=s}ys=null}return e}function Sm(e,t){do{var r=Ke;try{if(Vc(),da.current=Da,Ua){for(var s=Ue.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Ua=!1}if(Ss=0,et=Qe=Ue=null,Jn=!1,yi=0,tu.current=null,r===null||r.return===null){Je=1,bi=t,Ke=null;break}e:{var a=e,l=r.return,o=r,c=t;if(t=st,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=wd(l);if(v!==null){v.flags&=-257,bd(v,l,o,a,t),v.mode&1&&vd(a,d,t),t=v,c=d;var j=t.updateQueue;if(j===null){var N=new Set;N.add(c),t.updateQueue=N}else j.add(c);break e}else{if(!(t&1)){vd(a,d,t),au();break e}c=Error(q(426))}}else if(Ae&&o.mode&1){var C=wd(l);if(C!==null){!(C.flags&65536)&&(C.flags|=256),bd(C,l,o,a,t),Ic(hn(c,o));break e}}a=c=hn(c,o),Je!==4&&(Je=2),Xn===null?Xn=[a]:Xn.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=cm(a,c,t);fd(a,g);break e;case 1:o=c;var m=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Zr===null||!Zr.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=um(a,o,t);fd(a,k);break e}}a=a.return}while(a!==null)}Pm(r)}catch(O){t=O,Ke===r&&r!==null&&(Ke=r=r.return);continue}break}while(!0)}function Cm(){var e=Ia.current;return Ia.current=Da,e===null?Da:e}function au(){(Je===0||Je===3||Je===2)&&(Je=4),tt===null||!(Cs&268435455)&&!(dl&268435455)||Dr(tt,st)}function Ba(e,t){var r=be;be|=2;var s=Cm();(tt!==e||st!==t)&&(pr=null,bs(e,t));do try{Jg();break}catch(i){Sm(e,i)}while(!0);if(Vc(),be=r,Ia.current=s,Ke!==null)throw Error(q(261));return tt=null,st=0,Je}function Jg(){for(;Ke!==null;)Em(Ke)}function Zg(){for(;Ke!==null&&!jp();)Em(Ke)}function Em(e){var t=Rm(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?Pm(e):Ke=t,tu.current=null}function Pm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=qg(r,t),r!==null){r.flags&=32767,Ke=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Ke=null;return}}else if(r=Bg(r,t,Tt),r!==null){Ke=r;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Je===0&&(Je=5)}function fs(e,t,r){var s=_e,i=Vt.transition;try{Vt.transition=null,_e=1,Xg(e,t,r,s)}finally{Vt.transition=i,_e=s}return null}function Xg(e,t,r,s){do nn();while(Br!==null);if(be&6)throw Error(q(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Lp(e,a),e===tt&&(Ke=tt=null,st=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xi||(Xi=!0,Lm(ka,function(){return nn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Vt.transition,Vt.transition=null;var l=_e;_e=1;var o=be;be|=4,tu.current=null,Hg(e,r),Nm(r,e),yg(Lo),Sa=!!Ro,Lo=Ro=null,e.current=r,Wg(r),Np(),be=o,_e=l,Vt.transition=a}else e.current=r;if(Xi&&(Xi=!1,Br=e,Va=i),a=e.pendingLanes,a===0&&(Zr=null),Sp(r.stateNode),St(e,qe()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],s(i.value,{componentStack:i.stack,digest:i.digest});if(Fa)throw Fa=!1,e=Xo,Xo=null,e;return Va&1&&e.tag!==0&&nn(),a=e.pendingLanes,a&1?e===Yo?Yn++:(Yn=0,Yo=e):Yn=0,is(),null}function nn(){if(Br!==null){var e=cf(Va),t=Vt.transition,r=_e;try{if(Vt.transition=null,_e=16>e?16:e,Br===null)var s=!1;else{if(e=Br,Br=null,Va=0,be&6)throw Error(q(331));var i=be;for(be|=4,te=e.current;te!==null;){var a=te,l=a.child;if(te.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(te=d;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:Zn(8,u,a)}var h=u.child;if(h!==null)h.return=u,te=h;else for(;te!==null;){u=te;var f=u.sibling,v=u.return;if(wm(u),u===d){te=null;break}if(f!==null){f.return=v,te=f;break}te=v}}}var j=a.alternate;if(j!==null){var N=j.child;if(N!==null){j.child=null;do{var C=N.sibling;N.sibling=null,N=C}while(N!==null)}}te=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,te=l;else e:for(;te!==null;){if(a=te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zn(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,te=g;break e}te=a.return}}var m=e.current;for(te=m;te!==null;){l=te;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,te=x;else e:for(l=m;te!==null;){if(o=te,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ul(9,o)}}catch(O){Ie(o,o.return,O)}if(o===l){te=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,te=k;break e}te=o.return}}if(be=i,is(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(rl,e)}catch{}s=!0}return s}finally{_e=r,Vt.transition=t}}return!1}function Ad(e,t,r){t=hn(r,t),t=cm(e,t,1),e=Jr(e,t,1),t=mt(),e!==null&&(Ei(e,1,t),St(e,t))}function Ie(e,t,r){if(e.tag===3)Ad(e,e,r);else for(;t!==null;){if(t.tag===3){Ad(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Zr===null||!Zr.has(s))){e=hn(r,e),e=um(t,e,1),t=Jr(t,e,1),e=mt(),t!==null&&(Ei(t,1,e),St(t,e));break}}t=t.return}}function Yg(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&r,tt===e&&(st&r)===r&&(Je===4||Je===3&&(st&130023424)===st&&500>qe()-su?bs(e,0):ru|=r),St(e,t)}function Tm(e,t){t===0&&(e.mode&1?(t=Vi,Vi<<=1,!(Vi&130023424)&&(Vi=4194304)):t=1);var r=mt();e=Sr(e,t),e!==null&&(Ei(e,t,r),St(e,r))}function ex(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Tm(e,r)}function tx(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(q(314))}s!==null&&s.delete(t),Tm(e,r)}var Rm;Rm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)Nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Nt=!1,Vg(e,t,r);Nt=!!(e.flags&131072)}else Nt=!1,Ae&&t.flags&1048576&&$f(t,Oa,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;fa(e,t),e=t.pendingProps;var i=on(t,ct.current);sn(t,r),i=Jc(null,t,s,e,i,r);var a=Zc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(s)?(a=!0,Ra(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gc(t),i.updater=cl,t.stateNode=i,i._reactInternals=t,Fo(t,s,e,r),t=qo(null,t,s,!0,a,r)):(t.tag=0,Ae&&a&&Uc(t),ht(null,t,i,r),t=t.child),t;case 16:s=t.elementType;e:{switch(fa(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=sx(s),e=Kt(s,e),i){case 0:t=Bo(null,t,s,e,r);break e;case 1:t=kd(null,t,s,e,r);break e;case 11:t=jd(null,t,s,e,r);break e;case 14:t=Nd(null,t,s,Kt(s.type,e),r);break e}throw Error(q(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Kt(s,i),Bo(e,t,s,i,r);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Kt(s,i),kd(e,t,s,i,r);case 3:e:{if(mm(t),e===null)throw Error(q(387));s=t.pendingProps,a=t.memoizedState,i=a.element,Ff(e,t),za(t,s,null,r);var l=t.memoizedState;if(s=l.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=hn(Error(q(423)),t),t=_d(e,t,s,r,i);break e}else if(s!==i){i=hn(Error(q(424)),t),t=_d(e,t,s,r,i);break e}else for(Rt=Qr(t.stateNode.containerInfo.firstChild),Lt=t,Ae=!0,Zt=null,r=Df(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cn(),s===i){t=Cr(e,t,r);break e}ht(e,t,s,r)}t=t.child}return t;case 5:return Vf(t),e===null&&Uo(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,Oo(s,i)?l=null:a!==null&&Oo(s,a)&&(t.flags|=32),fm(e,t),ht(e,t,l,r),t.child;case 6:return e===null&&Uo(t),null;case 13:return pm(e,t,r);case 4:return Hc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=un(t,null,s,r):ht(e,t,s,r),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Kt(s,i),jd(e,t,s,i,r);case 7:return ht(e,t,t.pendingProps,r),t.child;case 8:return ht(e,t,t.pendingProps.children,r),t.child;case 12:return ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,Ce(Aa,s._currentValue),s._currentValue=l,a!==null)if(sr(a.value,l)){if(a.children===i.children&&!kt.current){t=Cr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=jr(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Do(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(q(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Do(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}ht(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,sn(t,r),i=qt(i),s=s(i),t.flags|=1,ht(e,t,s,r),t.child;case 14:return s=t.type,i=Kt(s,t.pendingProps),i=Kt(s.type,i),Nd(e,t,s,i,r);case 15:return dm(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Kt(s,i),fa(e,t),t.tag=1,_t(s)?(e=!0,Ra(t)):e=!1,sn(t,r),om(t,s,i),Fo(t,s,i,r),qo(null,t,s,!0,e,r);case 19:return gm(e,t,r);case 22:return hm(e,t,r)}throw Error(q(156,t.tag))};function Lm(e,t){return nf(e,t)}function rx(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,r,s){return new rx(e,t,r,s)}function lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sx(e){if(typeof e=="function")return lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sc)return 11;if(e===Cc)return 14}return 2}function Yr(e,t){var r=e.alternate;return r===null?(r=Ft(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ga(e,t,r,s,i,a){var l=2;if(s=e,typeof e=="function")lu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Vs:return js(r.children,i,a,t);case _c:l=8,i|=8;break;case uo:return e=Ft(12,r,t,i|2),e.elementType=uo,e.lanes=a,e;case ho:return e=Ft(13,r,t,i),e.elementType=ho,e.lanes=a,e;case fo:return e=Ft(19,r,t,i),e.elementType=fo,e.lanes=a,e;case Fh:return hl(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dh:l=10;break e;case Ih:l=9;break e;case Sc:l=11;break e;case Cc:l=14;break e;case $r:l=16,s=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Ft(l,r,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function js(e,t,r,s){return e=Ft(7,e,s,t),e.lanes=r,e}function hl(e,t,r,s){return e=Ft(22,e,s,t),e.elementType=Fh,e.lanes=r,e.stateNode={isHidden:!1},e}function Yl(e,t,r){return e=Ft(6,e,null,t),e.lanes=r,e}function eo(e,t,r){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nx(e,t,r,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ou(e,t,r,s,i,a,l,o,c){return e=new nx(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ft(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(a),e}function ix(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Om(e){if(!e)return rs;e=e._reactInternals;e:{if(Ls(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(_t(r))return Of(e,r,t)}return t}function Am(e,t,r,s,i,a,l,o,c){return e=ou(r,s,!0,e,i,a,l,o,c),e.context=Om(null),r=e.current,s=mt(),i=Xr(r),a=jr(s,i),a.callback=t??null,Jr(r,a,i),e.current.lanes=i,Ei(e,i,s),St(e,s),e}function fl(e,t,r,s){var i=t.current,a=mt(),l=Xr(i);return r=Om(r),t.context===null?t.context=r:t.pendingContext=r,t=jr(a,l),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Jr(i,t,l),e!==null&&(tr(e,i,l,a),ua(e,i,l)),l}function qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cu(e,t){$d(e,t),(e=e.alternate)&&$d(e,t)}function ax(){return null}var $m=typeof reportError=="function"?reportError:function(e){console.error(e)};function uu(e){this._internalRoot=e}ml.prototype.render=uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));fl(e,t,null,null)};ml.prototype.unmount=uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Es(function(){fl(null,e,null,null)}),t[_r]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=hf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ur.length&&t!==0&&t<Ur[r].priority;r++);Ur.splice(r,0,e),r===0&&mf(e)}};function du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zd(){}function lx(e,t,r,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var d=qa(l);a.call(d)}}var l=Am(t,s,e,0,null,!1,!1,"",zd);return e._reactRootContainer=l,e[_r]=l.current,fi(e.nodeType===8?e.parentNode:e),Es(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var o=s;s=function(){var d=qa(c);o.call(d)}}var c=ou(e,0,!1,null,null,!1,!1,"",zd);return e._reactRootContainer=c,e[_r]=c.current,fi(e.nodeType===8?e.parentNode:e),Es(function(){fl(t,c,r,s)}),c}function gl(e,t,r,s,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var c=qa(l);o.call(c)}}fl(t,l,e,i)}else l=lx(r,t,e,i,s);return qa(l)}uf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Fn(t.pendingLanes);r!==0&&(Tc(t,r|1),St(t,qe()),!(be&6)&&(fn=qe()+500,is()))}break;case 13:Es(function(){var s=Sr(e,1);if(s!==null){var i=mt();tr(s,e,1,i)}}),cu(e,1)}};Rc=function(e){if(e.tag===13){var t=Sr(e,134217728);if(t!==null){var r=mt();tr(t,e,134217728,r)}cu(e,134217728)}};df=function(e){if(e.tag===13){var t=Xr(e),r=Sr(e,t);if(r!==null){var s=mt();tr(r,e,t,s)}cu(e,t)}};hf=function(){return _e};ff=function(e,t){var r=_e;try{return _e=e,t()}finally{_e=r}};No=function(e,t,r){switch(t){case"input":if(go(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var i=al(s);if(!i)throw Error(q(90));Bh(s),go(s,i)}}}break;case"textarea":Gh(e,r);break;case"select":t=r.value,t!=null&&Ys(e,!!r.multiple,t,!1)}};Xh=nu;Yh=Es;var ox={usingClientEntryPoint:!1,Events:[Ti,Hs,al,Jh,Zh,nu]},$n={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cx={bundleType:$n.bundleType,version:$n.version,rendererPackageName:$n.rendererPackageName,rendererConfig:$n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rf(e),e===null?null:e.stateNode},findFiberByHostInstance:$n.findFiberByHostInstance||ax,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yi.isDisabled&&Yi.supportsFiber)try{rl=Yi.inject(cx),hr=Yi}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ox;At.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!du(t))throw Error(q(200));return ix(e,t,null,r)};At.createRoot=function(e,t){if(!du(e))throw Error(q(299));var r=!1,s="",i=$m;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ou(e,1,!1,null,null,r,!1,s,i),e[_r]=t.current,fi(e.nodeType===8?e.parentNode:e),new uu(t)};At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=rf(t),e=e===null?null:e.stateNode,e};At.flushSync=function(e){return Es(e)};At.hydrate=function(e,t,r){if(!pl(t))throw Error(q(200));return gl(null,e,t,!0,r)};At.hydrateRoot=function(e,t,r){if(!du(e))throw Error(q(405));var s=r!=null&&r.hydratedSources||null,i=!1,a="",l=$m;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Am(t,null,e,1,r??null,i,!1,a,l),e[_r]=t.current,fi(e),s)for(e=0;e<s.length;e++)r=s[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ml(t)};At.render=function(e,t,r){if(!pl(t))throw Error(q(200));return gl(null,e,t,!1,r)};At.unmountComponentAtNode=function(e){if(!pl(e))throw Error(q(40));return e._reactRootContainer?(Es(function(){gl(null,null,e,!1,function(){e._reactRootContainer=null,e[_r]=null})}),!0):!1};At.unstable_batchedUpdates=nu;At.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!pl(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return gl(e,t,r,!1,s)};At.version="18.3.1-next-f1338f8080-20240426";function zm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zm)}catch(e){console.error(e)}}zm(),$h.exports=At;var ux=$h.exports,Mm,Md=ux;Mm=Md.createRoot,Md.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ji.apply(this,arguments)}var qr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qr||(qr={}));const Ud="popstate";function dx(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:l,hash:o}=s.location;return rc("",{pathname:a,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:Ga(i)}return fx(t,r,null,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Um(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hx(){return Math.random().toString(36).substr(2,8)}function Dd(e,t){return{usr:e.state,key:e.key,idx:t}}function rc(e,t,r,s){return r===void 0&&(r=null),ji({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bn(t):t,{state:r,key:t&&t.key||s||hx()})}function Ga(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function bn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function fx(e,t,r,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,l=i.history,o=qr.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(ji({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function h(){o=qr.Pop;let C=u(),g=C==null?null:C-d;d=C,c&&c({action:o,location:N.location,delta:g})}function f(C,g){o=qr.Push;let m=rc(N.location,C,g);d=u()+1;let x=Dd(m,d),k=N.createHref(m);try{l.pushState(x,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(k)}a&&c&&c({action:o,location:N.location,delta:1})}function v(C,g){o=qr.Replace;let m=rc(N.location,C,g);d=u();let x=Dd(m,d),k=N.createHref(m);l.replaceState(x,"",k),a&&c&&c({action:o,location:N.location,delta:0})}function j(C){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof C=="string"?C:Ga(C);return m=m.replace(/ $/,"%20"),Fe(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let N={get action(){return o},get location(){return e(i,l)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Ud,h),c=C,()=>{i.removeEventListener(Ud,h),c=null}},createHref(C){return t(i,C)},createURL:j,encodeLocation(C){let g=j(C);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:v,go(C){return l.go(C)}};return N}var Id;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Id||(Id={}));function mx(e,t,r){return r===void 0&&(r="/"),px(e,t,r,!1)}function px(e,t,r,s){let i=typeof t=="string"?bn(t):t,a=mn(i.pathname||"/",r);if(a==null)return null;let l=Dm(e);gx(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Cx(a);o=_x(l[c],d,s)}return o}function Dm(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let i=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(Fe(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=es([s,c.relativePath]),u=r.concat(c);a.children&&a.children.length>0&&(Fe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Dm(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:Nx(d,a.index),routesMeta:u})};return e.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,l);else for(let c of Im(a.path))i(a,l,c)}),t}function Im(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let l=Im(s.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function gx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:kx(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const xx=/^:[\w-]+$/,yx=3,vx=2,wx=1,bx=10,jx=-2,Fd=e=>e==="*";function Nx(e,t){let r=e.split("/"),s=r.length;return r.some(Fd)&&(s+=jx),t&&(s+=vx),r.filter(i=>!Fd(i)).reduce((i,a)=>i+(xx.test(a)?yx:a===""?wx:bx),s)}function kx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function _x(e,t,r){let{routesMeta:s}=e,i={},a="/",l=[];for(let o=0;o<s.length;++o){let c=s[o],d=o===s.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=Ha({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&r&&!s[s.length-1].route.index&&(h=Ha({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),l.push({params:i,pathname:es([a,h.pathname]),pathnameBase:Rx(es([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=es([a,h.pathnameBase]))}return l}function Ha(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=Sx(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:f,isOptional:v}=u;if(f==="*"){let N=o[h]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const j=o[h];return v&&!j?d[f]=void 0:d[f]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function Sx(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Um(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function Cx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Um(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function Ex(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:i=""}=typeof e=="string"?bn(e):e;return{pathname:r?r.startsWith("/")?r:Px(r,t):t,search:Lx(s),hash:Ox(i)}}function Px(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function to(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Fm(e,t){let r=Tx(e);return t?r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Vm(e,t,r,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=bn(e):(i=ji({},e),Fe(!i.pathname||!i.pathname.includes("?"),to("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),to("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),to("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=r;else{let h=t.length-1;if(!s&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=Ex(i,o),d=l&&l!=="/"&&l.endsWith("/"),u=(a||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const es=e=>e.join("/").replace(/\/\/+/g,"/"),Rx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ox=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ax(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Bm=["post","put","patch","delete"];new Set(Bm);const $x=["get",...Bm];new Set($x);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ni.apply(this,arguments)}const xl=p.createContext(null),qm=p.createContext(null),as=p.createContext(null),yl=p.createContext(null),ls=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Gm=p.createContext(null);function zx(e,t){let{relative:r}=t===void 0?{}:t;Li()||Fe(!1);let{basename:s,navigator:i}=p.useContext(as),{hash:a,pathname:l,search:o}=vl(e,{relative:r}),c=l;return s!=="/"&&(c=l==="/"?s:es([s,l])),i.createHref({pathname:c,search:o,hash:a})}function Li(){return p.useContext(yl)!=null}function jn(){return Li()||Fe(!1),p.useContext(yl).location}function Hm(e){p.useContext(as).static||p.useLayoutEffect(e)}function nr(){let{isDataRoute:e}=p.useContext(ls);return e?Jx():Mx()}function Mx(){Li()||Fe(!1);let e=p.useContext(xl),{basename:t,future:r,navigator:s}=p.useContext(as),{matches:i}=p.useContext(ls),{pathname:a}=jn(),l=JSON.stringify(Fm(i,r.v7_relativeSplatPath)),o=p.useRef(!1);return Hm(()=>{o.current=!0}),p.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){s.go(d);return}let h=Vm(d,JSON.parse(l),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:es([t,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[t,s,l,a,e])}function Ux(){let{matches:e}=p.useContext(ls),t=e[e.length-1];return t?t.params:{}}function vl(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=p.useContext(as),{matches:i}=p.useContext(ls),{pathname:a}=jn(),l=JSON.stringify(Fm(i,s.v7_relativeSplatPath));return p.useMemo(()=>Vm(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function Dx(e,t){return Ix(e,t)}function Ix(e,t,r,s){Li()||Fe(!1);let{navigator:i,static:a}=p.useContext(as),{matches:l}=p.useContext(ls),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let u=jn(),h;if(t){var f;let g=typeof t=="string"?bn(t):t;d==="/"||(f=g.pathname)!=null&&f.startsWith(d)||Fe(!1),h=g}else h=u;let v=h.pathname||"/",j=v;if(d!=="/"){let g=d.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(g.length).join("/")}let N=!a&&r&&r.matches&&r.matches.length>0?r.matches:mx(e,{pathname:j}),C=Gx(N&&N.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:es([d,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:es([d,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),l,r,s);return t&&C?p.createElement(yl.Provider,{value:{location:Ni({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:qr.Pop}},C):C}function Fx(){let e=Qx(),t=Ax(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:i},r):null,null)}const Vx=p.createElement(Fx,null);class Bx extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(ls.Provider,{value:this.props.routeContext},p.createElement(Gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qx(e){let{routeContext:t,match:r,children:s}=e,i=p.useContext(xl);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(ls.Provider,{value:t},s)}function Gx(e,t,r,s){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Fe(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<l.length;u++){let h=l[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:v}=r,j=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||j){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,h,f)=>{let v,j=!1,N=null,C=null;r&&(v=o&&h.route.id?o[h.route.id]:void 0,N=h.route.errorElement||Vx,c&&(d<0&&f===0?(j=!0,C=null):d===f&&(j=!0,C=h.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,f+1)),m=()=>{let x;return v?x=N:j?x=C:h.route.Component?x=p.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,p.createElement(qx,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(Bx,{location:r.location,revalidation:r.revalidation,component:N,error:v,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Wm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wm||{}),Wa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wa||{});function Hx(e){let t=p.useContext(xl);return t||Fe(!1),t}function Wx(e){let t=p.useContext(qm);return t||Fe(!1),t}function Kx(e){let t=p.useContext(ls);return t||Fe(!1),t}function Km(e){let t=Kx(),r=t.matches[t.matches.length-1];return r.route.id||Fe(!1),r.route.id}function Qx(){var e;let t=p.useContext(Gm),r=Wx(Wa.UseRouteError),s=Km(Wa.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Jx(){let{router:e}=Hx(Wm.UseNavigateStable),t=Km(Wa.UseNavigateStable),r=p.useRef(!1);return Hm(()=>{r.current=!0}),p.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ni({fromRouteId:t},a)))},[e,t])}function Zx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Et(e){Fe(!1)}function Xx(e){let{basename:t="/",children:r=null,location:s,navigationType:i=qr.Pop,navigator:a,static:l=!1,future:o}=e;Li()&&Fe(!1);let c=t.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:a,static:l,future:Ni({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof s=="string"&&(s=bn(s));let{pathname:u="/",search:h="",hash:f="",state:v=null,key:j="default"}=s,N=p.useMemo(()=>{let C=mn(u,c);return C==null?null:{location:{pathname:C,search:h,hash:f,state:v,key:j},navigationType:i}},[c,u,h,f,v,j,i]);return N==null?null:p.createElement(as.Provider,{value:d},p.createElement(yl.Provider,{children:r,value:N}))}function Yx(e){let{children:t,location:r}=e;return Dx(sc(t),r)}new Promise(()=>{});function sc(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(s,i)=>{if(!p.isValidElement(s))return;let a=[...t,i];if(s.type===p.Fragment){r.push.apply(r,sc(s.props.children,a));return}s.type!==Et&&Fe(!1),!s.props.index||!s.props.children||Fe(!1);let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=sc(s.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ka.apply(this,arguments)}function Qm(e,t){if(e==null)return{};var r={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ey(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ty(e,t){return e.button===0&&(!t||t==="_self")&&!ey(e)}const ry=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sy=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ny="6";try{window.__reactRouterVersion=ny}catch{}const iy=p.createContext({isTransitioning:!1}),ay="startTransition",Vd=Y0[ay];function ly(e){let{basename:t,children:r,future:s,window:i}=e,a=p.useRef();a.current==null&&(a.current=dx({window:i,v5Compat:!0}));let l=a.current,[o,c]=p.useState({action:l.action,location:l.location}),{v7_startTransition:d}=s||{},u=p.useCallback(h=>{d&&Vd?Vd(()=>c(h)):c(h)},[c,d]);return p.useLayoutEffect(()=>l.listen(u),[l,u]),p.useEffect(()=>Zx(s),[s]),p.createElement(Xx,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:s})}const oy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ki=p.forwardRef(function(t,r){let{onClick:s,relative:i,reloadDocument:a,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=Qm(t,ry),{basename:v}=p.useContext(as),j,N=!1;if(typeof d=="string"&&cy.test(d)&&(j=d,oy))try{let x=new URL(window.location.href),k=d.startsWith("//")?new URL(x.protocol+d):new URL(d),O=mn(k.pathname,v);k.origin===x.origin&&O!=null?d=O+k.search+k.hash:N=!0}catch{}let C=zx(d,{relative:i}),g=dy(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:i,viewTransition:h});function m(x){s&&s(x),x.defaultPrevented||g(x)}return p.createElement("a",Ka({},f,{href:j||C,onClick:N||a?s:m,ref:r,target:c}))}),us=p.forwardRef(function(t,r){let{"aria-current":s="page",caseSensitive:i=!1,className:a="",end:l=!1,style:o,to:c,viewTransition:d,children:u}=t,h=Qm(t,sy),f=vl(c,{relative:h.relative}),v=jn(),j=p.useContext(qm),{navigator:N,basename:C}=p.useContext(as),g=j!=null&&hy(f)&&d===!0,m=N.encodeLocation?N.encodeLocation(f).pathname:f.pathname,x=v.pathname,k=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(x=x.toLowerCase(),k=k?k.toLowerCase():null,m=m.toLowerCase()),k&&C&&(k=mn(k,C)||k);const O=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let B=x===m||!l&&x.startsWith(m)&&x.charAt(O)==="/",I=k!=null&&(k===m||!l&&k.startsWith(m)&&k.charAt(m.length)==="/"),A={isActive:B,isPending:I,isTransitioning:g},F=B?s:void 0,$;typeof a=="function"?$=a(A):$=[a,B?"active":null,I?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let Y=typeof o=="function"?o(A):o;return p.createElement(ki,Ka({},h,{"aria-current":F,className:$,ref:r,style:Y,to:c,viewTransition:d}),typeof u=="function"?u(A):u)});var nc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nc||(nc={}));var Bd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bd||(Bd={}));function uy(e){let t=p.useContext(xl);return t||Fe(!1),t}function dy(e,t){let{target:r,replace:s,state:i,preventScrollReset:a,relative:l,viewTransition:o}=t===void 0?{}:t,c=nr(),d=jn(),u=vl(e,{relative:l});return p.useCallback(h=>{if(ty(h,r)){h.preventDefault();let f=s!==void 0?s:Ga(d)===Ga(u);c(e,{replace:f,state:i,preventScrollReset:a,relative:l,viewTransition:o})}},[d,c,u,s,i,r,e,a,l,o])}function hy(e,t){t===void 0&&(t={});let r=p.useContext(iy);r==null&&Fe(!1);let{basename:s}=uy(nc.useViewTransitionState),i=vl(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=mn(r.currentLocation.pathname,s)||r.currentLocation.pathname,l=mn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Ha(i.pathname,l)!=null||Ha(i.pathname,a)!=null}const fy="modulepreload",my=function(e){return"/Nexus/"+e},qd={},pn=function(t,r,s){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=my(c),c in qd)return;qd[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":fy,d||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),d)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},py=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pn(async()=>{const{default:s}=await Promise.resolve().then(()=>Nn);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)};class hu extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class gy extends hu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xy extends hu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yy extends hu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ic;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ic||(ic={}));var vy=function(e,t,r,s){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};class wy{constructor(t,{headers:r={},customFetch:s,region:i=ic.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=py(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var s;return vy(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:l}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let d;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(o["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(o["Content-Type"]="application/json",d=JSON.stringify(l)));const u=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(j=>{throw new gy(j)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new xy(u);if(!u.ok)throw new yy(u);let f=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield u.json():f==="application/octet-stream"?v=yield u.blob():f==="text/event-stream"?v=u:f==="multipart/form-data"?v=yield u.formData():v=yield u.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}}var jt={},fu={},wl={},Oi={},bl={},jl={},by=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gn=by();const jy=gn.fetch,Jm=gn.fetch.bind(gn),Zm=gn.Headers,Ny=gn.Request,ky=gn.Response,Nn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zm,Request:Ny,Response:ky,default:Jm,fetch:jy},Symbol.toStringTag,{value:"Module"})),_y=M0(Nn);var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});let Sy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Nl.default=Sy;var Xm=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jl,"__esModule",{value:!0});const Cy=Xm(_y),Ey=Xm(Nl);let Py=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Cy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,o,c;let d=null,u=null,h=null,f=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const N=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),C=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");N&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,v="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const N=await a.text();try{d=JSON.parse(N),Array.isArray(d)&&a.status===404&&(u=[],d=null,f=200,v="OK")}catch{a.status===404&&N===""?(f=204,v="No Content"):d={message:N}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,v="OK"),d&&this.shouldThrowOnError)throw new Ey.default(d)}return{error:d,data:u,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var l,o,c;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};jl.default=Py;var Ty=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bl,"__esModule",{value:!0});const Ry=Ty(jl);let Ly=class extends Ry.default{select(t){let r=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${d}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};bl.default=Ly;var Oy=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oi,"__esModule",{value:!0});const Ay=Oy(bl);let $y=class extends Ay.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const s=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(t,r,s){return this.url.searchParams.append(t,`not.${r}.${s}`),this}or(t,{foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,s){return this.url.searchParams.append(t,`${r}.${s}`),this}};Oi.default=$y;var zy=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wl,"__esModule",{value:!0});const zn=zy(Oi);let My=class{constructor(t,{headers:r={},schema:s,fetch:i}){this.url=t,this.headers=r,this.schema=s,this.fetch=i}select(t,{head:r=!1,count:s}={}){const i=r?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",l),s&&(this.headers.Prefer=`count=${s}`),new zn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:s=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new zn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){const l="POST",o=[`resolution=${s?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new zn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const s="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new zn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new zn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wl.default=My;var kl={},_l={};Object.defineProperty(_l,"__esModule",{value:!0});_l.version=void 0;_l.version="0.0.0-automated";Object.defineProperty(kl,"__esModule",{value:!0});kl.DEFAULT_HEADERS=void 0;const Uy=_l;kl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Uy.version}`};var Ym=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fu,"__esModule",{value:!0});const Dy=Ym(wl),Iy=Ym(Oi),Fy=kl;let Vy=class e0{constructor(t,{headers:r={},schema:s,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},Fy.DEFAULT_HEADERS),r),this.schemaName=s,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new Dy.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:i=!1,count:a}={}){let l;const o=new URL(`${this.url}/rpc/${t}`);let c;s||i?(l=s?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{o.searchParams.append(u,h)})):(l="POST",c=r);const d=Object.assign({},this.headers);return a&&(d.Prefer=`count=${a}`),new Iy.default({method:l,url:o,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};fu.default=Vy;var kn=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jt,"__esModule",{value:!0});jt.PostgrestError=jt.PostgrestBuilder=jt.PostgrestTransformBuilder=jt.PostgrestFilterBuilder=jt.PostgrestQueryBuilder=jt.PostgrestClient=void 0;const t0=kn(fu);jt.PostgrestClient=t0.default;const r0=kn(wl);jt.PostgrestQueryBuilder=r0.default;const s0=kn(Oi);jt.PostgrestFilterBuilder=s0.default;const n0=kn(bl);jt.PostgrestTransformBuilder=n0.default;const i0=kn(jl);jt.PostgrestBuilder=i0.default;const a0=kn(Nl);jt.PostgrestError=a0.default;var By=jt.default={PostgrestClient:t0.default,PostgrestQueryBuilder:r0.default,PostgrestFilterBuilder:s0.default,PostgrestTransformBuilder:n0.default,PostgrestBuilder:i0.default,PostgrestError:a0.default};const{PostgrestClient:qy,PostgrestQueryBuilder:eb,PostgrestFilterBuilder:tb,PostgrestTransformBuilder:rb,PostgrestBuilder:sb,PostgrestError:nb}=By,Gy="2.11.2",Hy={"X-Client-Info":`realtime-js/${Gy}`},Wy="1.0.0",l0=1e4,Ky=1e3;var an;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(an||(an={}));var Pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pt||(Pt={}));var Jt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Jt||(Jt={}));var ac;(function(e){e.websocket="websocket"})(ac||(ac={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class Qy{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,r,s)}_decodeBroadcast(t,r,s){const i=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=s.decode(t.slice(l,l+i));l=l+i;const c=s.decode(t.slice(l,l+a));l=l+a;const d=JSON.parse(s.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class o0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Se||(Se={}));const Gd=(e,t,r={})=>{var s;const i=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,l)=>(a[l]=Jy(l,e,t,i),a),{})},Jy=(e,t,r,s)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,l=r[e];return a&&!s.includes(a)?c0(a,l):lc(l)},c0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ev(t,r)}switch(e){case Se.bool:return Zy(t);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Xy(t);case Se.json:case Se.jsonb:return Yy(t);case Se.timestamp:return tv(t);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return lc(t);default:return lc(t)}},lc=e=>e,Zy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Xy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Yy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ev=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(o=>c0(t,o))}return e},tv=e=>typeof e=="string"?e.replace(" ","T"):e,u0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ro{constructor(t,r,s={},i=l0){this.channel=t,this.event=r,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hd||(Hd={}));class ei{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ei.syncState(this.state,i,a,l),this.pendingDiffs.forEach(c=>{this.state=ei.syncDiff(this.state,c,a,l)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ei.syncDiff(this.state,i,a,l),o())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,i){const a=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(a,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const h=a[d];if(h){const f=u.map(C=>C.presence_ref),v=h.map(C=>C.presence_ref),j=u.filter(C=>v.indexOf(C.presence_ref)<0),N=h.filter(C=>f.indexOf(C.presence_ref)<0);j.length>0&&(o[d]=j),N.length>0&&(c[d]=N)}else o[d]=u}),this.syncDiff(a,{joins:o,leaves:c},s,i)}static syncDiff(t,r,s,i){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var d;const u=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),u.length>0){const h=t[o].map(v=>v.presence_ref),f=u.filter(v=>h.indexOf(v.presence_ref)<0);t[o].unshift(...f)}s(o,u,c)}),this.map(l,(o,c)=>{let d=t[o];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[o]=d,i(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const i=t[s];return"metas"in i?r[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[s]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Wd||(Wd={}));var Kd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Kd||(Kd={}));var gr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gr||(gr={}));class mu{constructor(t,r={config:{}},s){this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ro(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new o0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ei(this),this.broadcastEndpointURL=u0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:l,private:o}}=this.params;this._onError(u=>t==null?void 0:t(gr.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(gr.CLOSED));const c={},d={broadcast:a,presence:l,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(gr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,j=[];for(let N=0;N<v;N++){const C=f[N],{filter:{event:g,schema:m,table:x,filter:k}}=C,O=u&&u[N];if(O&&O.event===g&&O.schema===m&&O.table===x&&O.filter===k)j.push(Object.assign(Object.assign({},C),{id:O.id}));else{this.unsubscribe(),t==null||t(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(gr.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this._on(t,r,s)}async send(t,r={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const i=new ro(this,Jt.leave,{},t);i.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,r,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),l}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ro(this,t,r,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var i,a;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=Jt;if(s&&[o,c,d,u].indexOf(l)>=0&&s!==this._joinRef())return;let f=this._onMessage(l,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var j,N,C;return((j=v.filter)===null||j===void 0?void 0:j.event)==="*"||((C=(N=v.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(v=>v.callback(f,s)):(a=this.bindings[l])===null||a===void 0||a.filter(v=>{var j,N,C,g,m,x;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const k=v.id,O=(j=v.filter)===null||j===void 0?void 0:j.event;return k&&((N=r.ids)===null||N===void 0?void 0:N.includes(k))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const k=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return k==="*"||k===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof f=="object"&&"ids"in f){const j=f.data,{schema:N,table:C,commit_timestamp:g,type:m,errors:x}=j;f=Object.assign(Object.assign({},{schema:N,table:C,commit_timestamp:g,eventType:m,new:{},old:{},errors:x}),this._getPayloadRecords(j))}v.callback(f,s)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&mu.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jt.close,{},t)}_onError(t){this._on(Jt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gd(t.columns,t.old_record)),r}}const rv=()=>{},sv=typeof WebSocket<"u",nv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iv{constructor(t,r){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Hy,this.params={},this.timeout=l0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=rv,this.conn=null,this.sendBuffer=[],this.serializer=new Qy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...o)=>pn(async()=>{const{default:c}=await Promise.resolve().then(()=>Nn);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${t}/${ac.websocket}`,this.httpEndpoint=u0(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(s=r==null?void 0:r.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,l)=>l(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new o0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(sv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new av(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),pn(async()=>{const{default:t}=await import("./browser-B1_jnLz0.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wy}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case an.connecting:return ps.Connecting;case an.open:return ps.Open;case an.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}channel(t,r={config:{}}){const s=new mu(`realtime:${t}`,r,this);return this.channels.push(s),s}push(t){const{topic:r,event:s,payload:i,ref:a}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${s} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let s=null;try{s=JSON.parse(atob(r.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(Jt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Ky,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:s,event:i,payload:a,ref:l}=r;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${s} ${i} ${l&&"("+l+")"||""}`,a),this.channels.filter(o=>o._isMember(s)).forEach(o=>o._trigger(i,a,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${s}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([nv],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}}class av{constructor(t,r,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=an.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class pu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class lv extends pu{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class oc extends pu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var ov=function(e,t,r,s){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};const d0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pn(async()=>{const{default:s}=await Promise.resolve().then(()=>Nn);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},cv=()=>ov(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pn(()=>Promise.resolve().then(()=>Nn),void 0)).Response:Response}),cc=e=>{if(Array.isArray(e))return e.map(r=>cc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=cc(s)}),t};var Os=function(e,t,r,s){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};const so=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uv=(e,t,r)=>Os(void 0,void 0,void 0,function*(){const s=yield cv();e instanceof s&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new lv(so(i),e.status||500))}).catch(i=>{t(new oc(so(i),i))}):t(new oc(so(e),e))}),dv=(e,t,r,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),r))};function Ai(e,t,r,s,i,a){return Os(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,dv(t,s,i,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>uv(c,o,s))})})}function Qa(e,t,r,s){return Os(this,void 0,void 0,function*(){return Ai(e,"GET",t,r,s)})}function Mr(e,t,r,s,i){return Os(this,void 0,void 0,function*(){return Ai(e,"POST",t,s,i,r)})}function hv(e,t,r,s,i){return Os(this,void 0,void 0,function*(){return Ai(e,"PUT",t,s,i,r)})}function fv(e,t,r,s){return Os(this,void 0,void 0,function*(){return Ai(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function h0(e,t,r,s,i){return Os(this,void 0,void 0,function*(){return Ai(e,"DELETE",t,s,i,r)})}var vt=function(e,t,r,s){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};const mv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pv{constructor(t,r={},s,i){this.url=t,this.headers=r,this.bucketId=s,this.fetch=d0(i)}uploadOrUpdate(t,r,s,i){return vt(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Qd),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:a,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),f=yield h.json();return h.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(Ye(a))return{data:null,error:a};throw a}})}upload(t,r,s){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,i){return vt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Qd.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Ye(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return vt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Mr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),l=new URL(this.url+a.url),o=l.searchParams.get("token");if(!o)throw new pu("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}update(t,r,s){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return vt(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}copy(t,r,s){return vt(this,void 0,void 0,function*(){try{return{data:{path:(yield Mr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,s){return vt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Mr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,s){return vt(this,void 0,void 0,function*(){try{const i=yield Mr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}download(t,r){return vt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Qa(this.fetch,`${this.url}/${i}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ye(o))return{data:null,error:o};throw o}})}info(t){return vt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield Qa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:cc(s),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}exists(t){return vt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield fv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Ye(s)&&s instanceof oc){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${s}${d}`)}}}remove(t){return vt(this,void 0,void 0,function*(){try{return{data:yield h0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}list(t,r,s){return vt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},mv),r),{prefix:t||""});return{data:yield Mr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const gv="2.7.1",xv={"X-Client-Info":`storage-js/${gv}`};var zs=function(e,t,r,s){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};class yv{constructor(t,r={},s){this.url=t,this.headers=Object.assign(Object.assign({},xv),r),this.fetch=d0(s)}listBuckets(){return zs(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ye(t))return{data:null,error:t};throw t}})}getBucket(t){return zs(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return zs(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return zs(this,void 0,void 0,function*(){try{return{data:yield hv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}emptyBucket(t){return zs(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}deleteBucket(t){return zs(this,void 0,void 0,function*(){try{return{data:yield h0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}}class vv extends yv{constructor(t,r={},s){super(t,r,s)}from(t){return new pv(this.url,this.headers,t,this.fetch)}}const wv="2.49.4";let Bn="";typeof Deno<"u"?Bn="deno":typeof document<"u"?Bn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bn="react-native":Bn="node";const bv={"X-Client-Info":`supabase-js-${Bn}/${wv}`},jv={headers:bv},Nv={schema:"public"},kv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_v={};var Sv=function(e,t,r,s){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};const Cv=e=>{let t;return e?t=e:typeof fetch>"u"?t=Jm:t=fetch,(...r)=>t(...r)},Ev=()=>typeof Headers>"u"?Zm:Headers,Pv=(e,t,r)=>{const s=Cv(r),i=Ev();return(a,l)=>Sv(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let d=new i(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},l),{headers:d}))})};var Tv=function(e,t,r,s){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};function Rv(e){return e.replace(/\/$/,"")}function Lv(e,t){const{db:r,auth:s,realtime:i,global:a}=e,{db:l,auth:o,realtime:c,global:d}=t,u={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},o),s),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},d),a),accessToken:()=>Tv(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const f0="2.69.1",Is=30*1e3,uc=3,no=uc*Is,Ov="http://localhost:9999",Av="supabase.auth.token",$v={"X-Client-Info":`gotrue-js/${f0}`},dc="X-Supabase-Api-Version",m0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mv=6e5;class gu extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Uv extends gu{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Dv(e){return ue(e)&&e.name==="AuthApiError"}class p0 extends gu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class os extends gu{constructor(t,r,s,i){super(t,s,i),this.name=r,this.status=s}}class Or extends os{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Iv(e){return ue(e)&&e.name==="AuthSessionMissingError"}class io extends os{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ea extends os{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ta extends os{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fv(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Jd extends os{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hc extends os{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ao(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class Zd extends os{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class ti extends os{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yd=` 	
\r=`.split(""),Vv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Yd.length;t+=1)e[Yd[t].charCodeAt(0)]=-2;for(let t=0;t<Xd.length;t+=1)e[Xd[t].charCodeAt(0)]=t;return e})();function g0(e,t,r){const s=Vv[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function eh(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{Gv(l,s,r)};for(let l=0;l<e.length;l+=1)g0(e.charCodeAt(l),i,a);return t.join("")}function Bv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qv(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Bv(s,t)}}function Gv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Hv(e){const t=[],r={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)g0(e.charCodeAt(i),r,s);return new Uint8Array(t)}function Wv(e){const t=[];return qv(e,r=>t.push(r)),new Uint8Array(t)}function Kv(e){return Math.round(Date.now()/1e3)+e}function Qv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ar=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},ri=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function Jv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((s,i)=>{t[i]=s}),t}const x0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pn(async()=>{const{default:s}=await Promise.resolve().then(()=>Nn);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},Zv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",y0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ra=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},sa=async(e,t)=>{await e.removeItem(t)};class Sl{constructor(){this.promise=new Sl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Sl.promiseConstructor=Promise;function lo(e){const t=e.split(".");if(t.length!==3)throw new ti("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!zv.test(t[s]))throw new ti("JWT not in base64url format");return{header:JSON.parse(eh(t[0])),payload:JSON.parse(eh(t[1])),signature:Hv(t[2]),raw:{header:t[0],payload:t[1]}}}async function Xv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Yv(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){s(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function e1(e){return("0"+e.toString(16)).substr(-2)}function t1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,e1).join("")}async function r1(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function s1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await r1(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ms(e,t,r=!1){const s=t1();let i=s;r&&(i+="/PASSWORD_RECOVERY"),await y0(e,`${t}-code-verifier`,i);const a=await s1(s);return[a,s===a?"plain":"s256"]}const n1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function i1(e){const t=e.headers.get(dc);if(!t||!t.match(n1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function a1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function l1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var o1=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]]);return r};const ms=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),c1=[502,503,504];async function th(e){var t;if(!Zv(e))throw new hc(ms(e),0);if(c1.includes(e.status))throw new hc(ms(e),e.status);let r;try{r=await e.json()}catch(a){throw new p0(ms(a),a)}let s;const i=i1(e);if(i&&i.getTime()>=m0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Zd(ms(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Or}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Zd(ms(r),e.status,r.weak_password.reasons);throw new Uv(ms(r),e.status||500,s)}const u1=(e,t,r,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),r))};async function ye(e,t,r,s){var i;const a=Object.assign({},s==null?void 0:s.headers);a[dc]||(a[dc]=m0["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const l=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(l.redirect_to=s.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await d1(e,t,r+o,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function d1(e,t,r,s,i,a){const l=u1(t,s,i,a);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new hc(ms(c),0)}if(o.ok||await th(o),s!=null&&s.noResolveJson)return o;try{return await o.json()}catch(c){await th(c)}}function Ar(e){var t;let r=null;p1(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Kv(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function rh(e){const t=Ar(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ir(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function h1(e){return{data:e,error:null}}function f1(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:i,verification_type:a}=e,l=o1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:s,redirect_to:i,verification_type:a},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function m1(e){return e}function p1(e){return e.access_token&&e.refresh_token&&e.expires_in}var g1=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]]);return r};class x1{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=x0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ir})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=g1(t,["options"]),i=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:f1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ir})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,i,a,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:m1});if(u.error)throw u.error;const h=await u.json(),f=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(j.split(";")[1].split("=")[1]);d[`${C}Page`]=N}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(ue(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ir})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ir})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ir})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:r,error:s}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:s}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}const y1={getItem:e=>ri()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ri()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ri()&&globalThis.localStorage.removeItem(e)}};function sh(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function v1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Us={debug:!!(globalThis&&ri()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class v0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class w1 extends v0{}async function b1(e,t,r){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new w1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Us.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}v1();const j1={url:Ov,storageKey:Av,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$v,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nh(e,t,r){return await r()}class _i{constructor(t){var r,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_i.nextInstanceID,_i.nextInstanceID+=1,this.instanceID>0&&ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},j1),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new x1({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=x0(i.fetch),this.lock=i.lock||nh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ar()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=b1:this.lock=nh,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ri()?this.storage=y1:(this.memoryStorage={},this.storage=sh(this.memoryStorage)):(this.memoryStorage={},this.storage=sh(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${f0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Jv(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),ar()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Fv(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?{error:r}:{error:new p0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,i;try{const a=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ar}),{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,s,i;try{let a;if("email"in t){const{email:u,password:h,options:f}=t;let v=null,j=null;this.flowType==="pkce"&&([v,j]=await Ms(this.storage,this.storageKey)),a=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:j},xform:Ar})}else if("phone"in t){const{phone:u,password:h,options:f}=t;a=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ar})}else throw new ea("You must provide either an email or phone number and a password");const{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:o}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:rh})}else if("phone"in t){const{phone:a,password:l,options:o}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:rh})}else throw new ea("You must provide either an email or phone number and a password");const{data:s,error:i}=r;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new io}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ra(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(r??"").split("/");try{const{data:a,error:l}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Ar});if(await sa(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new io}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(ue(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:s,token:i,access_token:a,nonce:l}=t,o=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ar}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new io}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,s,i,a,l;try{if("email"in t){const{email:o,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ms(this.storage,this.storageKey));const{error:h}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:u}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new ea("You must provide either an email or phone number.")}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,s;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:l,error:o}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ar});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,s,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Ms(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:h1})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new Or;const{error:i}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:l}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:l,error:o}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new ea("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<no:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ir}):await this._useSession(async r=>{var s,i,a;const{data:l,error:o}=r;if(o)throw o;return!(!((s=l.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Or}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ir})})}catch(r){if(ue(r))return Iv(r)&&(await this._removeSession(),await sa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Or;const l=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Ms(this.storage,this.storageKey));const{data:d,error:u}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Ir});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Or;const r=Date.now()/1e3;let s=r,i=!0,a=null;const{payload:l}=lo(t.access_token);if(l.exp&&(s=l.exp,i=s<=r),i){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(s=l.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Or;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ar())throw new ta("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ta(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Jd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ta("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Jd("No code detected.");const{data:m,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=t;if(!a||!o||!l||!d)throw new ta("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let f=u+h;c&&(f=parseInt(c));const v=f-u;v*1e3<=Is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const j=f-h;u-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,f,u):u-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,f,u);const{data:N,error:C}=await this._getUser(a);if(C)throw C;const g={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:f,refresh_token:l,token_type:d,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(s){if(ue(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ra(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:i,error:a}=r;if(a)return{error:a};const l=(s=i.session)===null||s===void 0?void 0:s.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(Dv(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await sa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Qv(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,i;try{const{data:{session:a},error:l}=r;if(l)throw l;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Ms(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:s,error:i}=await this._useSession(async a=>{var l,o,c,d,u;const{data:h,error:f}=a;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ar()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(ue(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,i;const{data:a,error:l}=r;if(l)throw l;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Yv(async i=>(i>0&&await Xv(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ar})),(i,a)=>{const l=200*Math.pow(2,i);return a&&ao(a)&&Date.now()+l-s<Is})}catch(s){if(this._debug(r,"error",s),ue(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),ar()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ra(this.storage,this.storageKey);if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<no;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${no}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),ao(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new Or;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Sl;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Or;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),ue(a)){const l={session:null,error:a};return ao(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(l),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await y0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await sa(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Is);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Is}ms, refresh threshold is ${uc} ticks`),i<=uc&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof v0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const i=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,l]=await Ms(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(o.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:i,error:a}=r;return a?{data:null,error:a}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,i;const{data:a,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:o}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:i,error:a}=r;return a?{data:null,error:a}:await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(t==null?void 0:t.factors)||[],i=s.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=s.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:s,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=lo(i.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((s=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(l=>l.kid===t);if(s||(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+Mv>Date.now()))return s;const{data:i,error:a}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new ti("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),s=i.keys.find(l=>l.kid===t),!s)throw new ti("No matching signing key found in JWKS");return s}async getClaims(t,r={keys:[]}){try{let s=t;if(!s){const{data:v,error:j}=await this.getSession();if(j||!v.session)return{data:null,error:j};s=v.session.access_token}const{header:i,payload:a,signature:l,raw:{header:o,payload:c}}=lo(s);if(a1(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(s);if(v)throw v;return{data:{claims:a,header:i,signature:l},error:null}}const d=l1(i.alg),u=await this.fetchJwk(i.kid,r),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,l,Wv(`${o}.${c}`)))throw new ti("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}}_i.nextInstanceID=0;const N1=_i;class k1 extends N1{constructor(t){super(t)}}var _1=function(e,t,r,s){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};class S1{constructor(t,r,s){var i,a,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Rv(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:Nv,realtime:_v,auth:Object.assign(Object.assign({},kv),{storageKey:c}),global:jv},u=Lv(s??{},d);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch),this.fetch=Pv(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new qy(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new wy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vv(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},s={}){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return _1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:i,storageKey:a,flowType:l,lock:o,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new k1({url:this.authUrl,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:i,flowType:l,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new iv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const C1=(e,t,r)=>new S1(e,t,r),E1="https://gtfgvqttfydelzgvgwly.supabase.co",P1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0Zmd2cXR0ZnlkZWx6Z3Znd2x5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQwMjE0OTEsImV4cCI6MjA1OTU5NzQ5MX0.nBdVMHZ6LJ8ZvdSuXk_uDVMb6DxB5iTeFdc0dM7zolI",K=C1(E1,P1);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(e,t)=>{const r=p.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>p.createElement("svg",{ref:u,...T1,width:i,height:i,stroke:s,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${R1(e)}`,o].join(" "),...d},[...t.map(([h,f])=>p.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=Q("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=Q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Q("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Q("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Q("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Q("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Q("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=Q("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Q("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Q("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=Q("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=Q("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Q("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Q("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Q("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Q("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Q("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Q("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Q("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Q("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Q("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Q("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Q("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Q("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=Q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Q("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Q("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Q("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Q("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=Q("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Q("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function iw(){const[e,t]=p.useState(""),[r,s]=p.useState(""),[i,a]=p.useState(""),[l,o]=p.useState(!1),c=nr(),d=async h=>{h.preventDefault(),a(""),o(!0);try{const{error:f}=await K.auth.signInWithPassword({email:e,password:r});if(f)throw f;c("/profile")}catch(f){console.error("Login error:",f),a(f.message||" ")}finally{o(!1)}},u=async()=>{try{const{error:h}=await K.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}/profile`,queryParams:{access_type:"offline",prompt:"consent"}}});if(h)throw h}catch(h){console.error("GitHub login error:",h),a(h.message||"   GitHub")}};return n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"  "}),n.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[""," ",n.jsx(ki,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"  "})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[i&&n.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:i}),n.jsxs("button",{onClick:u,className:"w-full flex justify-center items-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 mb-6",children:[n.jsx(B1,{size:20}),"  GitHub"]}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-500",children:"    email"})})]}),n.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx(wu,{className:"absolute left-3 top-3 text-gray-400",size:20}),n.jsx("input",{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:" email",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:""}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx(Er,{className:"absolute left-3 top-3 text-gray-400",size:20}),n.jsx("input",{id:"password",type:"password",value:r,onChange:h=>s(h.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:" ",required:!0})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"...":""})})]})]})})]})}function aw(){const[e,t]=p.useState(""),[r,s]=p.useState(""),[i,a]=p.useState(""),[l,o]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState(!1),f=nr(),v=async j=>{j.preventDefault(),d(""),h(!0);try{const{data:N,error:C}=await K.auth.signUp({email:i,password:l});if(C)throw C;if(N.user){const{error:g}=await K.from("users").insert([{auth_user_id:N.user.id,name:e,lastName:r,email:i,date:new Date().toISOString()}]);if(g)throw g;f("/profile/confirm")}}catch(N){console.error("Registration error:",N),d(N.message||" ")}finally{h(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"  "}),n.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[""," ",n.jsx(ki,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"   "})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[c&&n.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:c}),n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"'"}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx(gc,{className:"absolute left-3 top-3 text-gray-400",size:20}),n.jsx("input",{id:"name",type:"text",value:e,onChange:j=>t(j.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:" '",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:""}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx(gc,{className:"absolute left-3 top-3 text-gray-400",size:20}),n.jsx("input",{id:"lastName",type:"text",value:r,onChange:j=>s(j.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:" ",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx(wu,{className:"absolute left-3 top-3 text-gray-400",size:20}),n.jsx("input",{id:"email",type:"email",value:i,onChange:j=>a(j.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:" email",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:""}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx(Er,{className:"absolute left-3 top-3 text-gray-400",size:20}),n.jsx("input",{id:"password",type:"password",value:l,onChange:j=>o(j.target.value),className:"appearance-none block w-full px-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:" ",required:!0,minLength:6})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"...":""})})]})]})})]})}function nt(){const e=nr(),t=async()=>{try{const{error:r}=await K.auth.signOut();if(r)throw r;e("/login")}catch(r){console.error("Error logging out:",r)}};return n.jsxs("div",{className:"w-64 bg-white h-screen fixed left-0 top-0 border-r border-gray-200",children:[n.jsx("div",{className:"p-4",children:n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:" "})}),n.jsxs("nav",{className:"mt-8",children:[n.jsxs(us,{to:"/profile",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[n.jsx(Za,{className:"w-5 h-5 mr-3"}),""]}),n.jsxs(us,{to:"/people",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[n.jsx(rr,{className:"w-5 h-5 mr-3"}),""]}),n.jsxs(us,{to:"/reels",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[n.jsx(Nu,{className:"w-5 h-5 mr-3"}),""]}),n.jsxs(us,{to:"/messages",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[n.jsx(Nr,{className:"w-5 h-5 mr-3"}),""]}),n.jsxs(us,{to:"/friends",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[n.jsx(rr,{className:"w-5 h-5 mr-3"}),""]}),n.jsxs(us,{to:"/groups",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[n.jsx(nw,{className:"w-5 h-5 mr-3"}),""]}),n.jsxs(us,{to:"/settings",className:({isActive:r})=>`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 ${r?"bg-gray-100":""}`,children:[n.jsx(Cl,{className:"w-5 h-5 mr-3"}),""]})]}),n.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-200",children:n.jsxs("button",{onClick:t,className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 w-full",children:[n.jsx(W1,{className:"w-5 h-5 mr-3"}),""]})})]})}class gs{static async getCurrentUserProfile(){try{const{data:{user:t}}=await K.auth.getUser();if(!(t!=null&&t.email))return console.log("No authenticated user found"),null;const{data:r,error:s}=await K.from("users").select("*").eq("email",t.email).single();return s?s.code==="PGRST116"?await this.createUserProfile(t):(console.error("Error fetching user profile:",s),null):r}catch(t){return console.error("Error getting current user profile:",t),null}}static async createUserProfile(t){var r,s,i,a,l,o;try{const c={email:t.email,name:((r=t.user_metadata)==null?void 0:r.name)||((i=(s=t.user_metadata)==null?void 0:s.full_name)==null?void 0:i.split(" ")[0])||t.email.split("@")[0]||"User",lastName:((a=t.user_metadata)==null?void 0:a.lastName)||((o=(l=t.user_metadata)==null?void 0:l.full_name)==null?void 0:o.split(" ").slice(1).join(" "))||"",date:new Date().toISOString(),notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1}},{data:d,error:u}=await K.from("users").insert([c]).select().single();return u?(console.error("Error creating user profile:",u),null):d}catch(c){return console.error("Error creating user profile:",c),null}}static async searchUsers(t){try{if(t.length<2)return[];const{data:r,error:s}=await K.from("users").select("id, name, lastName, avatar, email").or(`name.ilike.%${t}%, lastName.ilike.%${t}%`).limit(10);if(s)throw s;return r||[]}catch(r){return console.error("Error searching users:",r),[]}}static async getUserFriends(){try{const t=await this.getCurrentUserProfile();if(!t)return[];const{data:r,error:s}=await K.from("friends").select(`
          friend_id,
          friend:users!friend_id (
            id,
            name,
            lastName,
            avatar,
            email
          )
        `).eq("user_id",t.id);if(s)throw s;return(r==null?void 0:r.map(i=>i.friend).filter(Boolean))||[]}catch(t){return console.error("Error fetching friends:",t),[]}}static async addFriend(t){try{const r=await this.getCurrentUserProfile();if(!r)return!1;const{error:s}=await K.from("friends").insert([{user_id:r.id,friend_id:t}]);if(s)throw s;return!0}catch(r){return console.error("Error adding friend:",r),!1}}static async updateUserProfile(t){try{const{data:{user:r}}=await K.auth.getUser();if(!(r!=null&&r.email))return!1;const{error:s}=await K.from("users").update(t).eq("email",r.email);if(s)throw s;return!0}catch(r){return console.error("Error updating user profile:",r),!1}}static async getUserMedia(){try{const t=await this.getCurrentUserProfile();if(!t)return[];const{data:r,error:s}=await K.from("media").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(s)throw s;return r||[]}catch(t){return console.error("Error loading media:",t),[]}}static async createPost(t,r){try{const s=await this.getCurrentUserProfile();if(!s)return!1;const{error:i}=await K.from("posts").insert([{user_id:s.id,content:t,images:r,created_at:new Date().toISOString()}]);if(i)throw i;return!0}catch(s){return console.error("Error creating post:",s),!1}}}var $i=e=>e.type==="checkbox",ws=e=>e instanceof Date,ft=e=>e==null;const E0=e=>typeof e=="object";var Ge=e=>!ft(e)&&!Array.isArray(e)&&E0(e)&&!ws(e),lw=e=>Ge(e)&&e.target?$i(e.target)?e.target.checked:e.target.value:e,ow=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,cw=(e,t)=>e.has(ow(t)),uw=e=>{const t=e.constructor&&e.constructor.prototype;return Ge(t)&&t.hasOwnProperty("isPrototypeOf")},ku=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xe(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(ku&&(e instanceof Blob||s))&&(r||Ge(e)))if(t=r?[]:{},!r&&!uw(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Xe(e[i]));else return e;return t}var El=e=>/^\w*$/.test(e),We=e=>e===void 0,_u=e=>Array.isArray(e)?e.filter(Boolean):[],Su=e=>_u(e.replace(/["|']|\]/g,"").split(/\.|\[/)),re=(e,t,r)=>{if(!t||!Ge(e))return r;const s=(El(t)?[t]:Su(t)).reduce((i,a)=>ft(i)?i:i[a],e);return We(s)||s===e?We(e[t])?r:e[t]:s},or=e=>typeof e=="boolean",Oe=(e,t,r)=>{let s=-1;const i=El(t)?[t]:Su(t),a=i.length,l=a-1;for(;++s<a;){const o=i[s];let c=r;if(s!==l){const d=e[o];c=Ge(d)||Array.isArray(d)?d:isNaN(+i[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const hh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dw=Ut.createContext(null);dw.displayName="HookFormContext";var hw=(e,t,r,s=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const l=a;return t._proxyFormState[l]!==Xt.all&&(t._proxyFormState[l]=!s||Xt.all),e[l]}});return i};const fw=typeof window<"u"?p.useLayoutEffect:p.useEffect;var dr=e=>typeof e=="string",mw=(e,t,r,s,i)=>dr(e)?(s&&t.watch.add(e),re(r,e,i)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),re(r,a))):(s&&(t.watchAll=!0),r),pw=(e,t,r,s,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:i||!0}}:{},si=e=>Array.isArray(e)?e:[e],fh=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},xc=e=>ft(e)||!E0(e);function Fr(e,t,r=new WeakSet){if(xc(e)||xc(t))return e===t;if(ws(e)&&ws(t))return e.getTime()===t.getTime();const s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of s){const l=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const o=t[a];if(ws(l)&&ws(o)||Ge(l)&&Ge(o)||Array.isArray(l)&&Array.isArray(o)?!Fr(l,o,r):l!==o)return!1}}return!0}var wt=e=>Ge(e)&&!Object.keys(e).length,Cu=e=>e.type==="file",Yt=e=>typeof e=="function",Xa=e=>{if(!ku)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},P0=e=>e.type==="select-multiple",Eu=e=>e.type==="radio",gw=e=>Eu(e)||$i(e),oo=e=>Xa(e)&&e.isConnected;function xw(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=We(e)?s++:e[t[s++]];return e}function yw(e){for(const t in e)if(e.hasOwnProperty(t)&&!We(e[t]))return!1;return!0}function He(e,t){const r=Array.isArray(t)?t:El(t)?[t]:Su(t),s=r.length===1?e:xw(e,r),i=r.length-1,a=r[i];return s&&delete s[a],i!==0&&(Ge(s)&&wt(s)||Array.isArray(s)&&yw(s))&&He(e,r.slice(0,-1)),e}var T0=e=>{for(const t in e)if(Yt(e[t]))return!0;return!1};function Ya(e,t={}){const r=Array.isArray(e);if(Ge(e)||r)for(const s in e)Array.isArray(e[s])||Ge(e[s])&&!T0(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Ya(e[s],t[s])):ft(e[s])||(t[s]=!0);return t}function R0(e,t,r){const s=Array.isArray(e);if(Ge(e)||s)for(const i in e)Array.isArray(e[i])||Ge(e[i])&&!T0(e[i])?We(t)||xc(r[i])?r[i]=Array.isArray(e[i])?Ya(e[i],[]):{...Ya(e[i])}:R0(e[i],ft(t)?{}:t[i],r[i]):r[i]=!Fr(e[i],t[i]);return r}var Mn=(e,t)=>R0(e,t,Ya(t));const mh={value:!1,isValid:!1},ph={value:!0,isValid:!0};var L0=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!We(e[0].attributes.value)?We(e[0].value)||e[0].value===""?ph:{value:e[0].value,isValid:!0}:ph:mh}return mh},O0=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>We(e)?e:t?e===""?NaN:e&&+e:r&&dr(e)?new Date(e):s?s(e):e;const gh={isValid:!1,value:null};var A0=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,gh):gh;function xh(e){const t=e.ref;return Cu(t)?t.files:Eu(t)?A0(e.refs).value:P0(t)?[...t.selectedOptions].map(({value:r})=>r):$i(t)?L0(e.refs).value:O0(We(t.value)?e.ref.value:t.value,e)}var vw=(e,t,r,s)=>{const i={};for(const a of e){const l=re(t,a);l&&Oe(i,a,l._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:s}},el=e=>e instanceof RegExp,Un=e=>We(e)?e:el(e)?e.source:Ge(e)?el(e.value)?e.value.source:e.value:e,yh=e=>({isOnSubmit:!e||e===Xt.onSubmit,isOnBlur:e===Xt.onBlur,isOnChange:e===Xt.onChange,isOnAll:e===Xt.all,isOnTouch:e===Xt.onTouched});const vh="AsyncFunction";var ww=e=>!!e&&!!e.validate&&!!(Yt(e.validate)&&e.validate.constructor.name===vh||Ge(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===vh)),bw=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),wh=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ni=(e,t,r,s)=>{for(const i of r||Object.keys(e)){const a=re(e,i);if(a){const{_f:l,...o}=a;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],i)&&!s)return!0;if(l.ref&&t(l.ref,l.name)&&!s)return!0;if(ni(o,t))break}else if(Ge(o)&&ni(o,t))break}}};function bh(e,t,r){const s=re(e,r);if(s||El(r))return{error:s,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),l=re(t,a),o=re(e,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};i.pop()}return{name:r}}var jw=(e,t,r,s)=>{r(e);const{name:i,...a}=e;return wt(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(l=>t[l]===(!s||Xt.all))},Nw=(e,t,r)=>!e||!t||e===t||si(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),kw=(e,t,r,s,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?s.isOnBlur:i.isOnBlur)?!e:(r?s.isOnChange:i.isOnChange)?e:!0,_w=(e,t)=>!_u(re(e,t)).length&&He(e,t),Sw=(e,t,r)=>{const s=si(re(e,r));return Oe(s,"root",t[r]),Oe(e,r,s),e},wa=e=>dr(e);function jh(e,t,r="validate"){if(wa(e)||Array.isArray(e)&&e.every(wa)||or(e)&&!e)return{type:r,message:wa(e)?e:"",ref:t}}var Ds=e=>Ge(e)&&!el(e)?e:{value:e,message:""},Nh=async(e,t,r,s,i,a)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:v,validate:j,name:N,valueAsNumber:C,mount:g}=e._f,m=re(r,N);if(!g||t.has(N))return{};const x=o?o[0]:l,k=G=>{i&&x.reportValidity&&(x.setCustomValidity(or(G)?"":G||""),x.reportValidity())},O={},B=Eu(l),I=$i(l),A=B||I,F=(C||Cu(l))&&We(l.value)&&We(m)||Xa(l)&&l.value===""||m===""||Array.isArray(m)&&!m.length,$=pw.bind(null,N,s,O),Y=(G,Z,se,de=mr.maxLength,le=mr.minLength)=>{const pe=G?Z:se;O[N]={type:G?de:le,message:pe,ref:l,...$(G?de:le,pe)}};if(a?!Array.isArray(m)||!m.length:c&&(!A&&(F||ft(m))||or(m)&&!m||I&&!L0(o).isValid||B&&!A0(o).isValid)){const{value:G,message:Z}=wa(c)?{value:!!c,message:c}:Ds(c);if(G&&(O[N]={type:mr.required,message:Z,ref:x,...$(mr.required,Z)},!s))return k(Z),O}if(!F&&(!ft(h)||!ft(f))){let G,Z;const se=Ds(f),de=Ds(h);if(!ft(m)&&!isNaN(m)){const le=l.valueAsNumber||m&&+m;ft(se.value)||(G=le>se.value),ft(de.value)||(Z=le<de.value)}else{const le=l.valueAsDate||new Date(m),pe=X=>new Date(new Date().toDateString()+" "+X),P=l.type=="time",J=l.type=="week";dr(se.value)&&m&&(G=P?pe(m)>pe(se.value):J?m>se.value:le>new Date(se.value)),dr(de.value)&&m&&(Z=P?pe(m)<pe(de.value):J?m<de.value:le<new Date(de.value))}if((G||Z)&&(Y(!!G,se.message,de.message,mr.max,mr.min),!s))return k(O[N].message),O}if((d||u)&&!F&&(dr(m)||a&&Array.isArray(m))){const G=Ds(d),Z=Ds(u),se=!ft(G.value)&&m.length>+G.value,de=!ft(Z.value)&&m.length<+Z.value;if((se||de)&&(Y(se,G.message,Z.message),!s))return k(O[N].message),O}if(v&&!F&&dr(m)){const{value:G,message:Z}=Ds(v);if(el(G)&&!m.match(G)&&(O[N]={type:mr.pattern,message:Z,ref:l,...$(mr.pattern,Z)},!s))return k(Z),O}if(j){if(Yt(j)){const G=await j(m,r),Z=jh(G,x);if(Z&&(O[N]={...Z,...$(mr.validate,Z.message)},!s))return k(Z.message),O}else if(Ge(j)){let G={};for(const Z in j){if(!wt(G)&&!s)break;const se=jh(await j[Z](m,r),x,Z);se&&(G={...se,...$(Z,se.message)},k(se.message),s&&(O[N]=G))}if(!wt(G)&&(O[N]={ref:x,...G},!s))return O}}return k(!0),O};const Cw={mode:Xt.onSubmit,reValidateMode:Xt.onChange,shouldFocusError:!0};function Ew(e={}){let t={...Cw,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Yt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},i=Ge(t.defaultValues)||Ge(t.values)?Xe(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Xe(i),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:fh(),state:fh()},v=t.criteriaMode===Xt.all,j=y=>S=>{clearTimeout(d),d=setTimeout(y,S)},N=async y=>{if(!t.disabled&&(u.isValid||h.isValid||y)){const S=t.resolver?wt((await I()).errors):await F(s,!0);S!==r.isValid&&f.state.next({isValid:S})}},C=(y,S)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((y||Array.from(o.mount)).forEach(L=>{L&&(S?Oe(r.validatingFields,L,S):He(r.validatingFields,L))}),f.state.next({validatingFields:r.validatingFields,isValidating:!wt(r.validatingFields)}))},g=(y,S=[],L,E,U=!0,D=!0)=>{if(E&&L&&!t.disabled){if(l.action=!0,D&&Array.isArray(re(s,y))){const W=L(re(s,y),E.argA,E.argB);U&&Oe(s,y,W)}if(D&&Array.isArray(re(r.errors,y))){const W=L(re(r.errors,y),E.argA,E.argB);U&&Oe(r.errors,y,W),_w(r.errors,y)}if((u.touchedFields||h.touchedFields)&&D&&Array.isArray(re(r.touchedFields,y))){const W=L(re(r.touchedFields,y),E.argA,E.argB);U&&Oe(r.touchedFields,y,W)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Mn(i,a)),f.state.next({name:y,isDirty:Y(y,S),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Oe(a,y,S)},m=(y,S)=>{Oe(r.errors,y,S),f.state.next({errors:r.errors})},x=y=>{r.errors=y,f.state.next({errors:r.errors,isValid:!1})},k=(y,S,L,E)=>{const U=re(s,y);if(U){const D=re(a,y,We(L)?re(i,y):L);We(D)||E&&E.defaultChecked||S?Oe(a,y,S?D:xh(U._f)):se(y,D),l.mount&&N()}},O=(y,S,L,E,U)=>{let D=!1,W=!1;const he={name:y};if(!t.disabled){if(!L||E){(u.isDirty||h.isDirty)&&(W=r.isDirty,r.isDirty=he.isDirty=Y(),D=W!==he.isDirty);const ve=Fr(re(i,y),S);W=!!re(r.dirtyFields,y),ve?He(r.dirtyFields,y):Oe(r.dirtyFields,y,!0),he.dirtyFields=r.dirtyFields,D=D||(u.dirtyFields||h.dirtyFields)&&W!==!ve}if(L){const ve=re(r.touchedFields,y);ve||(Oe(r.touchedFields,y,L),he.touchedFields=r.touchedFields,D=D||(u.touchedFields||h.touchedFields)&&ve!==L)}D&&U&&f.state.next(he)}return D?he:{}},B=(y,S,L,E)=>{const U=re(r.errors,y),D=(u.isValid||h.isValid)&&or(S)&&r.isValid!==S;if(t.delayError&&L?(c=j(()=>m(y,L)),c(t.delayError)):(clearTimeout(d),c=null,L?Oe(r.errors,y,L):He(r.errors,y)),(L?!Fr(U,L):U)||!wt(E)||D){const W={...E,...D&&or(S)?{isValid:S}:{},errors:r.errors,name:y};r={...r,...W},f.state.next(W)}},I=async y=>{C(y,!0);const S=await t.resolver(a,t.context,vw(y||o.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return C(y),S},A=async y=>{const{errors:S}=await I(y);if(y)for(const L of y){const E=re(S,L);E?Oe(r.errors,L,E):He(r.errors,L)}else r.errors=S;return S},F=async(y,S,L={valid:!0})=>{for(const E in y){const U=y[E];if(U){const{_f:D,...W}=U;if(D){const he=o.array.has(D.name),ve=U._f&&ww(U._f);ve&&u.validatingFields&&C([E],!0);const Be=await Nh(U,o.disabled,a,v,t.shouldUseNativeValidation&&!S,he);if(ve&&u.validatingFields&&C([E]),Be[D.name]&&(L.valid=!1,S))break;!S&&(re(Be,D.name)?he?Sw(r.errors,Be,D.name):Oe(r.errors,D.name,Be[D.name]):He(r.errors,D.name))}!wt(W)&&await F(W,S,L)}}return L.valid},$=()=>{for(const y of o.unMount){const S=re(s,y);S&&(S._f.refs?S._f.refs.every(L=>!oo(L)):!oo(S._f.ref))&&ie(y)}o.unMount=new Set},Y=(y,S)=>!t.disabled&&(y&&S&&Oe(a,y,S),!Fr(X(),i)),G=(y,S,L)=>mw(y,o,{...l.mount?a:We(S)?i:dr(y)?{[y]:S}:S},L,S),Z=y=>_u(re(l.mount?a:i,y,t.shouldUnregister?re(i,y,[]):[])),se=(y,S,L={})=>{const E=re(s,y);let U=S;if(E){const D=E._f;D&&(!D.disabled&&Oe(a,y,O0(S,D)),U=Xa(D.ref)&&ft(S)?"":S,P0(D.ref)?[...D.ref.options].forEach(W=>W.selected=U.includes(W.value)):D.refs?$i(D.ref)?D.refs.forEach(W=>{(!W.defaultChecked||!W.disabled)&&(Array.isArray(U)?W.checked=!!U.find(he=>he===W.value):W.checked=U===W.value||!!U)}):D.refs.forEach(W=>W.checked=W.value===U):Cu(D.ref)?D.ref.value="":(D.ref.value=U,D.ref.type||f.state.next({name:y,values:Xe(a)})))}(L.shouldDirty||L.shouldTouch)&&O(y,U,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&J(y)},de=(y,S,L)=>{for(const E in S){if(!S.hasOwnProperty(E))return;const U=S[E],D=y+"."+E,W=re(s,D);(o.array.has(y)||Ge(U)||W&&!W._f)&&!ws(U)?de(D,U,L):se(D,U,L)}},le=(y,S,L={})=>{const E=re(s,y),U=o.array.has(y),D=Xe(S);Oe(a,y,D),U?(f.array.next({name:y,values:Xe(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&L.shouldDirty&&f.state.next({name:y,dirtyFields:Mn(i,a),isDirty:Y(y,D)})):E&&!E._f&&!ft(D)?de(y,D,L):se(y,D,L),wh(y,o)&&f.state.next({...r}),f.state.next({name:l.mount?y:void 0,values:Xe(a)})},pe=async y=>{l.mount=!0;const S=y.target;let L=S.name,E=!0;const U=re(s,L),D=ve=>{E=Number.isNaN(ve)||ws(ve)&&isNaN(ve.getTime())||Fr(ve,re(a,L,ve))},W=yh(t.mode),he=yh(t.reValidateMode);if(U){let ve,Be;const Ht=S.type?xh(U._f):lw(y),ut=y.type===hh.BLUR||y.type===hh.FOCUS_OUT,cs=!bw(U._f)&&!t.resolver&&!re(r.errors,L)&&!U._f.deps||kw(ut,re(r.touchedFields,L),r.isSubmitted,he,W),zt=wh(L,o,ut);Oe(a,L,Ht),ut?(U._f.onBlur&&U._f.onBlur(y),c&&c(0)):U._f.onChange&&U._f.onChange(y);const Mt=O(L,Ht,ut),w=!wt(Mt)||zt;if(!ut&&f.state.next({name:L,type:y.type,values:Xe(a)}),cs)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?ut&&N():ut||N()),w&&f.state.next({name:L,...zt?{}:Mt});if(!ut&&zt&&f.state.next({...r}),t.resolver){const{errors:M}=await I([L]);if(D(Ht),E){const ne=bh(r.errors,s,L),we=bh(M,s,ne.name||L);ve=we.error,L=we.name,Be=wt(M)}}else C([L],!0),ve=(await Nh(U,o.disabled,a,v,t.shouldUseNativeValidation))[L],C([L]),D(Ht),E&&(ve?Be=!1:(u.isValid||h.isValid)&&(Be=await F(s,!0)));E&&(U._f.deps&&J(U._f.deps),B(L,Be,ve,Mt))}},P=(y,S)=>{if(re(r.errors,S)&&y.focus)return y.focus(),1},J=async(y,S={})=>{let L,E;const U=si(y);if(t.resolver){const D=await A(We(y)?y:U);L=wt(D),E=y?!U.some(W=>re(D,W)):L}else y?(E=(await Promise.all(U.map(async D=>{const W=re(s,D);return await F(W&&W._f?{[D]:W}:W)}))).every(Boolean),!(!E&&!r.isValid)&&N()):E=L=await F(s);return f.state.next({...!dr(y)||(u.isValid||h.isValid)&&L!==r.isValid?{}:{name:y},...t.resolver||!y?{isValid:L}:{},errors:r.errors}),S.shouldFocus&&!E&&ni(s,P,y?U:o.mount),E},X=y=>{const S={...l.mount?a:i};return We(y)?S:dr(y)?re(S,y):y.map(L=>re(S,L))},ce=(y,S)=>({invalid:!!re((S||r).errors,y),isDirty:!!re((S||r).dirtyFields,y),error:re((S||r).errors,y),isValidating:!!re(r.validatingFields,y),isTouched:!!re((S||r).touchedFields,y)}),ae=y=>{y&&si(y).forEach(S=>He(r.errors,S)),f.state.next({errors:y?r.errors:{}})},Ee=(y,S,L)=>{const E=(re(s,y,{_f:{}})._f||{}).ref,U=re(r.errors,y)||{},{ref:D,message:W,type:he,...ve}=U;Oe(r.errors,y,{...ve,...S,ref:E}),f.state.next({name:y,errors:r.errors,isValid:!1}),L&&L.shouldFocus&&E&&E.focus&&E.focus()},_=(y,S)=>Yt(y)?f.state.subscribe({next:L=>y(G(void 0,S),L)}):G(y,S,!0),z=y=>f.state.subscribe({next:S=>{Nw(y.name,S.name,y.exact)&&jw(S,y.formState||u,Ve,y.reRenderRoot)&&y.callback({values:{...a},...r,...S})}}).unsubscribe,H=y=>(l.mount=!0,h={...h,...y.formState},z({...y,formState:h})),ie=(y,S={})=>{for(const L of y?si(y):o.mount)o.mount.delete(L),o.array.delete(L),S.keepValue||(He(s,L),He(a,L)),!S.keepError&&He(r.errors,L),!S.keepDirty&&He(r.dirtyFields,L),!S.keepTouched&&He(r.touchedFields,L),!S.keepIsValidating&&He(r.validatingFields,L),!t.shouldUnregister&&!S.keepDefaultValue&&He(i,L);f.state.next({values:Xe(a)}),f.state.next({...r,...S.keepDirty?{isDirty:Y()}:{}}),!S.keepIsValid&&N()},je=({disabled:y,name:S})=>{(or(y)&&l.mount||y||o.disabled.has(S))&&(y?o.disabled.add(S):o.disabled.delete(S))},$e=(y,S={})=>{let L=re(s,y);const E=or(S.disabled)||or(t.disabled);return Oe(s,y,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:y}},name:y,mount:!0,...S}}),o.mount.add(y),L?je({disabled:or(S.disabled)?S.disabled:t.disabled,name:y}):k(y,!0,S.value),{...E?{disabled:S.disabled||t.disabled}:{},...t.progressive?{required:!!S.required,min:Un(S.min),max:Un(S.max),minLength:Un(S.minLength),maxLength:Un(S.maxLength),pattern:Un(S.pattern)}:{},name:y,onChange:pe,onBlur:pe,ref:U=>{if(U){$e(y,S),L=re(s,y);const D=We(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,W=gw(D),he=L._f.refs||[];if(W?he.find(ve=>ve===D):D===L._f.ref)return;Oe(s,y,{_f:{...L._f,...W?{refs:[...he.filter(oo),D,...Array.isArray(re(i,y))?[{}]:[]],ref:{type:D.type,name:y}}:{ref:D}}}),k(y,!1,void 0,D)}else L=re(s,y,{}),L._f&&(L._f.mount=!1),(t.shouldUnregister||S.shouldUnregister)&&!(cw(o.array,y)&&l.action)&&o.unMount.add(y)}}},ke=()=>t.shouldFocusError&&ni(s,P,o.mount),Le=y=>{or(y)&&(f.state.next({disabled:y}),ni(s,(S,L)=>{const E=re(s,L);E&&(S.disabled=E._f.disabled||y,Array.isArray(E._f.refs)&&E._f.refs.forEach(U=>{U.disabled=E._f.disabled||y}))},0,!1))},V=(y,S)=>async L=>{let E;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let U=Xe(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:D,values:W}=await I();r.errors=D,U=Xe(W)}else await F(s);if(o.disabled.size)for(const D of o.disabled)He(U,D);if(He(r.errors,"root"),wt(r.errors)){f.state.next({errors:{}});try{await y(U,L)}catch(D){E=D}}else S&&await S({...r.errors},L),ke(),setTimeout(ke);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wt(r.errors)&&!E,submitCount:r.submitCount+1,errors:r.errors}),E)throw E},ee=(y,S={})=>{re(s,y)&&(We(S.defaultValue)?le(y,Xe(re(i,y))):(le(y,S.defaultValue),Oe(i,y,Xe(S.defaultValue))),S.keepTouched||He(r.touchedFields,y),S.keepDirty||(He(r.dirtyFields,y),r.isDirty=S.defaultValue?Y(y,Xe(re(i,y))):Y()),S.keepError||(He(r.errors,y),u.isValid&&N()),f.state.next({...r}))},Ne=(y,S={})=>{const L=y?Xe(y):i,E=Xe(L),U=wt(y),D=U?i:E;if(S.keepDefaultValues||(i=L),!S.keepValues){if(S.keepDirtyValues){const W=new Set([...o.mount,...Object.keys(Mn(i,a))]);for(const he of Array.from(W))re(r.dirtyFields,he)?Oe(D,he,re(a,he)):le(he,re(D,he))}else{if(ku&&We(y))for(const W of o.mount){const he=re(s,W);if(he&&he._f){const ve=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(Xa(ve)){const Be=ve.closest("form");if(Be){Be.reset();break}}}}if(S.keepFieldsRef)for(const W of o.mount)le(W,re(D,W));else s={}}a=t.shouldUnregister?S.keepDefaultValues?Xe(i):{}:Xe(D),f.array.next({values:{...D}}),f.state.next({values:{...D}})}o={mount:S.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!S.keepIsValid||!!S.keepDirtyValues,l.watch=!!t.shouldUnregister,f.state.next({submitCount:S.keepSubmitCount?r.submitCount:0,isDirty:U?!1:S.keepDirty?r.isDirty:!!(S.keepDefaultValues&&!Fr(y,i)),isSubmitted:S.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:U?{}:S.keepDirtyValues?S.keepDefaultValues&&a?Mn(i,a):r.dirtyFields:S.keepDefaultValues&&y?Mn(i,y):S.keepDirty?r.dirtyFields:{},touchedFields:S.keepTouched?r.touchedFields:{},errors:S.keepErrors?r.errors:{},isSubmitSuccessful:S.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xe=(y,S)=>Ne(Yt(y)?y(a):y,S),Pe=(y,S={})=>{const L=re(s,y),E=L&&L._f;if(E){const U=E.refs?E.refs[0]:E.ref;U.focus&&(U.focus(),S.shouldSelect&&Yt(U.select)&&U.select())}},Ve=y=>{r={...r,...y}},ze={control:{register:$e,unregister:ie,getFieldState:ce,handleSubmit:V,setError:Ee,_subscribe:z,_runSchema:I,_focusError:ke,_getWatch:G,_getDirty:Y,_setValid:N,_setFieldArray:g,_setDisabledField:je,_setErrors:x,_getFieldArray:Z,_reset:Ne,_resetDefaultValues:()=>Yt(t.defaultValues)&&t.defaultValues().then(y=>{xe(y,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:Le,_subjects:f,_proxyFormState:u,get _fields(){return s},get _formValues(){return a},get _state(){return l},set _state(y){l=y},get _defaultValues(){return i},get _names(){return o},set _names(y){o=y},get _formState(){return r},get _options(){return t},set _options(y){t={...t,...y}}},subscribe:H,trigger:J,register:$e,handleSubmit:V,watch:_,setValue:le,getValues:X,reset:xe,resetField:ee,clearErrors:ae,unregister:ie,setError:Ee,setFocus:Pe,getFieldState:ce};return{...ze,formControl:ze}}function Pw(e={}){const t=Ut.useRef(void 0),r=Ut.useRef(void 0),[s,i]=Ut.useState({isDirty:!1,isValidating:!1,isLoading:Yt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Yt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Yt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...o}=Ew(e);t.current={...o,formState:s}}const a=t.current.control;return a._options=e,fw(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a._formState.isReady=!0,l},[a]),Ut.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Ut.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),Ut.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),Ut.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Ut.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==s.isDirty&&a._subjects.state.next({isDirty:l})}},[a,s.isDirty]),Ut.useEffect(()=>{e.values&&!Fr(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,i(l=>({...l}))):a._resetDefaultValues()},[a,e.values]),Ut.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=hw(s,a),t.current}function Tw(){var we,dt,xt,Tr,Ct,zi,As,me,Sn,R;const[e,t]=p.useState(null),[r,s]=p.useState(!0),[i,a]=p.useState([]),[l,o]=p.useState([]),[c,d]=p.useState([]),[u,h]=p.useState(""),[f,v]=p.useState(!1),[j,N]=p.useState(!1),[C,g]=p.useState(!1),[m,x]=p.useState(!1),[k,O]=p.useState(!1);p.useState(!1);const[B,I]=p.useState(!1);p.useState(!1),p.useState(!1);const[A,F]=p.useState(!1);p.useState([]),p.useState([]);const[$,Y]=p.useState(null),[G,Z]=p.useState(""),[se,de]=p.useState(null),[le,pe]=p.useState("");p.useState(0),p.useState(""),p.useState(-1),p.useState("");const[P,J]=p.useState("posts"),[X,ce]=p.useState("grid"),[ae,Ee]=p.useState(""),[_,z]=p.useState(new Set),[H,ie]=p.useState(!1);p.useRef(null);const je=p.useRef(null),$e=p.useRef(null);p.useRef(null);const ke=nr(),{register:Le,handleSubmit:V,setValue:ee,watch:Ne,formState:{errors:xe}}=Pw({defaultValues:{name:"",lastName:"",bio:"",location:"",website:"",phone:"",birthday:"",work:"",education:"",relationshipStatus:"",hobbies:[],languages:[]}});p.useEffect(()=>{Pe()},[]),p.useEffect(()=>{e&&(ee("name",e.name||""),ee("lastName",e.lastName||""),ee("bio",e.bio||""),ee("location",e.location||""),ee("website",e.website||""),ee("phone",e.phone||""),ee("birthday",e.birthday||""),ee("work",e.work||""),ee("education",e.education||""),ee("relationshipStatus",e.relationshipStatus||""),ee("hobbies",e.hobbies||[]),ee("languages",e.languages||[]))},[e,ee]);const Pe=async()=>{try{s(!0),h("");const b=await gs.getCurrentUserProfile();if(!b){ke("/login");return}const T={...b,bio:" ,    .     ! ",location:", ",website:"https://example.com",phone:"+380501234567",birthday:"1995-05-15",work:"Senior Frontend Developer",education:" .  ",hobbies:["","","",""],languages:["","English",""],relationshipStatus:"Single",isVerified:Math.random()>.5,isOnline:!0,lastSeen:new Date().toISOString(),friendsCount:Math.floor(Math.random()*500)+50,followersCount:Math.floor(Math.random()*1e3)+100,followingCount:Math.floor(Math.random()*300)+50,postsCount:Math.floor(Math.random()*100)+10,photosCount:Math.floor(Math.random()*200)+20,videosCount:Math.floor(Math.random()*50)+5,achievements:y(),privacy:{showEmail:!0,showPhone:!1,showBirthday:!0,showLocation:!0,allowMessages:!0,allowFriendRequests:!0,profileVisibility:"public"}};t(T),await Promise.all([Ve(),fe(),ze()])}catch(b){console.error("Error loading profile:",b),h("   ")}finally{s(!1)}},Ve=async()=>{const b=[{id:"1",type:"photo",url:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80",created_at:"2024-01-15T10:00:00Z",description:"   ",tags:["","",""],likes:24,comments:5},{id:"2",type:"photo",url:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=800&q=80",created_at:"2024-01-14T15:30:00Z",description:"  ",tags:["",""],likes:18,comments:3},{id:"3",type:"video",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",created_at:"2024-01-13T20:00:00Z",description:"  ",tags:["",""],likes:42,comments:8}];for(let T=4;T<=20;T++)b.push({id:T.toString(),type:Math.random()>.8?"video":"photo",url:`https://images.unsplash.com/photo-${15e11+T*1e5}?auto=format&fit=crop&w=800&q=80`,created_at:new Date(Date.now()-T*24*60*60*1e3).toISOString(),description:` ${T}`,tags:["1","2"],likes:Math.floor(Math.random()*50),comments:Math.floor(Math.random()*10)});a(b)},fe=async()=>{o([{id:"1",author:e||{id:"",name:"User",lastName:"",avatar:""},content:"    !       .          !",images:["https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=800&q=80"],created_at:"2024-01-20T10:00:00Z",likes:45,comments:12,isLiked:!1},{id:"2",author:e||{id:"",name:"User",lastName:"",avatar:""},content:"    React 18! Concurrent Features    ",images:[],created_at:"2024-01-18T15:30:00Z",likes:28,comments:8,isLiked:!0},{id:"3",author:e||{id:"",name:"User",lastName:"",avatar:""},content:"   !      ? ",images:["https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?auto=format&fit=crop&w=800&q=80"],created_at:"2024-01-16T07:00:00Z",likes:33,comments:6,isLiked:!1}])},ze=async()=>{const b=[{id:"1",name:"",lastName:"",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=200&q=80",status:"online",mutualFriends:15},{id:"2",name:"",lastName:"",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b31c?auto=format&fit=crop&w=200&q=80",status:"away",mutualFriends:8},{id:"3",name:"",lastName:"",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&w=200&q=80",status:"offline",mutualFriends:22}];for(let T=4;T<=20;T++)b.push({id:T.toString(),name:`${T}`,lastName:"",avatar:`https://images.unsplash.com/photo-${15e11+T*1e5}?auto=format&fit=crop&w=200&q=80`,status:["online","offline","away"][Math.floor(Math.random()*3)],mutualFriends:Math.floor(Math.random()*30)});d(b)},y=()=>[{id:"1",title:" ",description:"   ",icon:"",earned_at:"2024-01-01T10:00:00Z",rarity:"common"},{id:"2",title:" ",description:"100+   ",icon:"",earned_at:"2024-01-10T10:00:00Z",rarity:"rare"},{id:"3",title:" ",description:"50+ ",icon:"",earned_at:"2024-01-15T10:00:00Z",rarity:"epic"},{id:"4",title:"",description:" 100+ ",icon:"",earned_at:"2024-01-20T10:00:00Z",rarity:"legendary"}],S=()=>{N(!0)},L=()=>{var b;(b=je.current)==null||b.click()},E=b=>{var oe;const T=(oe=b.target.files)==null?void 0:oe[0];if(T){Y(T);const yt=new FileReader;yt.onload=Rr=>{var Cn;Z((Cn=Rr.target)==null?void 0:Cn.result)},yt.readAsDataURL(T)}},U=async()=>{if(!(!$||!e)){F(!0);try{const b=URL.createObjectURL($);t(T=>T?{...T,avatar:b}:null),N(!1),Y(null),Z(""),alert("  !")}catch(b){console.error("Error uploading avatar:",b),alert("   ")}finally{F(!1)}}},D=()=>{var b;(b=$e.current)==null||b.click()},W=b=>{var oe;const T=(oe=b.target.files)==null?void 0:oe[0];if(T){de(T);const yt=new FileReader;yt.onload=Rr=>{var Cn;pe((Cn=Rr.target)==null?void 0:Cn.result),g(!0)},yt.readAsDataURL(T)}},he=async()=>{if(!(!se||!e)){F(!0);try{const b=URL.createObjectURL(se);t(T=>T?{...T,coverImage:b}:null),g(!1),de(null),pe(""),alert("  !")}catch(b){console.error("Error uploading cover:",b),alert("   ")}finally{F(!1)}}},ve=async b=>{if(e){F(!0);try{const T={...e,...b};t(T),x(!1),alert("  !")}catch(T){console.error("Error updating profile:",T),alert("   ")}finally{F(!1)}}},Be=b=>{o(T=>T.map(oe=>oe.id===b?{...oe,isLiked:!oe.isLiked,likes:oe.isLiked?oe.likes-1:oe.likes+1}:oe))},Ht=b=>{const T=new Set(_);T.has(b)?T.delete(b):T.add(b),z(T),ie(T.size>0)},ut=()=>{z(new Set),ie(!1)},cs=async()=>{_.size!==0&&confirm(` ${_.size}  ?`)&&(a(b=>b.filter(T=>!_.has(T.id))),ut(),alert("  !"))},zt=()=>{let b=i;return P==="photos"?b=b.filter(T=>T.type==="photo"):P==="videos"&&(b=b.filter(T=>T.type==="video")),ae&&(b=b.filter(T=>{var oe,yt;return((oe=T.description)==null?void 0:oe.toLowerCase().includes(ae.toLowerCase()))||((yt=T.tags)==null?void 0:yt.some(Rr=>Rr.toLowerCase().includes(ae.toLowerCase())))})),b},Mt=b=>new Date(b).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric"}),w=b=>{const T=Date.now()-new Date(b).getTime(),oe=Math.floor(T/(1e3*60*60)),yt=Math.floor(T/(1e3*60*60*24));return oe<24?`${oe}  `:`${yt}  `},M=b=>{switch(b){case"online":return"bg-green-500";case"away":return"bg-yellow-500";case"offline":return"bg-gray-400";default:return"bg-gray-400"}},ne=b=>{switch(b){case"common":return"bg-gray-100 text-gray-700";case"rare":return"bg-blue-100 text-blue-700";case"epic":return"bg-purple-100 text-purple-700";case"legendary":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}};return r?n.jsxs("div",{className:"flex min-h-screen",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 p-8",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:" ..."})]})})]}):u?n.jsxs("div",{className:"flex min-h-screen",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 p-8",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(O1,{size:48,className:"text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:" "}),n.jsx("p",{className:"text-gray-600 mb-4",children:u}),n.jsx("button",{onClick:Pe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:" "})]})})]}):e?n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(nt,{}),n.jsxs("div",{className:"flex-1 ml-64",children:[n.jsxs("div",{className:"relative h-80 bg-gradient-to-r from-purple-500 to-blue-600 overflow-hidden",children:[e.coverImage&&n.jsx("img",{src:e.coverImage,alt:"Cover",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),n.jsxs("button",{onClick:D,className:"absolute bottom-4 right-4 flex items-center px-3 py-2 bg-black bg-opacity-50 text-white rounded-lg hover:bg-opacity-70 transition-all",children:[n.jsx(fc,{size:16,className:"mr-2"})," "]}),n.jsx("input",{ref:$e,type:"file",accept:"image/*",onChange:W,className:"hidden"})]}),n.jsx("div",{className:"relative bg-white border-b border-gray-200",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-6",children:[n.jsxs("div",{className:"flex items-end space-x-6 -mt-20",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"w-32 h-32 bg-white rounded-full border-4 border-white shadow-lg overflow-hidden cursor-pointer group",onClick:S,children:[e.avatar?n.jsx("img",{src:e.avatar,alt:`${e.name} ${e.lastName}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):n.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-white text-4xl font-bold",children:[(we=e.name[0])==null?void 0:we.toUpperCase(),(dt=e.lastName[0])==null?void 0:dt.toUpperCase()]}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 rounded-full",children:n.jsx(fc,{size:24,className:"text-white"})})]}),e.isOnline&&n.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-green-500 border-4 border-white rounded-full"})]}),n.jsxs("div",{className:"flex-1 pb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[e.name," ",e.lastName]}),e.isVerified&&n.jsx(mc,{size:24,className:"text-blue-500"}),e.isOnline?n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:""}):n.jsxs("span",{className:"text-sm text-gray-500",children:[": ",w(e.lastSeen||"")]})]}),e.bio&&n.jsx("p",{className:"text-gray-600 mb-3 max-w-2xl",children:e.bio}),n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[e.location&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ns,{size:16,className:"mr-1"}),e.location]}),e.work&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(ih,{size:16,className:"mr-1"}),e.work]}),e.website&&n.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:text-blue-800",children:[n.jsx(Ps,{size:16,className:"mr-1"}),"-"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ja,{size:16,className:"mr-1"})," ",Mt(e.createdAt||"")]})]})]}),n.jsxs("div",{className:"flex space-x-3 pb-4",children:[n.jsxs("button",{onClick:()=>x(!0),className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(X1,{size:16,className:"mr-2"})," "]}),n.jsxs("button",{onClick:()=>I(!0),className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(Cl,{size:16,className:"mr-2"}),""]}),n.jsx("button",{className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:n.jsx(yr,{size:16})})]})]}),n.jsxs("div",{className:"flex items-center space-x-8 mt-6 pt-6 border-t border-gray-200",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.postsCount}),n.jsx("div",{className:"text-sm text-gray-500",children:""})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.friendsCount}),n.jsx("div",{className:"text-sm text-gray-500",children:""})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.followersCount}),n.jsx("div",{className:"text-sm text-gray-500",children:""})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.photosCount}),n.jsx("div",{className:"text-sm text-gray-500",children:""})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.videosCount}),n.jsx("div",{className:"text-sm text-gray-500",children:""})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:((xt=e.achievements)==null?void 0:xt.length)||0}),n.jsx("div",{className:"text-sm text-gray-500",children:""})]})]})]})}),n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8",children:n.jsx("div",{className:"flex space-x-8",children:[{id:"posts",label:"",icon:qn,count:e.postsCount},{id:"photos",label:"",icon:ya,count:e.photosCount},{id:"videos",label:"",icon:ur,count:e.videosCount},{id:"friends",label:"",icon:rr,count:e.friendsCount},{id:"about",label:" ",icon:G1},{id:"achievements",label:"",icon:w0,count:(Tr=e.achievements)==null?void 0:Tr.length}].map(b=>n.jsxs("button",{onClick:()=>J(b.id),className:`flex items-center space-x-2 py-4 px-2 border-b-2 transition-colors ${P===b.id?"border-blue-600 text-blue-600":"border-transparent text-gray-700 hover:text-gray-900 hover:border-gray-300"}`,children:[n.jsx(b.icon,{size:20}),n.jsx("span",{className:"font-medium",children:b.label}),b.count!==void 0&&n.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:b.count})]},b.id))})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-8",children:[H&&(P==="photos"||P==="videos")&&n.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-blue-800",children:[" ",_.size," "]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:cs,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:""}),n.jsx("button",{onClick:ut,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:""})]})]})}),(P==="photos"||P==="videos"||P==="friends")&&n.jsxs("div",{className:"mb-6 flex items-center space-x-4",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(_n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:` ${P==="friends"?"":""}...`,value:ae,onChange:b=>Ee(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),ae&&n.jsx("button",{onClick:()=>Ee(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(Ze,{size:16})})]}),(P==="photos"||P==="videos")&&n.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[n.jsx("button",{onClick:()=>ce("grid"),className:`p-2 ${X==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:n.jsx(yu,{size:18})}),n.jsx("button",{onClick:()=>ce("list"),className:`p-2 ${X==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:n.jsx(vu,{size:18})})]})]}),P==="posts"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:[(Ct=e.name[0])==null?void 0:Ct.toUpperCase(),(zi=e.lastName[0])==null?void 0:zi.toUpperCase()]}),n.jsxs("button",{onClick:()=>O(!0),className:"flex-1 text-left px-4 py-3 bg-gray-50 rounded-full text-gray-500 hover:bg-gray-100 transition-colors",children:["   , ",e.name,"?"]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{className:"flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors",children:[n.jsx(ya,{size:20}),n.jsx("span",{children:"/"})]}),n.jsxs("button",{className:"flex items-center space-x-2 text-gray-600 hover:text-green-600 transition-colors",children:[n.jsx(Ns,{size:20}),n.jsx("span",{children:""})]}),n.jsxs("button",{className:"flex items-center space-x-2 text-gray-600 hover:text-yellow-600 transition-colors",children:[n.jsx(rr,{size:20}),n.jsx("span",{children:""})]})]})]}),l.map(b=>{var T,oe;return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[n.jsxs("div",{className:"p-6 pb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:[(T=e.name[0])==null?void 0:T.toUpperCase(),(oe=e.lastName[0])==null?void 0:oe.toUpperCase()]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:"font-semibold text-gray-900",children:[e.name," ",e.lastName]}),n.jsx("p",{className:"text-sm text-gray-500",children:w(b.created_at)})]}),n.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:n.jsx(yr,{size:20})})]}),n.jsx("p",{className:"mt-4 text-gray-800",children:b.content})]}),b.images.length>0&&n.jsx("div",{className:`grid gap-1 ${b.images.length===1?"grid-cols-1":"grid-cols-2"}`,children:b.images.map((yt,Rr)=>n.jsx("img",{src:yt,alt:`Post image ${Rr+1}`,className:"w-full h-80 object-cover hover:opacity-95 transition-opacity cursor-pointer"},Rr))}),n.jsxs("div",{className:"p-6 pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[n.jsxs("span",{children:[b.likes," "]}),n.jsxs("span",{children:[b.comments," "]})]}),n.jsxs("div",{className:"flex items-center space-x-1 pt-4 border-t border-gray-200",children:[n.jsxs("button",{onClick:()=>Be(b.id),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-3 rounded-lg transition-colors ${b.isLiked?"text-red-600 bg-red-50 hover:bg-red-100":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(Gr,{size:20,className:b.isLiked?"fill-current":""}),n.jsx("span",{children:""})]}),n.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 py-2 px-3 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors",children:[n.jsx(qn,{size:20}),n.jsx("span",{children:""})]}),n.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 py-2 px-3 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors",children:[n.jsx(bu,{size:20}),n.jsx("span",{children:""})]})]})]})]},b.id)})]}),(P==="photos"||P==="videos")&&n.jsxs("div",{children:[n.jsx("div",{className:"mb-6",children:n.jsxs("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Ts,{size:20,className:"mr-2"})," ",P==="photos"?"":""]})}),X==="grid"?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:zt().map(b=>n.jsxs("div",{className:"relative group bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200",children:[n.jsx("input",{type:"checkbox",checked:_.has(b.id),onChange:()=>Ht(b.id),className:"absolute top-3 left-3 w-4 h-4 rounded border-gray-300 text-blue-600 z-10"}),n.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[b.type==="video"?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:b.url,alt:b.description,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-12 h-12 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:n.jsx(ur,{size:20,className:"text-white ml-1"})})})]}):n.jsx("img",{src:b.url,alt:b.description,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),n.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx("button",{className:"p-2 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70",children:n.jsx(yr,{size:16})})})]}),n.jsxs("div",{className:"p-3",children:[n.jsx("p",{className:"text-sm text-gray-800 mb-2 line-clamp-2",children:b.description}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[n.jsx("span",{children:w(b.created_at)}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Gr,{size:12,className:"mr-1"}),b.likes]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(qn,{size:12,className:"mr-1"}),b.comments]})]})]})]})]},b.id))}):n.jsx("div",{className:"space-y-4",children:zt().map(b=>n.jsxs("div",{className:"flex items-center space-x-4 bg-white p-4 rounded-lg border border-gray-200 hover:shadow-md transition-all duration-200",children:[n.jsx("input",{type:"checkbox",checked:_.has(b.id),onChange:()=>Ht(b.id),className:"w-4 h-4 rounded border-gray-300 text-blue-600"}),n.jsxs("div",{className:"w-20 h-20 relative overflow-hidden rounded-lg",children:[n.jsx("img",{src:b.url,alt:b.description,className:"w-full h-full object-cover"}),b.type==="video"&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(ur,{size:16,className:"text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:b.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsx("span",{children:w(b.created_at)}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Gr,{size:14,className:"mr-1"}),b.likes," "]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(qn,{size:14,className:"mr-1"}),b.comments," "]})]}),b.tags&&n.jsx("div",{className:"flex space-x-1 mt-2",children:b.tags.map(T=>n.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["#",T]},T))})]}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:n.jsx(yr,{size:20})})]},b.id))})]}),P==="friends"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.filter(b=>ae===""||`${b.name} ${b.lastName}`.toLowerCase().includes(ae.toLowerCase())).map(b=>{var T,oe;return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:b.avatar?n.jsx("img",{src:b.avatar,alt:`${b.name} ${b.lastName}`,className:"w-full h-full object-cover"}):n.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-white text-lg font-bold",children:[(T=b.name[0])==null?void 0:T.toUpperCase(),(oe=b.lastName[0])==null?void 0:oe.toUpperCase()]})}),n.jsx("div",{className:`absolute bottom-0 right-0 w-4 h-4 rounded-full border-2 border-white ${M(b.status||"offline")}`})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:"font-semibold text-gray-900",children:[b.name," ",b.lastName]}),n.jsxs("p",{className:"text-sm text-gray-500",children:[b.mutualFriends,"  "]})]}),n.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:n.jsx(yr,{size:20})})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:""}),n.jsx("button",{className:"flex-1 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:""})]})]},b.id)})}),P==="about"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),n.jsxs("div",{className:"space-y-4",children:[e.location&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ns,{size:20,className:"text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:" "}),n.jsx("p",{className:"text-gray-600",children:e.location})]})]}),e.work&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ih,{size:20,className:"text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:""}),n.jsx("p",{className:"text-gray-600",children:e.work})]})]}),e.education&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(q1,{size:20,className:"text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:""}),n.jsx("p",{className:"text-gray-600",children:e.education})]})]}),e.relationshipStatus&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Gr,{size:20,className:"text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:""}),n.jsx("p",{className:"text-gray-600",children:e.relationshipStatus})]})]}),e.birthday&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ja,{size:20,className:"text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:" "}),n.jsx("p",{className:"text-gray-600",children:Mt(e.birthday)})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(wu,{size:20,className:"text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Email"}),n.jsx("p",{className:"text-gray-600",children:e.email})]})]}),e.phone&&((As=e.privacy)==null?void 0:As.showPhone)&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Y1,{size:20,className:"text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:""}),n.jsx("p",{className:"text-gray-600",children:e.phone})]})]}),e.website&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ps,{size:20,className:"text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"-"}),n.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:e.website})]})]})]})]}),e.hobbies&&e.hobbies.length>0&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"  "}),n.jsx("div",{className:"flex flex-wrap gap-2",children:e.hobbies.map((b,T)=>n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:b},T))})]}),e.languages&&e.languages.length>0&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),n.jsx("div",{className:"flex flex-wrap gap-2",children:e.languages.map((b,T)=>n.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:b},T))})]})]}),P==="achievements"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(me=e.achievements)==null?void 0:me.map(b=>n.jsxs("div",{className:`rounded-lg border-2 p-6 text-center ${ne(b.rarity)}`,children:[n.jsx("div",{className:"text-4xl mb-3",children:b.icon}),n.jsx("h4",{className:"font-semibold text-lg mb-2",children:b.title}),n.jsx("p",{className:"text-sm mb-3",children:b.description}),n.jsxs("p",{className:"text-xs opacity-75",children:[" ",Mt(b.earned_at)]}),n.jsx("div",{className:"mt-3",children:n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${b.rarity==="legendary"?"bg-yellow-200 text-yellow-800":b.rarity==="epic"?"bg-purple-200 text-purple-800":b.rarity==="rare"?"bg-blue-200 text-blue-800":"bg-gray-200 text-gray-800"}`,children:b.rarity==="legendary"?"":b.rarity==="epic"?"":b.rarity==="rare"?"":""})})]},b.id))}),(P==="photos"&&zt().filter(b=>b.type==="photo").length===0||P==="videos"&&zt().filter(b=>b.type==="video").length===0||P==="friends"&&c.length===0)&&n.jsxs("div",{className:"text-center py-12",children:[n.jsxs("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:[P==="photos"&&n.jsx(ya,{size:32,className:"text-gray-400"}),P==="videos"&&n.jsx(ur,{size:32,className:"text-gray-400"}),P==="friends"&&n.jsx(rr,{size:32,className:"text-gray-400"})]}),n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:[P==="photos"&&" ",P==="videos"&&" ",P==="friends"&&" "]}),n.jsx("p",{className:"text-gray-600 mb-4",children:ae?"   ":"   "}),!ae&&n.jsxs("button",{onClick:()=>{(P==="photos"||P==="videos")&&v(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Ts,{size:20,className:"mr-2"}),P==="photos"&&" ",P==="videos"&&" ",P==="friends"&&" "]})]})]})]}),j&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:" "}),n.jsx("button",{onClick:()=>{N(!1),Y(null),Z("")},className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ze,{size:24})})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-48 h-48 mx-auto mb-6 rounded-full overflow-hidden border-4 border-gray-200",children:G?n.jsx("img",{src:G,alt:"Preview",className:"w-full h-full object-cover"}):e.avatar?n.jsx("img",{src:e.avatar,alt:"Current avatar",className:"w-full h-full object-cover"}):n.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-white text-6xl font-bold",children:[(Sn=e.name[0])==null?void 0:Sn.toUpperCase(),(R=e.lastName[0])==null?void 0:R.toUpperCase()]})}),n.jsx("input",{ref:je,type:"file",accept:"image/*",onChange:E,className:"hidden"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:L,className:"flex-1 flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(xn,{size:20,className:"mr-2"})," "]}),$&&n.jsx("button",{onClick:U,disabled:A,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:A?"...":""})]})]})]})}),C&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:" "}),n.jsx("button",{onClick:()=>{g(!1),de(null),pe("")},className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ze,{size:24})})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-full h-48 mx-auto mb-6 rounded-lg overflow-hidden border border-gray-200",children:le?n.jsx("img",{src:le,alt:"Preview",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gradient-to-r from-purple-500 to-blue-600"})}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>{g(!1),de(null),pe("")},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:""}),n.jsx("button",{onClick:he,disabled:A,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:A?"...":""})]})]})]})}),m&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:V(ve),className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),n.jsx("button",{type:"button",onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ze,{size:24})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"'"}),n.jsx("input",{...Le("name",{required:"' '"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),xe.name&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:xe.name.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsx("input",{...Le("lastName",{required:" '"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),xe.lastName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:xe.lastName.message})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n.jsx("textarea",{...Le("bio"),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"  ..."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsx("input",{...Le("location"),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:", "})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"-"}),n.jsx("input",{...Le("website"),type:"url",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsx("input",{...Le("phone"),type:"tel",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"+380501234567"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n.jsx("input",{...Le("birthday"),type:"date",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsx("input",{...Le("work"),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:", "})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsx("input",{...Le("education"),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:" "})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n.jsxs("select",{...Le("relationshipStatus"),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:" "}),n.jsx("option",{value:"Single",children:"/"}),n.jsx("option",{value:"In a relationship",children:" "}),n.jsx("option",{value:"Engaged",children:"/"}),n.jsx("option",{value:"Married",children:"/"}),n.jsx("option",{value:"Complicated",children:" "})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:""}),n.jsx("button",{type:"submit",disabled:A,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:A?"...":" "})]})]})})})]}):null}function Rw(){var Sn;const[e,t]=p.useState([]),[r,s]=p.useState(0),[i,a]=p.useState(!0),[l,o]=p.useState(null),[c,d]=p.useState(!0),[u,h]=p.useState(!1),[f,v]=p.useState(!1),[j,N]=p.useState(!1),[C,g]=p.useState([]),[m,x]=p.useState(""),[k,O]=p.useState("all"),[B,I]=p.useState(""),[A,F]=p.useState(!1),[$,Y]=p.useState(!1),[G,Z]=p.useState("select"),[se,de]=p.useState(null),[le,pe]=p.useState(""),[P,J]=p.useState(""),[X,ce]=p.useState(""),[ae,Ee]=p.useState([]),[_,z]=p.useState(""),[H,ie]=p.useState("other"),[je,$e]=p.useState(0),[ke,Le]=p.useState(),[V,ee]=p.useState(0),[Ne,xe]=p.useState(0),[Pe,Ve]=p.useState(0),[fe,ze]=p.useState(0),[y,S]=p.useState({brightness:100,contrast:100,saturation:100,blur:0,sepia:0,grayscale:0}),L=p.useRef([]),E=p.useRef(null),U=p.useRef(null),D=p.useRef(null),W=nr();p.useEffect(()=>{he()},[]),p.useEffect(()=>{l&&ve()},[l,k]),p.useEffect(()=>{if(e.length>0&&L.current[r]){const R=L.current[r];R&&(c?R.play().catch(console.error):R.pause(),R.muted=u)}},[r,c,u,e]),p.useEffect(()=>{L.current.forEach((R,b)=>{R&&b!==r&&(R.pause(),R.currentTime=0)})},[r]),p.useEffect(()=>{const R=T=>{$&&(T.preventDefault(),T.deltaY>0&&r<e.length-1?s(oe=>oe+1):T.deltaY<0&&r>0&&s(oe=>oe-1))},b=E.current;if(b)return b.addEventListener("wheel",R,{passive:!1}),()=>b.removeEventListener("wheel",R)},[r,e.length,$]);const he=async()=>{try{const{data:{user:R}}=await K.auth.getUser();R?o(R.id):W("/login")}catch(R){console.error("Error fetching user:",R),W("/login")}},ve=async()=>{try{a(!0);const R=Be();let b=R;k!=="all"&&(k==="trending"?b=R.filter(T=>T.views>1e4).sort((T,oe)=>oe.views-T.views):k==="following"?b=R.filter(T=>T.isFollowing):b=R.filter(T=>T.category===k)),B&&(b=b.filter(T=>T.title.toLowerCase().includes(B.toLowerCase())||T.description.toLowerCase().includes(B.toLowerCase())||T.hashtags.some(oe=>oe.toLowerCase().includes(B.toLowerCase()))||T.userName.toLowerCase().includes(B.toLowerCase()))),t(b),s(0)}catch(R){console.error("Error loading reels:",R)}finally{a(!1)}},Be=()=>{const R=["trending","music","comedy","dance","food","travel","sports","education","pets","art"],b=[];for(let T=1;T<=50;T++)b.push({id:T.toString(),userId:`user_${T}`,userName:`User${T}`,userAvatar:`https://images.unsplash.com/photo-${15e11+T*1e3}?auto=format&fit=crop&w=100&q=80`,isVerified:Math.random()>.8,videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",thumbnailUrl:`https://images.unsplash.com/photo-${16e11+T*1e3}?auto=format&fit=crop&w=400&q=80`,title:`Amazing Reel ${T}`,description:`This is an amazing reel number ${T}! Check out this incredible content that will blow your mind! `,duration:Math.floor(Math.random()*60)+15,views:Math.floor(Math.random()*1e5)+1e3,likes:Math.floor(Math.random()*1e4)+100,comments:Math.floor(Math.random()*1e3)+10,shares:Math.floor(Math.random()*500)+5,bookmarks:Math.floor(Math.random()*2e3)+20,createdAt:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString(),music:Math.random()>.3?{id:`music_${T}`,title:`Track ${T}`,artist:`Artist ${T}`,url:"",duration:30}:void 0,hashtags:[`#reel${T}`,"#amazing","#viral","#trending"],location:Math.random()>.5?", ":void 0,isLiked:Math.random()>.7,isBookmarked:Math.random()>.8,isFollowing:Math.random()>.6,category:R[Math.floor(Math.random()*R.length)]});return b},Ht=async R=>{const b=[];for(let T=1;T<=20;T++)b.push({id:`comment_${T}`,userId:`user_${T}`,userName:`User${T}`,userAvatar:`https://images.unsplash.com/photo-${15e11+T*1e3}?auto=format&fit=crop&w=50&q=80`,content:`This is an amazing comment ${T}! I love this reel! `,likes:Math.floor(Math.random()*100),replies:Math.floor(Math.random()*10),createdAt:new Date(Date.now()-Math.random()*24*60*60*1e3).toISOString(),isLiked:Math.random()>.7});g(b)},ut=async R=>{t(b=>b.map(T=>T.id===R?{...T,isLiked:!T.isLiked,likes:T.isLiked?T.likes-1:T.likes+1}:T))},cs=async R=>{t(b=>b.map(T=>T.id===R?{...T,isBookmarked:!T.isBookmarked,bookmarks:T.isBookmarked?T.bookmarks-1:T.bookmarks+1}:T))},zt=async R=>{t(b=>b.map(T=>T.userId===R?{...T,isFollowing:!T.isFollowing}:T))},Mt=async()=>{if(!m.trim())return;const R={id:Date.now().toString(),userId:l,userName:"",content:m,likes:0,replies:0,createdAt:new Date().toISOString(),isLiked:!1};g(T=>[R,...T]),x("");const b=e[r];t(T=>T.map(oe=>oe.id===b.id?{...oe,comments:oe.comments+1}:oe))},w=R=>{var T;const b=(T=R.target.files)==null?void 0:T[0];if(b&&b.type.startsWith("video/")){de(b);const oe=URL.createObjectURL(b);pe(oe),Z("edit")}},M=()=>{const R=D.current;R&&(ee(R.duration),Ve(R.duration))},ne=()=>{Z("select"),de(null),pe(""),J(""),ce(""),Ee([]),z(""),ie("other"),Le(void 0),S({brightness:100,contrast:100,saturation:100,blur:0,sepia:0,grayscale:0}),xe(0),Ve(0)},we=async()=>{if(!se)return;Z("uploading"),$e(0);for(let b=0;b<=100;b+=10)$e(b),await new Promise(T=>setTimeout(T,200));const R={id:Date.now().toString(),userId:l,userName:"",videoUrl:le,title:P,description:X,duration:Pe-Ne,views:0,likes:0,comments:0,shares:0,bookmarks:0,createdAt:new Date().toISOString(),music:ke,hashtags:ae,location:_,isLiked:!1,isBookmarked:!1,isFollowing:!1,category:H};t(b=>[R,...b]),N(!1),ne(),s(0)},dt=R=>{const b=Math.floor(R/60),T=Math.floor(R%60);return`${b}:${T.toString().padStart(2,"0")}`},xt=R=>R>=1e6?(R/1e6).toFixed(1)+"M":R>=1e3?(R/1e3).toFixed(1)+"K":R.toString(),Tr=R=>{const b=Date.now()-new Date(R).getTime(),T=Math.floor(b/(1e3*60*60)),oe=Math.floor(b/(1e3*60*60*24));return T<24?`${T}  `:`${oe}  `},Ct=()=>{r<e.length-1&&s(R=>R+1)},zi=()=>{r>0&&s(R=>R-1)},As=()=>{Y(!$)};if(i)return n.jsxs("div",{className:"flex min-h-screen",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:" ..."})]})})]});if(!$)return n.jsxs("div",{className:"flex min-h-screen bg-black",children:[n.jsx(nt,{}),n.jsxs("div",{className:"flex-1 ml-64",children:[n.jsx("div",{className:"bg-black border-b border-gray-800 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:""}),n.jsx("div",{className:"flex space-x-2",children:[{id:"all",label:"",icon:Ps},{id:"trending",label:"",icon:ju},{id:"following",label:"",icon:rr},{id:"music",label:"",icon:ch},{id:"comedy",label:"",icon:k0},{id:"dance",label:"",icon:C0}].map(R=>n.jsxs("button",{onClick:()=>O(R.id),className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm transition-colors ${k===R.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[n.jsx(R.icon,{size:16}),n.jsx("span",{children:R.label})]},R.id))})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>F(!A),className:"p-2 bg-gray-800 text-white rounded-full hover:bg-gray-700 transition-colors",children:n.jsx(_n,{size:20})}),A&&n.jsx("div",{className:"absolute right-0 top-12 w-80 bg-gray-900 rounded-lg shadow-xl border border-gray-700 p-4 z-50",children:n.jsx("input",{type:"text",placeholder:" ...",value:B,onChange:R=>I(R.target.value),className:"w-full bg-gray-800 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})})]}),n.jsxs("button",{onClick:()=>N(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Ts,{size:20}),n.jsx("span",{children:""})]}),n.jsx("button",{onClick:As,className:"p-2 bg-gray-800 text-white rounded-full hover:bg-gray-700 transition-colors",children:n.jsx(Q1,{size:20})})]})]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e.map((R,b)=>{var T;return n.jsxs("div",{className:"relative aspect-[9/16] bg-gray-900 rounded-lg overflow-hidden cursor-pointer group hover:scale-105 transition-transform duration-200",onClick:()=>{s(b),As()},children:[n.jsx("img",{src:R.thumbnailUrl,alt:R.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),n.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full overflow-hidden",children:R.userAvatar?n.jsx("img",{src:R.userAvatar,alt:R.userName,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-white text-xs font-bold",children:(T=R.userName[0])==null?void 0:T.toUpperCase()})}),n.jsx("span",{className:"text-white text-sm font-medium",children:R.userName}),R.isVerified&&n.jsx(ah,{size:12,className:"text-blue-500"})]}),n.jsx("p",{className:"text-white text-sm line-clamp-2 mb-2",children:R.title}),n.jsxs("div",{className:"flex items-center justify-between text-white/80 text-xs",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Gr,{size:12,className:"mr-1"}),xt(R.likes)]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(b0,{size:12,className:"mr-1"}),xt(R.views)]})]}),n.jsx("span",{children:dt(R.duration)})]})]}),n.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(ur,{size:20,className:"text-white"})})]},R.id)})})})]})]});const me=e[r];return me?n.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex",ref:E,children:[n.jsxs("div",{className:"flex-1 relative flex items-center justify-center",children:[n.jsx("video",{ref:R=>{L.current[r]=R},src:me.videoUrl,className:"max-h-full max-w-full object-contain",loop:!0,playsInline:!0,onClick:()=>d(!c)}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:!c&&n.jsx("button",{onClick:()=>d(!0),className:"w-16 h-16 bg-black/50 rounded-full flex items-center justify-center text-white",children:n.jsx(ur,{size:24})})}),n.jsx("button",{onClick:zi,disabled:r===0,className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black/30 rounded-full flex items-center justify-center text-white disabled:opacity-30 hover:bg-black/50 transition-colors",children:n.jsx(D1,{size:20})}),n.jsx("button",{onClick:Ct,disabled:r===e.length-1,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black/30 rounded-full flex items-center justify-center text-white disabled:opacity-30 hover:bg-black/50 transition-colors",children:n.jsx(xu,{size:20})}),n.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between text-white",children:[n.jsx("button",{onClick:As,className:"p-2 bg-black/30 rounded-full hover:bg-black/50 transition-colors",children:n.jsx(J1,{size:20})}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("button",{onClick:()=>h(!u),className:"p-2 bg-black/30 rounded-full hover:bg-black/50 transition-colors",children:u?n.jsx(S0,{size:20}):n.jsx(_0,{size:20})})})]}),n.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:n.jsx("div",{className:"w-full h-1 bg-white/30 rounded-full",children:n.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-100",style:{width:`${fe/me.duration*100}%`}})})})]}),n.jsxs("div",{className:"w-80 bg-black/50 backdrop-blur-sm p-6 overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden",children:me.userAvatar?n.jsx("img",{src:me.userAvatar,alt:me.userName,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-white text-lg font-bold",children:(Sn=me.userName[0])==null?void 0:Sn.toUpperCase()})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h3",{className:"text-white font-semibold",children:me.userName}),me.isVerified&&n.jsx(ah,{size:16,className:"text-blue-500"})]}),n.jsx("p",{className:"text-white/60 text-sm",children:Tr(me.createdAt)})]}),me.userId!==l&&n.jsx("button",{onClick:()=>zt(me.userId),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${me.isFollowing?"bg-gray-600 text-white hover:bg-gray-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:me.isFollowing?"":""})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-white text-lg font-semibold mb-2",children:me.title}),n.jsx("p",{className:"text-white/80 text-sm mb-3",children:me.description}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:me.hashtags.map((R,b)=>n.jsx("span",{className:"text-blue-400 text-sm hover:text-blue-300 cursor-pointer",children:R},b))}),me.music&&n.jsxs("div",{className:"flex items-center space-x-2 text-white/60 text-sm mb-3",children:[n.jsx(ch,{size:14}),n.jsxs("span",{children:[me.music.artist," - ",me.music.title]})]}),me.location&&n.jsxs("div",{className:"flex items-center space-x-2 text-white/60 text-sm",children:[n.jsx(Ps,{size:14}),n.jsx("span",{children:me.location})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-white text-lg font-semibold",children:xt(me.views)}),n.jsx("div",{className:"text-white/60 text-sm",children:""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white text-lg font-semibold",children:xt(me.likes)}),n.jsx("div",{className:"text-white/60 text-sm",children:""})]})]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("button",{onClick:()=>ut(me.id),className:`w-full flex items-center justify-center space-x-2 py-3 rounded-lg transition-colors ${me.isLiked?"bg-red-600 text-white hover:bg-red-700":"bg-gray-800 text-white hover:bg-gray-700"}`,children:[n.jsx(Gr,{size:20,className:me.isLiked?"fill-current":""}),n.jsx("span",{children:me.isLiked?" ":""})]}),n.jsxs("button",{onClick:()=>{v(!0),Ht(me.id)},className:"w-full flex items-center justify-center space-x-2 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[n.jsx(Nr,{size:20}),n.jsxs("span",{children:[" (",xt(me.comments),")"]})]}),n.jsxs("button",{onClick:()=>cs(me.id),className:`w-full flex items-center justify-center space-x-2 py-3 rounded-lg transition-colors ${me.isBookmarked?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-gray-800 text-white hover:bg-gray-700"}`,children:[me.isBookmarked?n.jsx(M1,{size:20}):n.jsx(U1,{size:20}),n.jsx("span",{children:me.isBookmarked?" ":""})]}),n.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[n.jsx(bu,{size:20}),n.jsx("span",{children:""})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-semibold mb-3",children:" "}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.slice(r+1,r+5).map((R,b)=>n.jsx("div",{className:"aspect-[9/16] bg-gray-800 rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition-transform",onClick:()=>s(r+1+b),children:n.jsx("img",{src:R.thumbnailUrl,alt:R.title,className:"w-full h-full object-cover"})},R.id))})]})]}),f&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-60",children:n.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[80vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[n.jsxs("h3",{className:"text-white text-lg font-semibold",children:[" (",xt(me.comments),")"]}),n.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white",children:n.jsx(Ze,{size:24})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:C.map(R=>{var b;return n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0",children:R.userAvatar?n.jsx("img",{src:R.userAvatar,alt:R.userName,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-white text-sm font-bold",children:(b=R.userName[0])==null?void 0:b.toUpperCase()})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("span",{className:"text-white font-medium text-sm",children:R.userName}),n.jsx("span",{className:"text-gray-400 text-xs",children:Tr(R.createdAt)})]}),n.jsx("p",{className:"text-white/80 text-sm mb-2",children:R.content}),n.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-xs",children:[n.jsxs("button",{className:"hover:text-white flex items-center space-x-1",children:[n.jsx(Gr,{size:12,className:R.isLiked?"fill-current text-red-500":""}),n.jsx("span",{children:R.likes})]}),n.jsx("button",{className:"hover:text-white",children:""})]})]})]},R.id)})}),n.jsx("div",{className:"p-4 border-t border-gray-700",children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("input",{type:"text",placeholder:" ...",value:m,onChange:R=>x(R.target.value),className:"flex-1 bg-gray-800 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:R=>R.key==="Enter"&&Mt()}),n.jsx("button",{onClick:Mt,disabled:!m.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})})]})}),j&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-60",children:n.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[G==="select"&&n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-white text-2xl font-bold",children:" "}),n.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-white",children:n.jsx(Ze,{size:24})})]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-12 text-center cursor-pointer hover:border-gray-500 transition-colors",onClick:()=>{var R;return(R=U.current)==null?void 0:R.click()},children:[n.jsx(xn,{size:48,className:"text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:" "}),n.jsx("p",{className:"text-gray-400 mb-4",children:"      "}),n.jsx("p",{className:"text-gray-500 text-sm",children:" : MP4, MOV, AVI.  100MB"})]}),n.jsx("input",{ref:U,type:"file",accept:"video/*",onChange:w,className:"hidden"})]}),G==="edit"&&n.jsxs("div",{className:"flex h-[80vh]",children:[n.jsx("div",{className:"flex-1 bg-black flex items-center justify-center p-6",children:n.jsx("video",{ref:D,src:le,className:"max-h-full max-w-full object-contain",controls:!0,onLoadedMetadata:M,onTimeUpdate:R=>ze(R.currentTarget.currentTime),style:{filter:`brightness(${y.brightness}%) contrast(${y.contrast}%) saturate(${y.saturation}%) blur(${y.blur}px) sepia(${y.sepia}%) grayscale(${y.grayscale}%)`}})}),n.jsxs("div",{className:"w-80 bg-gray-800 p-6 overflow-y-auto",children:[n.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:" "}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-white font-medium mb-3",children:" "}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-gray-300 text-sm mb-1",children:[": ",dt(Ne)]}),n.jsx("input",{type:"range",min:0,max:V,step:.1,value:Ne,onChange:R=>xe(Number(R.target.value)),className:"w-full"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-gray-300 text-sm mb-1",children:[": ",dt(Pe)]}),n.jsx("input",{type:"range",min:0,max:V,step:.1,value:Pe,onChange:R=>Ve(Number(R.target.value)),className:"w-full"})]}),n.jsxs("p",{className:"text-gray-400 text-sm",children:[": ",dt(Pe-Ne)]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-white font-medium mb-3",children:""}),n.jsx("div",{className:"space-y-3",children:Object.entries(y).map(([R,b])=>n.jsxs("div",{children:[n.jsxs("label",{className:"block text-gray-300 text-sm mb-1 capitalize",children:[R,": ",b,R==="blur"?"px":"%"]}),n.jsx("input",{type:"range",min:R==="blur"?0:R==="brightness"||R==="contrast"||R==="saturation"?50:0,max:R==="blur"?10:R==="brightness"||R==="contrast"||R==="saturation"?150:100,value:b,onChange:T=>S(oe=>({...oe,[R]:Number(T.target.value)})),className:"w-full"})]},R))})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>Z("select"),className:"flex-1 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:""}),n.jsx("button",{onClick:()=>Z("details"),className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""})]})]})]}),G==="details"&&n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-white text-2xl font-bold",children:" "}),n.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-white",children:n.jsx(Ze,{size:24})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-white font-medium mb-2",children:" *"}),n.jsx("input",{type:"text",value:P,onChange:R=>J(R.target.value),className:"w-full bg-gray-800 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  ",maxLength:100}),n.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[P.length,"/100"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-white font-medium mb-2",children:""}),n.jsx("textarea",{value:X,onChange:R=>ce(R.target.value),rows:4,className:"w-full bg-gray-800 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ",maxLength:500}),n.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[X.length,"/500"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-white font-medium mb-2",children:""}),n.jsxs("select",{value:H,onChange:R=>ie(R.target.value),className:"w-full bg-gray-800 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"other",children:""}),n.jsx("option",{value:"music",children:""}),n.jsx("option",{value:"comedy",children:""}),n.jsx("option",{value:"dance",children:""}),n.jsx("option",{value:"food",children:""}),n.jsx("option",{value:"travel",children:""}),n.jsx("option",{value:"sports",children:""}),n.jsx("option",{value:"education",children:""}),n.jsx("option",{value:"pets",children:""}),n.jsx("option",{value:"art",children:""})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-white font-medium mb-2",children:""}),n.jsx("input",{type:"text",value:_,onChange:R=>z(R.target.value),className:"w-full bg-gray-800 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   "})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-white font-medium mb-2",children:""}),n.jsx("input",{type:"text",placeholder:"   ",className:"w-full bg-gray-800 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:R=>{if(R.key==="Enter"||R.key===","){R.preventDefault();const b=R.currentTarget.value.trim();b&&!ae.includes(`#${b}`)&&(Ee(T=>[...T,`#${b}`]),R.currentTarget.value="")}}}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ae.map((R,b)=>n.jsxs("span",{className:"bg-blue-600 text-white px-2 py-1 rounded-full text-sm flex items-center space-x-1",children:[n.jsx("span",{children:R}),n.jsx("button",{onClick:()=>Ee(T=>T.filter((oe,yt)=>yt!==b)),className:"hover:text-red-300",children:n.jsx(Ze,{size:12})})]},b))})]}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[n.jsx("h4",{className:"text-white font-medium mb-2",children:" "}),n.jsx("div",{className:"aspect-[9/16] bg-black rounded-lg overflow-hidden",children:n.jsx("video",{src:le,className:"w-full h-full object-cover",muted:!0,loop:!0,autoPlay:!0})})]})]})]}),n.jsxs("div",{className:"flex justify-between mt-6",children:[n.jsx("button",{onClick:()=>Z("edit"),className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:""}),n.jsx("button",{onClick:we,disabled:!P.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]}),G==="uploading"&&n.jsxs("div",{className:"p-6 text-center",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-white text-2xl font-bold mb-2",children:" "}),n.jsx("p",{className:"text-gray-400",children:" , ..."})]}),n.jsxs("div",{className:"w-64 mx-auto",children:[n.jsx("div",{className:"bg-gray-700 rounded-full h-4 mb-4",children:n.jsx("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-300",style:{width:`${je}%`}})}),n.jsxs("p",{className:"text-white text-lg font-semibold",children:[je,"%"]})]})]})]})})]}):null}function Lw(){return new URLSearchParams(jn().search)}function Ow(){var B,I,A;const[e,t]=p.useState([]),[r,s]=p.useState(null),[i,a]=p.useState([]),[l,o]=p.useState(null),[c,d]=p.useState(""),[u,h]=p.useState(!0),[f,v]=p.useState(!1),j=p.useRef(null),N=Lw();p.useEffect(()=>{j.current&&j.current.scrollIntoView({behavior:"smooth"})},[i]),p.useEffect(()=>{C()},[]),p.useEffect(()=>{l&&g()},[l]),p.useEffect(()=>{const F=N.get("user");F&&l&&m(F)},[l]);async function C(){const F=await gs.getCurrentUserProfile();o(F)}async function g(){h(!0);const{data:F,error:$}=await K.from("conversations").select(`
        *,
        participant1:users!conversations_participant1_id_fkey (id, name, lastName, avatar),
        participant2:users!conversations_participant2_id_fkey (id, name, lastName, avatar)
      `).or(`participant1_id.eq.${l.id},participant2_id.eq.${l.id}`).order("updated_at",{ascending:!1});if($){t([]),h(!1);return}const Y=(F||[]).map(G=>{const Z=G.participant1_id===l.id?G.participant2:G.participant1;return{id:G.id,participant:Z,updated_at:G.updated_at}});t(Y),h(!1)}async function m(F){let $=e.find(Y=>Y.participant&&Y.participant.id===F);if(!$){const{data:Y,error:G}=await K.from("conversations").insert([{participant1_id:l.id,participant2_id:F}]).select(`
          *,
          participant1:users!conversations_participant1_id_fkey (id, name, lastName, avatar),
          participant2:users!conversations_participant2_id_fkey (id, name, lastName, avatar)
        `).single();if(G)return;const Z=Y.participant1_id===l.id?Y.participant2:Y.participant1;$={id:Y.id,participant:Z,updated_at:Y.updated_at},t(se=>[$,...se])}s($),x($.id)}async function x(F){const{data:$,error:Y}=await K.from("messages").select("*").eq("conversation_id",F).order("created_at",{ascending:!0});if(Y){a([]);return}a($||[])}async function k(F){s(F),x(F.id)}async function O(F){if(F.preventDefault(),!c.trim()||!r)return;v(!0);const{error:$}=await K.from("messages").insert([{conversation_id:r.id,sender_id:l.id,content:c.trim()}]);v(!1),d(""),$||x(r.id)}return n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(nt,{}),n.jsxs("div",{className:"flex-1 ml-64 flex",children:[n.jsxs("div",{className:"w-80 border-r border-gray-200 bg-white flex flex-col",children:[n.jsx("div",{className:"p-4 border-b border-gray-100",children:n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:""})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:u?n.jsx("div",{className:"p-4 text-gray-500",children:"..."}):e.length===0?n.jsx("div",{className:"p-4 text-gray-500",children:" "}):e.map(F=>{var $,Y,G;return n.jsxs("div",{className:`flex items-center px-4 py-3 cursor-pointer hover:bg-gray-50 ${r&&r.id===F.id?"bg-gray-100":""}`,onClick:()=>k(F),children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 overflow-hidden flex items-center justify-center",children:($=F.participant)!=null&&$.avatar?n.jsx("img",{src:F.participant.avatar,alt:F.participant.name,className:"w-full h-full object-cover"}):n.jsx(Za,{className:"w-8 h-8 text-gray-400"})}),n.jsxs("div",{className:"ml-4 flex-1",children:[n.jsxs("div",{className:"font-semibold text-gray-900",children:[(Y=F.participant)==null?void 0:Y.name," ",(G=F.participant)==null?void 0:G.lastName]}),n.jsxs("div",{className:"text-xs text-gray-500",children:[" : ",new Date(F.updated_at).toLocaleString("uk-UA")]})]})]},F.id)})})]}),n.jsx("div",{className:"flex-1 flex flex-col",children:r?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center border-b border-gray-200 px-6 py-4 bg-white",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 overflow-hidden flex items-center justify-center",children:(B=r.participant)!=null&&B.avatar?n.jsx("img",{src:r.participant.avatar,alt:r.participant.name,className:"w-full h-full object-cover"}):n.jsx(Za,{className:"w-7 h-7 text-gray-400"})}),n.jsx("div",{className:"ml-4",children:n.jsxs("div",{className:"font-semibold text-gray-900",children:[(I=r.participant)==null?void 0:I.name," ",(A=r.participant)==null?void 0:A.lastName]})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 bg-gray-50",children:i.length===0?n.jsx("div",{className:"text-gray-500 text-center mt-8",children:" "}):n.jsxs("div",{className:"space-y-4",children:[i.map(F=>n.jsx("div",{className:`flex ${F.sender_id===l.id?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg shadow-sm ${F.sender_id===l.id?"bg-blue-600 text-white":"bg-white text-gray-900 border"}`,children:[F.content,n.jsx("div",{className:"text-xs text-gray-300 mt-1 text-right",children:new Date(F.created_at).toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})})]})},F.id)),n.jsx("div",{ref:j})]})}),n.jsxs("form",{onSubmit:O,className:"flex items-center px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("input",{type:"text",value:c,onChange:F=>d(F.target.value),placeholder:" ...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:f}),n.jsx("button",{type:"submit",disabled:f||!c.trim(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50",children:n.jsx(j0,{className:"w-5 h-5"})})]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400 text-xl",children:"    "})})]})]})}function Aw(){const[e,t]=p.useState([]),[r,s]=p.useState([]),[i,a]=p.useState(""),[l,o]=p.useState(!0);p.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:h}}=await K.auth.getUser();if(!h)return;const{data:f,error:v}=await K.from("friends").select(`
          friend_id,
          friend:users!friend_id (
            id,
            name,
            lastName,
            avatar
          )
        `).eq("user_id",h.id);if(v)throw v;t((f==null?void 0:f.map(j=>j.friend))||[])}catch(h){console.error("Error fetching friends:",h)}finally{o(!1)}},d=async h=>{if(a(h),h.length<2){s([]);return}try{const{data:f,error:v}=await K.from("users").select("id, name, lastName, avatar").or(`name.ilike.%${h}%, lastName.ilike.%${h}%`).limit(10);if(v)throw v;s(f||[])}catch(f){console.error("Error searching users:",f)}},u=async h=>{try{const{data:{user:f}}=await K.auth.getUser();if(!f)return;const{error:v}=await K.from("friends").insert([{user_id:f.id,friend_id:h}]);if(v)throw v;await c()}catch(f){console.error("Error adding friend:",f)}};return n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 p-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:" "}),n.jsxs("div",{className:"relative",children:[n.jsx(_n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"  '  ",value:i,onChange:h=>d(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.length>0&&n.jsx("div",{className:"mt-4 bg-white rounded-lg shadow-sm",children:r.map(h=>n.jsxs("div",{className:"flex items-center justify-between p-4 border-b last:border-b-0",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:h.avatar?n.jsx("img",{src:h.avatar,alt:h.name,className:"w-full h-full rounded-full object-cover"}):n.jsx("span",{className:"text-lg text-gray-600",children:h.name[0]})}),n.jsx("div",{className:"ml-3",children:n.jsxs("p",{className:"font-medium text-gray-900",children:[h.name," ",h.lastName]})})]}),n.jsxs("button",{onClick:()=>u(h.id),className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Si,{size:18,className:"mr-1"}),""]})]},h.id))})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" "}),l?n.jsx("div",{className:"text-center py-8",children:"..."}):e.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(h=>n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:h.avatar?n.jsx("img",{src:h.avatar,alt:h.name,className:"w-full h-full rounded-full object-cover"}):n.jsx("span",{className:"text-xl text-gray-600",children:h.name[0]})}),n.jsxs("div",{className:"ml-4",children:[n.jsxs("p",{className:"font-medium text-gray-900",children:[h.name," ",h.lastName]}),n.jsxs("button",{className:"flex items-center text-sm text-blue-600 hover:text-blue-700 mt-1",children:[n.jsx(va,{size:16,className:"mr-1"}),""]})]})]},h.id))}):n.jsx("div",{className:"text-center py-8 text-gray-600",children:"    "})]})]})})]})}function $w(){const[e,t]=p.useState("profile"),[r,s]=p.useState(!0),i=nr(),[a,l]=p.useState({name:"",lastName:"",email:"",bio:"",city:"",birthDate:"",notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1},familyStatus:"",status:"",phone:"",website:""});p.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:u},error:h}=await K.auth.getUser();if(h||!u){i("/login");return}const{data:f,error:v}=await K.from("users").select("*").eq("auth_user_id",u.id).single();if(v){console.error("Error fetching user settings:",v);return}l({...a,...f,notifications:f.notifications||a.notifications,privacy:f.privacy||a.privacy})}catch(u){console.error("Error loading user settings:",u)}finally{s(!1)}},c=async u=>{u.preventDefault();try{const{data:{user:h},error:f}=await K.auth.getUser();if(f||!h){i("/login");return}const{error:v}=await K.from("users").update({name:a.name,lastName:a.lastName,bio:a.bio,city:a.city,birthDate:a.birthDate,notifications:a.notifications,privacy:a.privacy,familyStatus:a.familyStatus,status:a.status,phone:a.phone,website:a.website}).eq("auth_user_id",h.id);if(v)throw v;alert("  ")}catch(h){console.error("Error saving settings:",h),alert("   ")}},d=[{id:"profile",label:"",icon:gc},{id:"privacy",label:"",icon:Er},{id:"notifications",label:"",icon:z1}];return r?n.jsxs("div",{className:"flex min-h-screen",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 p-8",children:n.jsx("div",{className:"text-center",children:"..."})})]}):n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 p-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:""}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[n.jsx("div",{className:"flex border-b border-gray-200",children:d.map(({id:u,label:h,icon:f})=>n.jsxs("button",{onClick:()=>t(u),className:`flex items-center px-6 py-3 text-sm font-medium ${e===u?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[n.jsx(f,{size:18,className:"mr-2"}),h]},u))}),n.jsxs("div",{className:"p-6",children:[e==="profile"&&n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"'"}),n.jsx("input",{type:"text",value:a.name,onChange:u=>l({...a,name:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),n.jsx("input",{type:"text",value:a.lastName,onChange:u=>l({...a,lastName:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),n.jsx("input",{type:"text",value:a.city||"",onChange:u=>l({...a,city:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),n.jsx("input",{type:"text",value:a.familyStatus||"",onChange:u=>l({...a,familyStatus:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),n.jsx("input",{type:"text",value:a.status||"",onChange:u=>l({...a,status:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),n.jsx("input",{type:"text",value:a.phone||"",onChange:u=>l({...a,phone:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"-"}),n.jsx("input",{type:"text",value:a.website||"",onChange:u=>l({...a,website:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),n.jsx("input",{type:"date",value:a.birthDate||"",onChange:u=>l({...a,birthDate:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),n.jsx("textarea",{value:a.bio,onChange:u=>l({...a,bio:u.target.value}),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:" "})})]}),e==="privacy"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:" "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),n.jsxs("select",{value:a.privacy.profileVisibility,onChange:u=>l({...a,privacy:{...a.privacy,profileVisibility:u.target.value}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"public",children:""}),n.jsx("option",{value:"friends",children:" "}),n.jsx("option",{value:"private",children:""})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"  "}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a.privacy.showBirthDate,onChange:u=>l({...a,privacy:{...a.privacy,showBirthDate:u.target.checked}}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:" email"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a.privacy.showEmail,onChange:u=>l({...a,privacy:{...a.privacy,showEmail:u.target.checked}}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),e==="notifications"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:" "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Email "}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a.notifications.email,onChange:u=>l({...a,notifications:{...a.notifications,email:u.target.checked}}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"  "}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a.notifications.messages,onChange:u=>l({...a,notifications:{...a.notifications,messages:u.target.checked}}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"    "}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a.notifications.friendRequests,onChange:u=>l({...a,notifications:{...a.notifications,friendRequests:u.target.checked}}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})})]})]})]})})]})}function zw({isOpen:e,onClose:t,onUpload:r,groupId:s}){var S,L;const[i,a]=p.useState("upload"),[l,o]=p.useState(null),[c,d]=p.useState(""),[u,h]=p.useState(0),[f,v]=p.useState(0),[j,N]=p.useState(!1),[C,g]=p.useState(!1),[m,x]=p.useState(0),[k,O]=p.useState(0),[B,I]=p.useState([]),[A,F]=p.useState(!1),[$,Y]=p.useState(!1),[G,Z]=p.useState(0),[se,de]=p.useState(0),[le,pe]=p.useState(""),[P,J]=p.useState(""),[X,ce]=p.useState(""),[ae,Ee]=p.useState("full"),[_,z]=p.useState(!1),H=p.useRef(null),ie=p.useRef(null),je=p.useRef(null);p.useEffect(()=>{e||$e()},[e]),p.useEffect(()=>{if(u>0){O(u),de(Math.max(0,u-30));const E=[{type:"intro",start:0,end:Math.min(15,u*.1),skip:!1},{type:"content",start:Math.min(15,u*.1),end:Math.max(u-30,u*.9),skip:!1},{type:"outro",start:Math.max(u-30,u*.9),end:u,skip:!1}];I(E),Z(E[0].end),de(E[2].start)}},[u]);const $e=()=>{a("upload"),o(null),d(""),h(0),v(0),N(!1),x(0),O(0),F(!1),Y(!1),Z(0),de(0),pe(""),J(""),ce(""),I([]),Ee("full")},ke=E=>{var D;const U=(D=E.target.files)==null?void 0:D[0];if(U&&U.type.startsWith("video/")){o(U);const W=URL.createObjectURL(U);d(W),pe(U.name.replace(/\.[^/.]+$/,"")),a("trim")}},Le=()=>{const E=H.current;E&&(h(E.duration),O(E.duration))},V=()=>{const E=H.current;E&&(v(E.currentTime),ae==="final"&&(A&&E.currentTime>=m&&E.currentTime<G&&(E.currentTime=G),$&&E.currentTime>=se&&(E.currentTime=k,E.pause(),N(!1))))},ee=()=>{const E=H.current;E&&(j?E.pause():E.play(),N(!j))},Ne=E=>{const U=H.current;U&&(U.currentTime=E,v(E))},xe=E=>{const U=B.find(D=>D.type===E);U&&Ne(U.start)},Pe=(E,U)=>{E==="intro"&&U==="end"?(Z(f),I(D=>D.map(W=>W.type==="intro"?{...W,end:f}:W.type==="content"?{...W,start:f}:W))):E==="outro"&&U==="start"&&(de(f),I(D=>D.map(W=>W.type==="content"?{...W,end:f}:W.type==="outro"?{...W,start:f}:W)))},Ve=async()=>{const E=H.current,U=je.current;if(E&&U){z(!0);const D=B.find(he=>he.type==="content"),W=D?(D.start+D.end)/2:u/2;E.currentTime=W,setTimeout(()=>{const he=U.getContext("2d");if(he){U.width=E.videoWidth,U.height=E.videoHeight,he.drawImage(E,0,0);const ve=U.toDataURL("image/jpeg",.8);ce(ve)}z(!1)},100)}},fe=E=>{const U=Math.floor(E/60),D=Math.floor(E%60);return`${U}:${D.toString().padStart(2,"0")}`},ze=()=>{let E=k-m;return A&&(E-=G-m),$&&(E-=k-se),Math.max(0,E)},y=()=>{l&&(r({file:l,title:le,description:P,thumbnail:X,startTime:m,endTime:k,skipIntro:A,skipOutro:$,introEnd:G,outroStart:se}),t())};return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(F1,{className:"text-blue-600",size:24}),n.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[i==="upload"&&" ",i==="trim"&&"  ",i==="details"&&" ",i==="preview"&&" "]})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Ze,{size:24})})]}),n.jsxs("div",{className:"flex h-[70vh]",children:[i!=="upload"&&n.jsx("div",{className:"flex-1 bg-black flex items-center justify-center p-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("video",{ref:H,src:c,className:"max-h-full max-w-full object-contain",onLoadedMetadata:Le,onTimeUpdate:V,muted:C}),n.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:n.jsxs("div",{className:"bg-black/70 rounded-lg p-4",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx("div",{className:"w-full h-2 bg-gray-600 rounded-full",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-100",style:{width:`${f/u*100}%`}})}),B.map((E,U)=>n.jsxs("div",{className:"absolute top-0 h-2 flex",children:[n.jsx("div",{className:`h-full ${E.type==="intro"?"bg-yellow-500/50":E.type==="outro"?"bg-red-500/50":"bg-green-500/50"}`,style:{left:`${E.start/u*100}%`,width:`${(E.end-E.start)/u*100}%`}}),E.skip&&n.jsx("div",{className:"absolute top-0 h-full bg-gray-800/80 flex items-center justify-center",style:{left:`${E.start/u*100}%`,width:`${(E.end-E.start)/u*100}%`},children:n.jsx(Ze,{size:12,className:"text-white"})})]},U)),n.jsx("div",{className:"absolute top-0 w-1 h-2 bg-blue-400",style:{left:`${m/u*100}%`}}),n.jsx("div",{className:"absolute top-0 w-1 h-2 bg-blue-400",style:{left:`${k/u*100}%`}})]}),n.jsxs("div",{className:"flex items-center justify-between text-white",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:ee,className:"p-2 bg-blue-600 rounded-full hover:bg-blue-700 transition-colors",children:j?n.jsx(Z1,{size:20}):n.jsx(ur,{size:20})}),n.jsx("button",{onClick:()=>g(!C),className:"p-2 bg-gray-600 rounded-full hover:bg-gray-700 transition-colors",children:C?n.jsx(S0,{size:20}):n.jsx(_0,{size:20})}),n.jsxs("span",{className:"text-sm",children:[fe(f)," / ",fe(u)]})]}),i==="trim"&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>xe("intro"),className:"px-3 py-1 bg-yellow-600 rounded text-sm hover:bg-yellow-700 transition-colors",children:""}),n.jsx("button",{onClick:()=>xe("content"),className:"px-3 py-1 bg-green-600 rounded text-sm hover:bg-green-700 transition-colors",children:""}),n.jsx("button",{onClick:()=>xe("outro"),className:"px-3 py-1 bg-red-600 rounded text-sm hover:bg-red-700 transition-colors",children:""})]}),i==="preview"&&n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("select",{value:ae,onChange:E=>Ee(E.target.value),className:"bg-gray-700 text-white rounded px-2 py-1 text-sm",children:[n.jsx("option",{value:"full",children:" "}),n.jsx("option",{value:"trimmed",children:""}),n.jsx("option",{value:"final",children:" "})]})})]})]})})]})}),n.jsxs("div",{className:"w-96 bg-gray-50 p-6 overflow-y-auto",children:[i==="upload"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center cursor-pointer hover:border-gray-400 transition-colors",onClick:()=>{var E;return(E=ie.current)==null?void 0:E.click()},children:[n.jsx(xn,{size:48,className:"text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" "}),n.jsx("p",{className:"text-gray-600 mb-4",children:"      "}),n.jsxs("p",{className:"text-gray-500 text-sm",children:[" : MP4, MOV, AVI, WebM",n.jsx("br",{})," : 500MB"]})]}),n.jsx("input",{ref:ie,type:"file",accept:"video/*",onChange:ke,className:"hidden"}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(k0,{className:"text-blue-600 mt-0.5",size:20}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:" "}),n.jsx("p",{className:"text-blue-700 text-sm",children:"                ."})]})]})})]}),i==="trim"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[": ",fe(m)]}),n.jsx("input",{type:"range",min:0,max:u,step:.1,value:m,onChange:E=>x(Number(E.target.value)),className:"w-full"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[": ",fe(k)]}),n.jsx("input",{type:"range",min:0,max:u,step:.1,value:k,onChange:E=>O(Number(E.target.value)),className:"w-full"})]}),n.jsxs("div",{className:"bg-gray-100 rounded p-3 text-sm",children:[n.jsx("strong",{children:"  :"})," ",fe(k-m)]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:A,onChange:E=>F(E.target.checked),className:"rounded"}),n.jsx("span",{className:"font-medium text-yellow-900",children:" "})]}),n.jsxs("span",{className:"text-yellow-700 text-sm",children:[fe(((S=B.find(E=>E.type==="intro"))==null?void 0:S.start)||0)," - ",fe(G)]})]}),A&&n.jsx("div",{children:n.jsxs("button",{onClick:()=>Pe("intro","end"),className:"flex items-center space-x-1 text-yellow-700 text-sm hover:text-yellow-800",children:[n.jsx(uh,{size:14}),n.jsxs("span",{children:["    (",fe(f),")"]})]})})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:$,onChange:E=>Y(E.target.checked),className:"rounded"}),n.jsx("span",{className:"font-medium text-red-900",children:" "})]}),n.jsxs("span",{className:"text-red-700 text-sm",children:[fe(se)," - ",fe(((L=B.find(E=>E.type==="outro"))==null?void 0:L.end)||u)]})]}),$&&n.jsx("div",{children:n.jsxs("button",{onClick:()=>Pe("outro","start"),className:"flex items-center space-x-1 text-red-700 text-sm hover:text-red-800",children:[n.jsx(uh,{size:14}),n.jsxs("span",{children:["    (",fe(f),")"]})]})})]})]})]}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(xa,{className:"text-green-600 mt-0.5",size:20}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-green-900 mb-1",children:" "}),n.jsxs("p",{className:"text-green-700",children:[fe(ze())," ( ",fe(k-m-ze()),")"]})]})]})})]}),i==="details"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),n.jsx("input",{type:"text",value:le,onChange:E=>pe(E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  ",maxLength:100}),n.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[le.length,"/100"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsx("textarea",{value:P,onChange:E=>J(E.target.value),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  ",maxLength:500}),n.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[P.length,"/500"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsxs("div",{className:"space-y-3",children:[X?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:X,alt:"Thumbnail",className:"w-full h-32 object-cover rounded-lg"}),n.jsx("button",{onClick:()=>ce(""),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:n.jsx(Ze,{size:16})})]}):n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[n.jsx(I1,{size:32,className:"text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"   "})]}),n.jsx("button",{onClick:Ve,disabled:_,className:"w-full flex items-center justify-center space-x-2 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:_?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),n.jsx("span",{children:"..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(fc,{size:16}),n.jsx("span",{children:" "})]})})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" "}),n.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:" :"}),n.jsx("span",{children:fe(u)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:" :"}),n.jsx("span",{children:fe(k-m)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:" :"}),n.jsx("span",{className:"font-semibold",children:fe(ze())})]}),A&&n.jsxs("div",{className:"flex justify-between text-yellow-700",children:[n.jsx("span",{children:"  :"}),n.jsx("span",{children:fe(G-m)})]}),$&&n.jsxs("div",{className:"flex justify-between text-red-700",children:[n.jsx("span",{children:"  :"}),n.jsx("span",{children:fe(k-se)})]})]})]})]}),i==="preview"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:le}),n.jsx("p",{className:"text-gray-600 text-sm mb-3",children:P}),X&&n.jsx("img",{src:X,alt:"Thumbnail",className:"w-full h-32 object-cover rounded-lg mb-3"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:":"}),n.jsx("div",{className:"font-semibold",children:fe(ze())})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:" :"}),n.jsx("div",{className:"font-semibold",children:l?`${(l.size/1024/1024).toFixed(1)} MB`:"N/A"})]})]})]}),(A||$)&&n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(C0,{className:"text-green-600 mt-0.5",size:20}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-green-900 mb-1",children:"  "}),n.jsxs("ul",{className:"text-green-700 text-sm space-y-1",children:[A&&n.jsx("li",{children:"    "}),$&&n.jsx("li",{children:"    "}),n.jsx("li",{children:"      "})]})]})]})})]})]})})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[n.jsx("div",{className:"flex items-center space-x-2",children:i!=="upload"&&n.jsx("button",{onClick:()=>{i==="trim"?a("upload"):i==="details"?a("trim"):i==="preview"&&a("details")},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[i==="trim"&&n.jsx("button",{onClick:()=>a("details"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""}),i==="details"&&n.jsx("button",{onClick:()=>a("preview"),disabled:!le.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""}),i==="preview"&&n.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(xn,{size:16}),n.jsx("span",{children:" "})]})]})]}),n.jsx("canvas",{ref:je,className:"hidden"})]})}):null}const na=["","","","","","","","","","","","","","","","'",""];function Mw(){const[e,t]=p.useState([]),[r,s]=p.useState([]),[i,a]=p.useState([]),[l,o]=p.useState([]),[c,d]=p.useState([]),[u,h]=p.useState([]),[f,v]=p.useState([]),[j,N]=p.useState(""),[C,g]=p.useState("explore"),[m,x]=p.useState(!0),[k,O]=p.useState(null),[B,I]=p.useState(!1),[A,F]=p.useState(!1),[$,Y]=p.useState(""),[G,Z]=p.useState(!1),[se,de]=p.useState(!1),[le,pe]=p.useState("grid"),[P,J]=p.useState({category:"",memberCount:"all",privacy:"all",activity:"all",sortBy:"activity",sortOrder:"desc",hasAvatar:!1,isVerified:!1}),[X,ce]=p.useState(new Set),[ae,Ee]=p.useState(!1),_=nr(),[z,H]=p.useState({name:"",description:"",category:"",isPrivate:!1,avatar:null,cover:null,tags:[],location:"",website:"",rules:[""],contactEmail:""});p.useEffect(()=>{ie()},[]),p.useEffect(()=>{k&&je()},[k]),p.useEffect(()=>{Pe()},[j,e,r,i,l,c,P,C]);const ie=async()=>{try{const{data:{user:w},error:M}=await K.auth.getUser();if(M||!w){_("/login");return}O(w.id)}catch(w){console.error("Error fetching current user:",w),_("/login")}},je=async()=>{try{await Promise.all([$e(),ke(),Le(),V(),ee(),Ne()])}catch(w){console.error("Error fetching data:",w)}finally{x(!1)}},$e=async()=>{try{const{data:w,error:M}=await K.from("groups").select("*").eq("isPrivate",!1).order("createdAt",{ascending:!1});if(M)throw M;const ne=(w||[]).map(we=>({...we,memberCount:Math.floor(Math.random()*1e3)+10,postCount:Math.floor(Math.random()*500),category:na[Math.floor(Math.random()*na.length)],tags:["react","javascript","frontend"].slice(0,Math.floor(Math.random()*3)+1),isVerified:Math.random()>.8,isActive:Math.random()>.3,lastActivity:new Date(Date.now()-Math.random()*7*24*60*60*1e3).toISOString(),location:Math.random()>.5?", ":void 0,website:Math.random()>.7?"https://example.com":void 0}));t(ne)}catch(w){console.error("Error fetching groups:",w),t([])}},ke=async()=>{try{if(!k)return;const{data:w,error:M}=await K.from("groups").select("*").eq("creatorId",k).order("createdAt",{ascending:!1});if(M)throw M;s(w||[])}catch(w){console.error("Error fetching my groups:",w),s([])}},Le=async()=>{try{if(!k)return;const{data:w,error:M}=await K.from("group_members").select(`
          groups (*)
        `).eq("userId",k).eq("role","member");if(M)throw M;a((w==null?void 0:w.map(ne=>ne.groups).filter(Boolean))||[])}catch(w){console.error("Error fetching joined groups:",w),a([])}},V=async()=>{try{if(!k)return;const{data:w,error:M}=await K.from("group_members").select(`
          groups (*)
        `).eq("userId",k).in("role",["owner","admin","moderator"]);if(M)throw M;o((w==null?void 0:w.map(ne=>ne.groups).filter(Boolean))||[])}catch(w){console.error("Error fetching managed groups:",w),o([])}},ee=async()=>{try{if(!k)return;d([])}catch(w){console.error("Error fetching invitations:",w),d([])}},Ne=async()=>{try{const{data:w,error:M}=await K.from("group_members").select("*");if(M)throw M;v(w||[])}catch(w){console.error("Error fetching group members:",w),v([])}},xe=()=>{switch(C){case"explore":return e;case"my-groups":return r;case"joined":return i;case"managed":return l;case"invitations":return c;default:return e}},Pe=()=>{let w=xe();j.trim()!==""&&(w=w.filter(M=>{var ne,we,dt;return M.name.toLowerCase().includes(j.toLowerCase())||M.description.toLowerCase().includes(j.toLowerCase())||((ne=M.category)==null?void 0:ne.toLowerCase().includes(j.toLowerCase()))||((we=M.tags)==null?void 0:we.some(xt=>xt.toLowerCase().includes(j.toLowerCase())))||((dt=M.location)==null?void 0:dt.toLowerCase().includes(j.toLowerCase()))})),P.category&&(w=w.filter(M=>M.category===P.category)),P.memberCount!=="all"&&(w=w.filter(M=>{const ne=M.memberCount||0;switch(P.memberCount){case"small":return ne<50;case"medium":return ne>=50&&ne<200;case"large":return ne>=200;default:return!0}})),P.privacy!=="all"&&(w=w.filter(M=>P.privacy==="public"?!M.isPrivate:M.isPrivate)),P.activity!=="all"&&(w=w.filter(M=>P.activity==="active"?M.isActive:!M.isActive)),P.hasAvatar&&(w=w.filter(M=>M.avatar)),P.isVerified&&(w=w.filter(M=>M.isVerified)),w.sort((M,ne)=>{let we=0;switch(P.sortBy){case"name":we=M.name.localeCompare(ne.name);break;case"members":we=(M.memberCount||0)-(ne.memberCount||0);break;case"activity":M.isActive&&!ne.isActive?we=-1:!M.isActive&&ne.isActive?we=1:we=new Date(ne.lastActivity||0).getTime()-new Date(M.lastActivity||0).getTime();break;case"created":we=new Date(M.createdAt).getTime()-new Date(ne.createdAt).getTime();break;case"popularity":we=(M.memberCount||0)+(M.postCount||0)-((ne.memberCount||0)+(ne.postCount||0));break}return P.sortOrder==="asc"?we:-we}),h(w)},Ve=async()=>{if(!(!k||!z.name.trim())){Z(!0);try{const w={name:z.name.trim(),description:z.description.trim(),category:z.category,isPrivate:z.isPrivate,creatorId:k,createdAt:new Date().toISOString(),tags:z.tags,location:z.location.trim()||null,website:z.website.trim()||null,rules:z.rules.filter(we=>we.trim()),contactEmail:z.contactEmail.trim()||null},{data:M,error:ne}=await K.from("groups").insert([w]).select().single();if(ne)throw ne;await K.from("group_members").insert([{groupId:M.id,userId:k,role:"owner",joinedAt:new Date().toISOString(),isActive:!0}]),alert("  !"),I(!1),D(),je()}catch(w){console.error("Error creating group:",w),alert("   ")}finally{Z(!1)}}},fe=async w=>{if(k)try{if(f.find(ne=>ne.groupId===w&&ne.userId===k)){alert("     !");return}await K.from("group_members").insert([{groupId:w,userId:k,role:"member",joinedAt:new Date().toISOString(),isActive:!0}]),alert("    !"),je()}catch(M){console.error("Error joining group:",M),alert("    ")}},ze=async w=>{if(k)try{await K.from("group_members").delete().eq("groupId",w).eq("userId",k),alert("  !"),je()}catch(M){console.error("Error leaving group:",M),alert("    ")}},y=w=>{const M=f.find(ne=>ne.groupId===w&&ne.userId===k);return(M==null?void 0:M.role)||null},S=w=>w.creatorId===k,L=w=>{const M=new Set(X);M.has(w)?M.delete(w):M.add(w),ce(M),Ee(M.size>0)},E=()=>{ce(new Set),Ee(!1)},U=async()=>{for(const w of X)await fe(w);E()},D=()=>{H({name:"",description:"",category:"",isPrivate:!1,avatar:null,cover:null,tags:[],location:"",website:"",rules:[""],contactEmail:""})},W=w=>{Y(w),F(!0)},he=w=>{console.log("Video uploaded to group:",$,w),F(!1),Y("")},ve=()=>{J({category:"",memberCount:"all",privacy:"all",activity:"all",sortBy:"activity",sortOrder:"desc",hasAvatar:!1,isVerified:!1}),N("")},Be=()=>{let w=0;return P.category&&w++,P.memberCount!=="all"&&w++,P.privacy!=="all"&&w++,P.activity!=="all"&&w++,(P.sortBy!=="activity"||P.sortOrder!=="desc")&&w++,P.hasAvatar&&w++,P.isVerified&&w++,w},Ht=w=>{if(!w)return" ";const M=Date.now()-new Date(w).getTime(),ne=Math.floor(M/(1e3*60*60)),we=Math.floor(M/(1e3*60*60*24));return ne<24?`${ne}  `:`${we}  `},ut=()=>{H(w=>({...w,rules:[...w.rules,""]}))},cs=w=>{H(M=>({...M,rules:M.rules.filter((ne,we)=>we!==w)}))},zt=(w,M)=>{H(ne=>({...ne,rules:ne.rules.map((we,dt)=>dt===w?M:we)}))},Mt=w=>{var dt,xt,Tr;const M=y(w.id),ne=S(w),we=X.has(w.id);return le==="list"?n.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200 ${we?"ring-2 ring-blue-500 bg-blue-50":""}`,children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"checkbox",checked:we,onChange:()=>L(w.id),className:"absolute top-0 left-0 w-4 h-4 rounded border-gray-300 text-blue-600"}),n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-blue-600 rounded-lg flex items-center justify-center text-white text-2xl font-bold overflow-hidden ml-6",children:w.avatar?n.jsx("img",{src:w.avatar,alt:w.name,className:"w-full h-full object-cover"}):n.jsx("span",{children:(dt=w.name[0])==null?void 0:dt.toUpperCase()})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 truncate",children:w.name}),w.isVerified&&n.jsx(mc,{size:20,className:"text-blue-500"}),w.isPrivate?n.jsx(Er,{size:16,className:"text-gray-400"}):n.jsx(Ps,{size:16,className:"text-green-500"}),ne&&n.jsx(lh,{size:16,className:"text-yellow-500"}),M==="admin"&&n.jsx(dh,{size:16,className:"text-purple-500"})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:w.description}),n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500 mb-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(rr,{size:14,className:"mr-1"}),w.memberCount," "]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Nr,{size:14,className:"mr-1"}),w.postCount," "]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(L1,{size:14,className:"mr-1"}),Ht(w.lastActivity)]}),w.location&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ns,{size:14,className:"mr-1"}),w.location]})]}),n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:w.category}),(xt=w.tags)==null?void 0:xt.map(Ct=>n.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["#",Ct]},Ct))]})]}),n.jsxs("div",{className:"flex flex-col space-y-2",children:[ne?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>_(`/groups/${w.id}`),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium",children:""}),n.jsxs("button",{onClick:Ct=>{Ct.stopPropagation(),W(w.id)},className:"flex items-center justify-center space-x-1 px-4 py-2 bg-purple-100 text-purple-700 rounded-lg text-sm font-medium hover:bg-purple-200 transition-colors",children:[n.jsx(Nu,{size:14}),n.jsx("span",{children:" "})]})]}):M?n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>_(`/groups/${w.id}`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:""}),n.jsx("button",{onClick:()=>ze(w.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm",children:""})]}):n.jsx("button",{onClick:()=>fe(w.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:""}),n.jsx("button",{className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:n.jsx(yr,{size:16})})]})]})},w.id):n.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-200 cursor-pointer group hover:scale-105 ${we?"ring-2 ring-blue-500":""}`,onClick:()=>_(`/groups/${w.id}`),children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"checkbox",checked:we,onChange:Ct=>{Ct.stopPropagation(),L(w.id)},className:"absolute top-3 left-3 w-4 h-4 rounded border-gray-300 text-blue-600 z-10"}),n.jsxs("div",{className:"h-32 bg-gradient-to-r from-purple-500 to-blue-600 relative",children:[w.cover&&n.jsx("img",{src:w.cover,alt:w.name,className:"w-full h-full object-cover"}),n.jsxs("div",{className:"absolute top-3 right-3 flex space-x-1",children:[w.isVerified&&n.jsx(mc,{size:16,className:"text-white"}),w.isPrivate?n.jsx(Er,{size:16,className:"text-white"}):n.jsx(Ps,{size:16,className:"text-white"})]})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start space-x-3 mb-3 -mt-8",children:[n.jsx("div",{className:"w-16 h-16 bg-white rounded-lg border-4 border-white shadow-lg flex items-center justify-center text-purple-600 text-xl font-bold overflow-hidden",children:w.avatar?n.jsx("img",{src:w.avatar,alt:w.name,className:"w-full h-full object-cover rounded-lg"}):n.jsx("span",{children:(Tr=w.name[0])==null?void 0:Tr.toUpperCase()})}),n.jsx("div",{className:"flex-1 mt-2",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1",children:w.name}),ne&&n.jsx(lh,{size:16,className:"text-yellow-500"}),M==="admin"&&n.jsx(dh,{size:16,className:"text-purple-500"})]})})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:w.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(rr,{size:14,className:"mr-1"}),w.memberCount]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Nr,{size:14,className:"mr-1"}),w.postCount]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-1 ${w.isActive?"bg-green-500":"bg-gray-400"}`}),w.isActive?"":""]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:w.category}),w.location&&n.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[n.jsx(Ns,{size:12,className:"mr-1"}),w.location]})]}),n.jsxs("div",{className:"flex space-x-2",onClick:Ct=>Ct.stopPropagation(),children:[ne?n.jsxs("button",{onClick:()=>_(`/groups/${w.id}`),className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium",children:[n.jsx(Cl,{size:16,className:"mr-1"}),""]}):M?n.jsxs("button",{onClick:()=>ze(w.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:[n.jsx(Ze,{size:16,className:"mr-1"}),""]}):n.jsxs("button",{onClick:()=>fe(w.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[n.jsx(Si,{size:16,className:"mr-1"}),""]}),n.jsx("button",{className:"flex items-center justify-center px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:n.jsx(bu,{size:16})})]})]})]})},w.id)};return m?n.jsxs("div",{className:"flex min-h-screen",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 p-8",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:" ..."})]})})]}):n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:""}),n.jsx("p",{className:"text-gray-600",children:"       "})]}),n.jsxs("button",{onClick:()=>I(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Ts,{size:20,className:"mr-2"})," "]})]}),n.jsx("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg",children:[{id:"explore",label:"",count:e.length},{id:"my-groups",label:" ",count:r.length},{id:"joined",label:"",count:i.length},{id:"managed",label:"",count:l.length},{id:"invitations",label:"",count:c.length}].map(w=>n.jsxs("button",{onClick:()=>g(w.id),className:`flex-1 px-4 py-3 text-sm font-medium rounded-md transition-colors ${C===w.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[w.label," (",w.count,")"]},w.id))}),ae&&n.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-blue-800",children:[" ",X.size," "]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:U,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"  "}),n.jsx("button",{onClick:E,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:""})]})]})}),n.jsxs("div",{className:"mb-6 space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(_n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:" ...",value:j,onChange:w=>N(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),j&&n.jsx("button",{onClick:()=>N(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(Ze,{size:18})})]}),n.jsxs("button",{onClick:()=>de(!se),className:`flex items-center px-4 py-3 border rounded-lg transition-colors relative ${se?"bg-blue-50 border-blue-300 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(N0,{size:20,className:"mr-2"}),"",Be()>0&&n.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:Be()}),n.jsx(xu,{size:16,className:`ml-2 transition-transform ${se?"rotate-180":""}`})]}),n.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[n.jsx("button",{onClick:()=>pe("grid"),className:`p-3 ${le==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:n.jsx(yu,{size:18})}),n.jsx("button",{onClick:()=>pe("list"),className:`p-3 ${le==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:n.jsx(vu,{size:18})})]})]}),se&&n.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsxs("select",{value:P.category,onChange:w=>J(M=>({...M,category:w.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:" "}),na.map(w=>n.jsx("option",{value:w,children:w},w))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsxs("select",{value:P.memberCount,onChange:w=>J(M=>({...M,memberCount:w.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:" "}),n.jsx("option",{value:"small",children:" (<50)"}),n.jsx("option",{value:"medium",children:" (50-200)"}),n.jsx("option",{value:"large",children:" (>200)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsxs("select",{value:P.privacy,onChange:w=>J(M=>({...M,privacy:w.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:""}),n.jsx("option",{value:"public",children:""}),n.jsx("option",{value:"private",children:""})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsxs("select",{value:P.activity,onChange:w=>J(M=>({...M,activity:w.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:""}),n.jsx("option",{value:"active",children:""}),n.jsx("option",{value:"inactive",children:""})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsxs("select",{value:P.sortBy,onChange:w=>J(M=>({...M,sortBy:w.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"activity",children:""}),n.jsx("option",{value:"name",children:""}),n.jsx("option",{value:"members",children:" "}),n.jsx("option",{value:"created",children:" "}),n.jsx("option",{value:"popularity",children:""})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:P.hasAvatar,onChange:w=>J(M=>({...M,hasAvatar:w.target.checked})),className:"rounded border-gray-300 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:P.isVerified,onChange:w=>J(M=>({...M,isVerified:w.target.checked})),className:"rounded border-gray-300 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),n.jsxs("button",{onClick:()=>J(w=>({...w,sortOrder:w.sortOrder==="asc"?"desc":"asc"})),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[n.jsx(ju,{size:16,className:"mr-1"}),P.sortOrder==="asc"?" ":" "]})]}),n.jsx("button",{onClick:ve,className:"text-sm text-blue-600 hover:text-blue-800",children:" "})]})]})]}),n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[j?` ${u.length}   ${xe().length}`:` ${u.length} `,j&&n.jsxs("span",{children:['   "',n.jsx("span",{className:"font-semibold",children:j}),'"']})]}),X.size>0&&n.jsx("button",{onClick:()=>{X.size===u.length?E():(ce(new Set(u.map(w=>w.id))),Ee(!0))},className:"text-sm text-blue-600 hover:text-blue-800",children:X.size===u.length?" ":" "})]}),u.length>0?n.jsx("div",{className:le==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:u.map(Mt)}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(rr,{size:32,className:"text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),n.jsx("p",{className:"text-gray-600 mb-4",children:j||Be()>0?"     ":"    "}),j||Be()>0?n.jsx("button",{onClick:ve,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"  "}):n.jsxs("button",{onClick:()=>I(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Ts,{size:20,className:"mr-2"}),"  "]})]})]})}),B&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),n.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ze,{size:24})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),n.jsx("input",{type:"text",value:z.name,onChange:w=>H(M=>({...M,name:w.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"  "})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsx("textarea",{value:z.description,onChange:w=>H(M=>({...M,description:w.target.value})),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"   "})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsxs("select",{value:z.category,onChange:w=>H(M=>({...M,category:w.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:" "}),na.map(w=>n.jsx("option",{value:w,children:w},w))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsx("input",{type:"text",value:z.location,onChange:w=>H(M=>({...M,location:w.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:", "})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"-"}),n.jsx("input",{type:"url",value:z.website,onChange:w=>H(M=>({...M,website:w.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email  '"}),n.jsx("input",{type:"email",value:z.contactEmail,onChange:w=>H(M=>({...M,contactEmail:w.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contact@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n.jsxs("div",{className:"space-y-2",children:[z.rules.map((w,M)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:w,onChange:ne=>zt(M,ne.target.value),className:"flex-1 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:` ${M+1}`}),z.rules.length>1&&n.jsx("button",{onClick:()=>cs(M),className:"text-red-500 hover:text-red-700",children:n.jsx(Ze,{size:20})})]},M)),n.jsx("button",{onClick:ut,className:"text-blue-600 hover:text-blue-800 text-sm",children:"+  "})]})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:z.isPrivate,onChange:w=>H(M=>({...M,isPrivate:w.target.checked})),className:"rounded border-gray-300 text-blue-600 mr-3"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-900",children:" "}),n.jsx("p",{className:"text-sm text-gray-500",children:"      "})]})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t",children:[n.jsx("button",{onClick:()=>I(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:""}),n.jsx("button",{onClick:Ve,disabled:G||!z.name.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:G?"...":" "})]})]})})}),n.jsx(zw,{isOpen:A,onClose:()=>{F(!1),Y("")},onUpload:he,groupId:$})]})}function Uw(){var je,$e,ke,Le;const{groupId:e}=Ux(),t=nr(),[r,s]=p.useState(null),[i,a]=p.useState([]),[l,o]=p.useState([]),[c,d]=p.useState(null),[u,h]=p.useState(null),[f,v]=p.useState(!0),[j,N]=p.useState("posts"),[C,g]=p.useState(""),[m,x]=p.useState([]),[k,O]=p.useState(!1),[B,I]=p.useState(!1),[A,F]=p.useState(""),[$,Y]=p.useState(null),[G,Z]=p.useState(!1);p.useEffect(()=>{se()},[]),p.useEffect(()=>{c&&e&&(de(),le(),pe(),P())},[c,e]);const se=async()=>{try{const{data:{user:V},error:ee}=await K.auth.getUser();if(ee||!V){t("/login");return}const{data:Ne,error:xe}=await K.from("user_profiles").select("*").eq("auth_user_id",V.id).single();if(xe){console.error("Error fetching user profile:",xe);return}d(Ne)}catch(V){console.error("Error fetching current user:",V)}},de=async()=>{try{const{data:V,error:ee}=await K.from("groups").select(`
          *,
          created_by_profile:user_profiles!groups_created_by_fkey(name, last_name, avatar)
        `).eq("id",e).single();if(ee)throw ee;s(V)}catch(V){console.error("Error fetching group details:",V),t("/groups")}finally{v(!1)}},le=async()=>{try{const{data:V,error:ee}=await K.from("group_posts").select(`
          *,
          author:user_profiles!group_posts_author_id_fkey(name, last_name, avatar),
          media:group_post_media(*)
        `).eq("group_id",e).order("created_at",{ascending:!1});if(ee)throw ee;a(V||[])}catch(V){console.error("Error fetching group posts:",V)}},pe=async()=>{try{const{data:V,error:ee}=await K.from("group_members").select(`
          *,
          user:user_profiles!group_members_user_id_fkey(name, last_name, avatar)
        `).eq("group_id",e).order("joined_at",{ascending:!1});if(ee)throw ee;o(V||[])}catch(V){console.error("Error fetching group members:",V)}},P=async()=>{try{if(!c)return;const{data:V,error:ee}=await K.from("group_members").select("*").eq("group_id",e).eq("user_id",c.id).single();if(ee&&ee.code!=="PGRST116")throw ee;h(V)}catch(V){console.error("Error checking user membership:",V)}},J=async()=>{try{if(!c)return;const{error:V}=await K.from("group_members").insert([{group_id:e,user_id:c.id,role:"member"}]);if(V)throw V;P(),pe(),alert("    !")}catch(V){console.error("Error joining group:",V),alert("    ")}},X=async()=>{try{if(!c||!u)return;if(u.role==="admin"){alert("    ");return}const{error:V}=await K.from("group_members").delete().eq("group_id",e).eq("user_id",c.id);if(V)throw V;h(null),pe(),alert("  ")}catch(V){console.error("Error leaving group:",V),alert("    ")}},ce=V=>{const ee=Array.from(V.target.files);x(ee)},ae=V=>{x(ee=>ee.filter((Ne,xe)=>xe!==V))},Ee=async V=>{if(V.preventDefault(),!(!c||!u||!C.trim()&&m.length===0))try{O(!0);const{data:ee,error:Ne}=await K.from("group_posts").insert([{group_id:e,author_id:c.id,content:C.trim()}]).select().single();if(Ne)throw Ne;if(m.length>0)for(const xe of m){const Pe=xe.name.split(".").pop(),Ve=`${Date.now()}-${Math.random().toString(36).substring(7)}.${Pe}`,fe=`group-posts/${e}/${Ve}`,ze=xe.type.startsWith("video/")?"video":"image",{error:y}=await K.storage.from("media").upload(fe,xe);if(y)throw y;const{data:{publicUrl:S}}=K.storage.from("media").getPublicUrl(fe);await K.from("group_post_media").insert([{post_id:ee.id,type:ze,url:S,filename:xe.name,file_size:xe.size}])}g(""),x([]),le()}catch(ee){console.error("Error creating post:",ee),alert("   ")}finally{O(!1)}},_=V=>new Date(V).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=V=>{switch(V){case"admin":return"";case"moderator":return"";default:return""}};if(f)return n.jsxs("div",{className:"flex min-h-screen",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 p-8",children:n.jsx("div",{className:"text-center",children:"..."})})]});if(!r)return n.jsxs("div",{className:"flex min-h-screen",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 p-8",children:n.jsx("div",{className:"text-center",children:"  "})})]});const H=!!u,ie=(u==null?void 0:u.role)==="admin";return n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(nt,{}),n.jsxs("div",{className:"flex-1 ml-64",children:[n.jsx("div",{className:"bg-white border-b border-gray-200",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-8 py-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>t("/groups"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(A1,{size:20})}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mr-4",children:r.avatar?n.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full rounded-full object-cover"}):n.jsx(rr,{size:24,className:"text-gray-400"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mr-2",children:r.name}),r.is_private?n.jsx(Er,{size:16,className:"text-gray-500"}):n.jsx(Ps,{size:16,className:"text-gray-500"})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[n.jsxs("span",{children:[r.member_count||l.length," "]}),n.jsx("span",{children:""}),n.jsxs("span",{children:[" ",_(r.created_at)]})]})]})]})]}),n.jsx("div",{className:"flex items-center space-x-3",children:H?n.jsxs(n.Fragment,{children:[!ie&&n.jsxs("button",{onClick:X,className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[n.jsx(rw,{size:18,className:"mr-2"}),""]}),ie&&n.jsxs("button",{className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[n.jsx(Cl,{size:18,className:"mr-2"}),""]})]}):n.jsxs("button",{onClick:J,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(Si,{size:18,className:"mr-2"}),""]})})]}),r.description&&n.jsx("p",{className:"mt-4 text-gray-600",children:r.description})]})}),n.jsx("div",{className:"max-w-6xl mx-auto px-8 py-6",children:H?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[n.jsxs("button",{onClick:()=>N("posts"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${j==="posts"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[" (",i.length,")"]}),n.jsxs("button",{onClick:()=>N("members"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${j==="members"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[" (",l.length,")"]}),n.jsx("button",{onClick:()=>N("info"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${j==="info"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:""})]})}),j==="posts"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:n.jsx("form",{onSubmit:Ee,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:c!=null&&c.avatar?n.jsx("img",{src:c.avatar,alt:c.name,className:"w-full h-full rounded-full object-cover"}):n.jsx("span",{className:"text-sm text-gray-600",children:($e=(je=c==null?void 0:c.name)==null?void 0:je[0])==null?void 0:$e.toUpperCase()})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("textarea",{value:C,onChange:V=>g(V.target.value),placeholder:"   ...",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3}),m.length>0&&n.jsx("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-2",children:m.map((V,ee)=>n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:V.type.startsWith("image/")?n.jsx("img",{src:URL.createObjectURL(V),alt:"",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Nu,{size:24,className:"text-gray-400"})})}),n.jsx("button",{type:"button",onClick:()=>ae(ee),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:n.jsx(Ze,{size:12})})]},ee))}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("label",{className:"flex items-center px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg cursor-pointer",children:[n.jsx(ya,{size:18,className:"mr-1"}),n.jsx("span",{className:"text-sm",children:"/"}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:ce})]})}),n.jsxs("button",{type:"submit",disabled:k||!C.trim()&&m.length===0,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[k?n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):n.jsx(j0,{size:16,className:"mr-2"}),k?"...":""]})]})]})]})})}),i.length>0?i.map(V=>{var ee,Ne,xe,Pe,Ve,fe;return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(ee=V.author)!=null&&ee.avatar?n.jsx("img",{src:V.author.avatar,alt:V.author.name,className:"w-full h-full rounded-full object-cover"}):n.jsx("span",{className:"text-sm text-gray-600",children:(Pe=(xe=(Ne=V.author)==null?void 0:Ne.name)==null?void 0:xe[0])==null?void 0:Pe.toUpperCase()})}),n.jsxs("div",{className:"ml-3",children:[n.jsxs("p",{className:"font-medium text-gray-900",children:[(Ve=V.author)==null?void 0:Ve.name," ",(fe=V.author)==null?void 0:fe.last_name]}),n.jsx("p",{className:"text-sm text-gray-500",children:_(V.created_at)})]})]}),n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(yr,{size:16,className:"text-gray-400"})})]})}),V.content&&n.jsx("div",{className:"px-6 pb-4",children:n.jsx("p",{className:"text-gray-900",children:V.content})}),V.media&&V.media.length>0&&n.jsx("div",{className:"px-6 pb-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:V.media.map((ze,y)=>n.jsx("div",{className:"rounded-lg overflow-hidden",children:ze.type==="image"?n.jsx("img",{src:ze.url,alt:"",className:"w-full h-64 object-cover"}):n.jsx("video",{src:ze.url,className:"w-full h-64 object-cover",controls:!0})},y))})}),n.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("button",{className:"flex items-center text-gray-600 hover:text-red-500",children:[n.jsx(Gr,{size:18,className:"mr-1"}),n.jsx("span",{className:"text-sm",children:""})]}),n.jsxs("button",{className:"flex items-center text-gray-600 hover:text-blue-500",children:[n.jsx(Nr,{size:18,className:"mr-1"}),n.jsx("span",{className:"text-sm",children:""})]}),n.jsxs("button",{className:"flex items-center text-gray-600 hover:text-green-500",children:[n.jsx(tw,{size:18,className:"mr-1"}),n.jsx("span",{className:"text-sm",children:""})]})]})})})]},V.id)}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Nr,{size:32,className:"text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"   "}),n.jsx("p",{className:"text-gray-600",children:" ,    !"})]})]}),j==="members"&&n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["  (",l.length,")"]}),n.jsx("div",{className:"space-y-4",children:l.map(V=>{var ee,Ne,xe,Pe,Ve,fe,ze;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(ee=V.user)!=null&&ee.avatar?n.jsx("img",{src:V.user.avatar,alt:V.user.name,className:"w-full h-full rounded-full object-cover"}):n.jsx("span",{className:"text-lg text-gray-600",children:(Pe=(xe=(Ne=V.user)==null?void 0:Ne.name)==null?void 0:xe[0])==null?void 0:Pe.toUpperCase()})}),n.jsxs("div",{className:"ml-4",children:[n.jsxs("p",{className:"font-medium text-gray-900",children:[(Ve=V.user)==null?void 0:Ve.name," ",(fe=V.user)==null?void 0:fe.last_name]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${V.role==="admin"?"bg-red-100 text-red-800":V.role==="moderator"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:z(V.role)}),n.jsxs("span",{className:"ml-2",children:[" ",_(V.joined_at)]})]})]})]}),ie&&((ze=V.user)==null?void 0:ze.id)!==(c==null?void 0:c.id)&&n.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:n.jsx(yr,{size:16})})]},V.id)})})]})}),j==="info"&&n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 max-w-xl mx-auto",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative w-24 h-24 mb-4",children:[n.jsx("img",{src:$?URL.createObjectURL($):r.avatar||"",alt:"Group avatar",className:"w-24 h-24 rounded-full object-cover border border-gray-200"}),ie&&n.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white rounded-full p-1 cursor-pointer hover:bg-blue-700",children:[n.jsx(xn,{size:16}),n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:V=>Y(V.target.files[0])})]})]}),n.jsx("h2",{className:"text-2xl font-bold mb-2",children:r.name}),n.jsxs("div",{className:"text-gray-600 mb-2",children:[": ",_(r.created_at)]}),n.jsxs("div",{className:"text-gray-600 mb-2",children:[": ",((Le=(ke=l.find(V=>V.role==="admin"))==null?void 0:ke.user)==null?void 0:Le.name)||""]}),B?n.jsxs(n.Fragment,{children:[n.jsx("textarea",{className:"w-full border rounded p-2 mb-2",rows:3,value:A,onChange:V=>F(V.target.value)}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:G,onClick:async()=>{Z(!0);let V=r.avatar;if($){const Ne=$.name.split(".").pop(),xe=`${Date.now()}-${Math.random().toString(36).substring(7)}.${Ne}`,Pe=`group-avatars/${e}/${xe}`,{error:Ve}=await K.storage.from("media").upload(Pe,$);if(!Ve){const{data:{publicUrl:fe}}=K.storage.from("media").getPublicUrl(Pe);V=fe}}const{error:ee}=await K.from("groups").update({description:A,avatar:V}).eq("id",e);ee||(s({...r,description:A,avatar:V}),I(!1),Y(null)),Z(!1)},children:""}),n.jsx("button",{className:"px-4 py-2 border rounded hover:bg-gray-100",onClick:()=>{I(!1),F(r.description||""),Y(null)},children:""})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-4 text-gray-800 w-full text-center min-h-[48px]",children:r.description||" "}),ie&&n.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>{I(!0),F(r.description||"")},children:" "})]})]})})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Er,{size:32,className:"text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),n.jsx("p",{className:"text-gray-600 mb-6",children:"       ,   "}),n.jsxs("button",{onClick:J,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mx-auto",children:[n.jsx(Si,{size:18,className:"mr-2"}),"  "]})]})})]})]})}function Dw(){const[e,t]=p.useState([]),[r,s]=p.useState([]),[i,a]=p.useState([]),[l,o]=p.useState(""),[c,d]=p.useState(!0),[u,h]=p.useState(null),[f,v]=p.useState(!1),[j,N]=p.useState("grid"),[C,g]=p.useState({city:"",onlineStatus:"all",friendStatus:"all",sortBy:"date",sortOrder:"desc",hasAvatar:!1,hasBio:!1}),[m,x]=p.useState([]),[k,O]=p.useState(new Set),[B,I]=p.useState(!1),A=nr();p.useEffect(()=>{F(),$()},[]),p.useEffect(()=>{G()},[l,e,C,i]);const F=async()=>{try{const{data:{user:_},error:z}=await K.auth.getUser();if(z||!_){A("/login");return}h(_.id);const{data:H,error:ie}=await K.from("users").select("*").order("date",{ascending:!1});if(ie)throw ie;let je=H||[];je=je.filter(ke=>ke&&ke.id&&ke.name&&ke.lastName&&ke.email),je=je.map(ke=>({...ke,isOnline:Math.random()>.7,lastSeen:new Date(Date.now()-Math.random()*7*24*60*60*1e3).toISOString(),friendsCount:Math.floor(Math.random()*100),postsCount:Math.floor(Math.random()*50)})),t(je);const $e=[...new Set(je.filter(ke=>ke.city).map(ke=>ke.city))].sort();x($e)}catch(_){console.error("Error fetching users:",_),t([]),s([])}finally{d(!1)}},$=async()=>{try{const{data:{user:_}}=await K.auth.getUser();if(!_)return;const{data:z,error:H}=await K.from("friends").select("*").or(`user_id.eq.${_.id},friend_id.eq.${_.id}`);if(H)throw H;a(z||[])}catch(_){console.error("Error fetching friend requests:",_)}},Y=_=>{if(!u)return"not_friends";if(_===u)return"self";const z=i.find(H=>H.user_id===u&&H.friend_id===_||H.user_id===_&&H.friend_id===u);return z?z.status==="accepted"?"friends":z.status==="pending"?z.user_id===u?"sent":"received":"not_friends":"not_friends"},G=()=>{let _=[...e];l.trim()!==""&&(_=_.filter(z=>z.name.toLowerCase().includes(l.toLowerCase())||z.lastName.toLowerCase().includes(l.toLowerCase())||z.email.toLowerCase().includes(l.toLowerCase())||z.city&&z.city.toLowerCase().includes(l.toLowerCase())||z.bio&&z.bio.toLowerCase().includes(l.toLowerCase()))),C.city&&(_=_.filter(z=>z.city===C.city)),C.onlineStatus!=="all"&&(_=_.filter(z=>C.onlineStatus==="online"?z.isOnline:!z.isOnline)),C.friendStatus!=="all"&&(_=_.filter(z=>{const H=Y(z.auth_user_id);switch(C.friendStatus){case"friends":return H==="friends";case"not_friends":return H==="not_friends";case"pending":return H==="sent"||H==="received";default:return!0}})),C.hasAvatar&&(_=_.filter(z=>z.avatar)),C.hasBio&&(_=_.filter(z=>z.bio&&z.bio.trim()!=="")),_.sort((z,H)=>{let ie=0;switch(C.sortBy){case"name":ie=`${z.name} ${z.lastName}`.localeCompare(`${H.name} ${H.lastName}`);break;case"date":ie=new Date(z.date).getTime()-new Date(H.date).getTime();break;case"city":ie=(z.city||"").localeCompare(H.city||"");break;case"lastSeen":z.isOnline&&!H.isOnline?ie=-1:!z.isOnline&&H.isOnline?ie=1:ie=new Date(H.lastSeen||0).getTime()-new Date(z.lastSeen||0).getTime();break;case"popularity":ie=(H.friendsCount||0)-(z.friendsCount||0);break}return C.sortOrder==="asc"?ie:-ie}),s(_)},Z=async _=>{try{if(!u)return;if(_===u){alert("      !");return}if(i.find(ie=>ie.user_id===u&&ie.friend_id===_||ie.user_id===_&&ie.friend_id===u)){alert("    !");return}const{error:H}=await K.from("friends").insert([{user_id:u,friend_id:_,status:"pending"}]);if(H)throw H;alert("   !"),$()}catch(z){console.error("Error adding friend:",z),alert("    ")}},se=async(_,z)=>{try{const{error:H}=await K.from("friends").update({status:z==="accept"?"accepted":"rejected"}).eq("id",_);if(H)throw H;alert(z==="accept"?" !":" !"),$()}catch(H){console.error("Error handling friend request:",H),alert("   ")}},de=async _=>{try{if(!u)return;const{error:z}=await K.from("friends").delete().or(`and(user_id.eq.${u},friend_id.eq.${_}),and(user_id.eq.${_},friend_id.eq.${u})`);if(z)throw z;alert("   !"),$()}catch(z){console.error("Error removing friend:",z),alert("    ")}},le=_=>{const z=new Set(k);z.has(_)?z.delete(_):z.add(_),O(z),I(z.size>0)},pe=()=>{O(new Set),I(!1)},P=async()=>{for(const _ of k)await Z(_);pe()},J=()=>{g({city:"",onlineStatus:"all",friendStatus:"all",sortBy:"date",sortOrder:"desc",hasAvatar:!1,hasBio:!1}),o("")},X=_=>new Date(_).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric"}),ce=(_,z)=>{if(z)return"";if(!_)return"  '";const H=Date.now()-new Date(_).getTime(),ie=Math.floor(H/(1e3*60)),je=Math.floor(H/(1e3*60*60)),$e=Math.floor(H/(1e3*60*60*24));return ie<60?`${ie}  `:je<24?`${je}  `:`${$e}  `},ae=()=>{let _=0;return C.city&&_++,C.onlineStatus!=="all"&&_++,C.friendStatus!=="all"&&_++,(C.sortBy!=="date"||C.sortOrder!=="desc")&&_++,C.hasAvatar&&_++,C.hasBio&&_++,_},Ee=_=>{var ie,je,$e,ke,Le,V;const z=Y(_.auth_user_id),H=k.has(_.id);return j==="list"?n.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-all duration-200 ${H?"ring-2 ring-blue-500 bg-blue-50":""}`,children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"checkbox",checked:H,onChange:()=>le(_.id),className:"absolute top-0 left-0 w-4 h-4 rounded border-gray-300 text-blue-600"}),n.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl font-bold overflow-hidden ml-6",children:[_.avatar?n.jsx("img",{src:_.avatar,alt:_.name,className:"w-full h-full rounded-full object-cover"}):n.jsxs("span",{children:[(ie=_.name[0])==null?void 0:ie.toUpperCase(),(je=_.lastName[0])==null?void 0:je.toUpperCase()]}),_.isOnline&&n.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-green-500 border-2 border-white rounded-full"})]})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:[_.name," ",_.lastName]}),(($e=_.privacy)==null?void 0:$e.profileVisibility)==="private"&&n.jsx(Er,{size:16,className:"text-gray-400"}),z==="friends"&&n.jsx(va,{size:16,className:"text-green-500"})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ja,{size:14,className:"mr-1"}),X(_.date)]}),_.city&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ns,{size:14,className:"mr-1"}),_.city]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(xa,{size:14,className:"mr-1"}),ce(_.lastSeen,_.isOnline)]})]}),_.bio&&n.jsx("p",{className:"text-gray-600 text-sm mt-2 line-clamp-2",children:_.bio}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-2",children:[n.jsxs("span",{children:[_.friendsCount," "]}),n.jsxs("span",{children:[_.postsCount," "]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[z==="self"?n.jsx("button",{className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium cursor-default",disabled:!0,children:" "}):z==="friends"?n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>de(_.auth_user_id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:"  "}),n.jsx("button",{onClick:()=>A(`/messages?user=${_.id}`),className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:n.jsx(Nr,{size:16})})]}):z==="sent"?n.jsx("button",{className:"px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg text-sm font-medium cursor-default",disabled:!0,children:" "}):z==="received"?n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{const ee=i.find(Ne=>Ne.user_id===_.auth_user_id);ee&&se(ee.id,"accept")},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:""}),n.jsx("button",{onClick:()=>{const ee=i.find(Ne=>Ne.user_id===_.auth_user_id);ee&&se(ee.id,"reject")},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:""})]}):n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Z(_.auth_user_id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"  "}),n.jsx("button",{onClick:()=>A(`/messages?user=${_.id}`),className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:n.jsx(Nr,{size:16})})]}),n.jsx("button",{className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:n.jsx(yr,{size:16})})]})]})},_.id):n.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-200 cursor-pointer group hover:scale-105 ${H?"ring-2 ring-blue-500":""}`,onClick:()=>A(`/profile/${_.id}`),children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"checkbox",checked:H,onChange:ee=>{ee.stopPropagation(),le(_.id)},className:"absolute top-3 left-3 w-4 h-4 rounded border-gray-300 text-blue-600 z-10"}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsxs("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl font-bold overflow-hidden flex-shrink-0",children:[_.avatar?n.jsx("img",{src:_.avatar,alt:_.name,className:"w-full h-full rounded-full object-cover"}):n.jsxs("span",{children:[(ke=_.name[0])==null?void 0:ke.toUpperCase(),(Le=_.lastName[0])==null?void 0:Le.toUpperCase()]}),_.isOnline&&n.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-green-500 border-2 border-white rounded-full"})]}),n.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:[_.name," ",_.lastName]}),((V=_.privacy)==null?void 0:V.profileVisibility)==="private"&&n.jsx(Er,{size:16,className:"text-gray-400"}),z==="friends"&&n.jsx(va,{size:16,className:"text-green-500"})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[n.jsx(xa,{size:14,className:"mr-1 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:ce(_.lastSeen,_.isOnline)})]})]})]}),_.bio&&n.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:_.bio}),n.jsxs("div",{className:"space-y-2 mb-4",children:[_.city&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Ns,{size:14,className:"mr-2 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:_.city})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Ja,{size:14,className:"mr-2 text-gray-400 flex-shrink-0"}),n.jsxs("span",{className:"truncate",children:[" ",X(_.date)]})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("span",{children:[_.friendsCount," "]}),n.jsxs("span",{children:[_.postsCount," "]})]})]}),n.jsxs("div",{className:"flex space-x-2",onClick:ee=>ee.stopPropagation(),children:[z==="self"?n.jsxs("button",{className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium cursor-default",disabled:!0,children:[n.jsx(Za,{size:16,className:"mr-1"})," "]}):z==="friends"?n.jsxs("button",{onClick:()=>de(_.auth_user_id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:[n.jsx(sw,{size:16,className:"mr-1"}),""]}):z==="sent"?n.jsxs("button",{className:"flex-1 flex items-center justify-center px-3 py-2 bg-yellow-100 text-yellow-700 rounded-lg text-sm font-medium cursor-default",disabled:!0,children:[n.jsx(xa,{size:16,className:"mr-1"}),""]}):z==="received"?n.jsxs("button",{onClick:()=>{const ee=i.find(Ne=>Ne.user_id===_.auth_user_id);ee&&se(ee.id,"accept")},className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:[n.jsx(va,{size:16,className:"mr-1"}),""]}):n.jsxs("button",{onClick:()=>Z(_.auth_user_id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[n.jsx(Si,{size:16,className:"mr-1"}),""]}),z!=="self"&&n.jsx("button",{onClick:()=>A(`/messages?user=${_.id}`),className:"flex items-center justify-center px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",title:" ",children:n.jsx(Nr,{size:16})})]})]})]})},_.id)};return c?n.jsxs("div",{className:"flex min-h-screen",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 p-8",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:" ..."})]})})]}):n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),n.jsx("p",{className:"text-gray-600",children:"      "})]}),B&&n.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-blue-800",children:[" ",k.size," "]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"   "}),n.jsx("button",{onClick:pe,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:""})]})]})}),n.jsxs("div",{className:"mb-6 space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(_n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"   ...",value:l,onChange:_=>o(_.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l&&n.jsx("button",{onClick:()=>o(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(Ze,{size:18})})]}),n.jsxs("button",{onClick:()=>v(!f),className:`flex items-center px-4 py-3 border rounded-lg transition-colors relative ${f?"bg-blue-50 border-blue-300 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(N0,{size:20,className:"mr-2"}),"",ae()>0&&n.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:ae()}),n.jsx(xu,{size:16,className:`ml-2 transition-transform ${f?"rotate-180":""}`})]}),n.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[n.jsx("button",{onClick:()=>N("grid"),className:`p-3 ${j==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:n.jsx(yu,{size:18})}),n.jsx("button",{onClick:()=>N("list"),className:`p-3 ${j==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:n.jsx(vu,{size:18})})]})]}),f&&n.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsxs("select",{value:C.city,onChange:_=>g(z=>({...z,city:_.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:" "}),m.map(_=>n.jsx("option",{value:_,children:_},_))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n.jsxs("select",{value:C.onlineStatus,onChange:_=>g(z=>({...z,onlineStatus:_.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:""}),n.jsx("option",{value:"online",children:""}),n.jsx("option",{value:"offline",children:""})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n.jsxs("select",{value:C.friendStatus,onChange:_=>g(z=>({...z,friendStatus:_.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:""}),n.jsx("option",{value:"friends",children:""}),n.jsx("option",{value:"not_friends",children:" "}),n.jsx("option",{value:"pending",children:" "})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n.jsxs("select",{value:C.sortBy,onChange:_=>g(z=>({...z,sortBy:_.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"date",children:" "}),n.jsx("option",{value:"name",children:"'"}),n.jsx("option",{value:"city",children:""}),n.jsx("option",{value:"lastSeen",children:" "}),n.jsx("option",{value:"popularity",children:""})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:C.hasAvatar,onChange:_=>g(z=>({...z,hasAvatar:_.target.checked})),className:"rounded border-gray-300 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:C.hasBio,onChange:_=>g(z=>({...z,hasBio:_.target.checked})),className:"rounded border-gray-300 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),n.jsxs("button",{onClick:()=>g(_=>({..._,sortOrder:_.sortOrder==="asc"?"desc":"asc"})),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[n.jsx($1,{size:16,className:"mr-1"}),C.sortOrder==="asc"?" ":" "]})]}),n.jsx("button",{onClick:J,className:"text-sm text-blue-600 hover:text-blue-800",children:" "})]})]})]}),n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[l?` ${r.length}   ${e.length}`:` ${r.length} `,l&&n.jsxs("span",{children:['   "',n.jsx("span",{className:"font-semibold",children:l}),'"']})]}),k.size>0&&n.jsx("button",{onClick:()=>{k.size===r.length?pe():(O(new Set(r.map(_=>_.id))),I(!0))},className:"text-sm text-blue-600 hover:text-blue-800",children:k.size===r.length?" ":" "})]}),r.length>0?n.jsx("div",{className:j==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:r.map(Ee)}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(rr,{size:32,className:"text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),n.jsx("p",{className:"text-gray-600 mb-4",children:l||ae()>0?"     ":"    "}),(l||ae()>0)&&n.jsx("button",{onClick:J,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"  "})]})]})})]})}class vr{static async getAllGames(t,r){try{let s=K.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).order("created_at",{ascending:!1});t&&t!=="other"&&(s=s.eq("category",t)),r&&r.length>=2&&(s=s.ilike("title",`%${r}%`));const{data:i,error:a}=await s;if(a)throw a;return i||[]}catch(s){return console.error("Error fetching games:",s),[]}}static async getGameById(t){try{const{data:r,error:s}=await K.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("id",t).eq("is_active",!0).single();if(s)throw s;return r}catch(r){return console.error("Error fetching game:",r),null}}static async createGame(t){try{const r=await gs.getCurrentUserProfile();if(!r)return null;const{data:s,error:i}=await K.from("games").insert([{...t,developer_id:r.id.toString()}]).select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).single();if(i)throw i;return s}catch(r){return console.error("Error creating game:",r),null}}static async updateGame(t,r){try{const{error:s}=await K.from("games").update({...r,updated_at:new Date().toISOString()}).eq("id",t);if(s)throw s;return!0}catch(s){return console.error("Error updating game:",s),!1}}static async deleteGame(t){try{const{error:r}=await K.from("games").delete().eq("id",t);if(r)throw r;return!0}catch(r){return console.error("Error deleting game:",r),!1}}static async getGamesByDeveloper(){try{const t=await gs.getCurrentUserProfile();if(!t)return[];const{data:r,error:s}=await K.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("developer_id",t.id.toString()).order("created_at",{ascending:!1});if(s)throw s;return r||[]}catch(t){return console.error("Error fetching developer games:",t),[]}}static async recordGamePlay(t,r=0){try{const s=await gs.getCurrentUserProfile();if(!s)return!1;const{error:i}=await K.from("game_plays").insert([{game_id:t,user_id:s.id.toString(),duration:r}]);if(i)throw i;return!0}catch(s){return console.error("Error recording game play:",s),!1}}static async rateGame(t,r,s=""){try{const i=await gs.getCurrentUserProfile();if(!i)return!1;const{error:a}=await K.from("game_ratings").upsert([{game_id:t,user_id:i.id.toString(),rating:r,review:s}]);if(a)throw a;return!0}catch(i){return console.error("Error rating game:",i),!1}}static async getGameRatings(t){try{const{data:r,error:s}=await K.from("game_ratings").select(`
          *,
          user:users!game_ratings_user_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("game_id",t).order("created_at",{ascending:!1});if(s)throw s;return r||[]}catch(r){return console.error("Error fetching game ratings:",r),[]}}static async getUserGameRating(t){try{const r=await gs.getCurrentUserProfile();if(!r)return null;const{data:s,error:i}=await K.from("game_ratings").select("*").eq("game_id",t).eq("user_id",r.id.toString()).single();if(i){if(i.code==="PGRST116")return null;throw i}return s}catch(r){return console.error("Error fetching user game rating:",r),null}}static async getPopularGames(t=10){try{const{data:r,error:s}=await K.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).order("play_count",{ascending:!1}).limit(t);if(s)throw s;return r||[]}catch(r){return console.error("Error fetching popular games:",r),[]}}static async getTopRatedGames(t=10){try{const{data:r,error:s}=await K.from("games").select(`
          *,
          developer:users!games_developer_id_fkey (
            name,
            lastName,
            avatar
          )
        `).eq("is_active",!0).gt("rating",0).order("rating",{ascending:!1}).limit(t);if(s)throw s;return r||[]}catch(r){return console.error("Error fetching top rated games:",r),[]}}}function Iw({game:e,onPlay:t}){var i,a,l,o,c,d;const r=u=>({action:"",puzzle:"",strategy:"",arcade:"",adventure:"",simulation:"",sports:"",racing:"",other:""})[u]||u,s=u=>u>=1e3?`${(u/1e3).toFixed(1)}k`:u.toString();return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[n.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-500 to-purple-600 overflow-hidden",children:[e.thumbnail?n.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(ur,{className:"text-white opacity-50",size:48})}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsxs("button",{onClick:t,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(ur,{size:20,className:"mr-2"}),""]})}),n.jsx("div",{className:"absolute top-3 left-3",children:n.jsx("span",{className:"px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded-full",children:r(e.category)})}),e.rating>0&&n.jsx("div",{className:"absolute top-3 right-3",children:n.jsxs("div",{className:"flex items-center px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded-full",children:[n.jsx(pc,{size:12,className:"mr-1 fill-current text-yellow-400"}),e.rating.toFixed(1)]})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:e.title}),n.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description||" "}),n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-2",children:(i=e.developer)!=null&&i.avatar?n.jsx("img",{src:e.developer.avatar,alt:e.developer.name,className:"w-full h-full rounded-full object-cover"}):n.jsx("span",{className:"text-xs text-gray-600",children:(o=(l=(a=e.developer)==null?void 0:a.name)==null?void 0:l[0])==null?void 0:o.toUpperCase()})}),n.jsxs("span",{className:"text-sm text-gray-600",children:[(c=e.developer)==null?void 0:c.name," ",(d=e.developer)==null?void 0:d.lastName]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(b0,{size:16,className:"mr-1"}),n.jsxs("span",{children:[s(e.play_count)," "]})]}),n.jsx("span",{children:new Date(e.created_at).toLocaleDateString("uk-UA")})]}),n.jsxs("button",{onClick:t,className:"w-full mt-4 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(ur,{size:18,className:"mr-2"})," "]})]})]})}const Fw=[{value:"action",label:""},{value:"puzzle",label:""},{value:"strategy",label:""},{value:"arcade",label:""},{value:"adventure",label:""},{value:"simulation",label:""},{value:"sports",label:""},{value:"racing",label:""},{value:"other",label:""}];function Vw({onClose:e,onSubmit:t}){const[r,s]=p.useState(""),[i,a]=p.useState(""),[l,o]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState("other"),[f,v]=p.useState(!1),j=async N=>{if(N.preventDefault(),!(!r.trim()||!c.trim())){v(!0);try{await t({title:r.trim(),description:i.trim(),thumbnail:l.trim()||void 0,game_url:c.trim(),category:u})}finally{v(!1)}}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"  "}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ze,{size:24})})]}),n.jsxs("form",{onSubmit:j,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),n.jsx("input",{type:"text",value:r,onChange:N=>s(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  ",required:!0,maxLength:100})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n.jsx("textarea",{value:i,onChange:N=>a(N.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ...",maxLength:500})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),n.jsx("select",{value:u,onChange:N=>h(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Fw.map(N=>n.jsx("option",{value:N.value,children:N.label},N.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL  *"}),n.jsxs("div",{className:"relative",children:[n.jsx(H1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"url",value:c,onChange:N=>d(N.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/game.html",required:!0})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  HTML    -  "})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (URL)"}),n.jsxs("div",{className:"relative",children:[n.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"url",value:l,onChange:N=>o(N.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/thumbnail.jpg"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  -  (')"})]}),l&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:":"}),n.jsx("img",{src:l,alt:"Game thumbnail preview",className:"w-full h-32 object-cover rounded-lg",onError:N=>{N.currentTarget.style.display="none"}})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:""}),n.jsx("button",{type:"submit",disabled:f||!r.trim()||!c.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"...":" "})]})]})]})})}function Bw({game:e,onClose:t}){var A,F;const[r,s]=p.useState(!1),[i,a]=p.useState(null),[l,o]=p.useState([]),[c,d]=p.useState(0),[u,h]=p.useState(""),[f,v]=p.useState(!1),[j]=p.useState(Date.now()),[N,C]=p.useState(!1);p.useEffect(()=>{g(),m(),x()},[e.id]);const g=async()=>{const $=await vr.getGameRatings(e.id);o($)},m=async()=>{const $=await vr.getUserGameRating(e.id);a($),$&&(d($.rating),h($.review))},x=async()=>{await vr.recordGamePlay(e.id)},k=async $=>{if($.preventDefault(),c===0)return;C(!0),await vr.rateGame(e.id,c,u)&&(await g(),await m(),v(!1)),C(!1)},O=async()=>{const $=Math.floor((Date.now()-j)/1e3);$>10&&await vr.recordGamePlay(e.id,$),t()},B=()=>{s(!r)},I=($,Y=!1,G)=>n.jsx("div",{className:"flex",children:[1,2,3,4,5].map(Z=>n.jsx("button",{type:Y?"button":void 0,onClick:Y&&G?()=>G(Z):void 0,className:`${Y?"cursor-pointer hover:scale-110":"cursor-default"} transition-transform`,disabled:!Y,children:n.jsx(pc,{size:20,className:`${Z<=$?"text-yellow-400 fill-current":"text-gray-300"}`})},Z))});return n.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 ${r?"p-0":"p-4"}`,children:n.jsxs("div",{className:`bg-white rounded-lg shadow-xl ${r?"w-full h-full rounded-none":"w-full max-w-6xl h-[90vh]"} flex flex-col`,children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mr-4",children:e.title}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(pc,{size:16,className:"mr-1 text-yellow-400 fill-current"}),n.jsxs("span",{children:[e.rating.toFixed(1)," (",l.length," )"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:B,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",title:r?"   ":" ",children:n.jsx(K1,{size:20})}),n.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",title:" ",children:n.jsx(ew,{size:20})}),n.jsx("button",{onClick:O,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:n.jsx(Ze,{size:20})})]})]}),n.jsxs("div",{className:"flex-1 flex",children:[n.jsx("div",{className:"flex-1 bg-gray-100",children:n.jsx("iframe",{src:e.game_url,className:"w-full h-full border-0",title:e.title,allowFullScreen:!0,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-pointer-lock"})}),!r&&n.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 overflow-y-auto",children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" "}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description||" "}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:":"}),n.jsxs("span",{className:"text-gray-900",children:[(A=e.developer)==null?void 0:A.name," ",(F=e.developer)==null?void 0:F.lastName]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:":"}),n.jsx("span",{className:"text-gray-900",children:e.category})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:":"}),n.jsxs("span",{className:"text-gray-900",children:[e.play_count," "]})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:""}),!i&&n.jsx("button",{onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:""})]}),f&&n.jsxs("form",{onSubmit:k,className:"mb-4 p-3 bg-white rounded-lg border",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" :"}),I(c,!0,d)]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ('):"}),n.jsx("textarea",{value:u,onChange:$=>h($.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ..."})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:""}),n.jsx("button",{type:"submit",disabled:N||c===0,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 disabled:opacity-50",children:N?"...":""})]})]}),i&&n.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:" :"}),n.jsx("button",{onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:""})]}),I(i.rating),i.review&&n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:i.review})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx(qn,{size:18,className:"mr-2"})," (",l.length,")"]}),n.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:l.length>0?l.map($=>{var Y,G,Z,se,de,le;return n.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-2",children:(Y=$.user)!=null&&Y.avatar?n.jsx("img",{src:$.user.avatar,alt:$.user.name,className:"w-full h-full rounded-full object-cover"}):n.jsx("span",{className:"text-xs text-gray-600",children:(se=(Z=(G=$.user)==null?void 0:G.name)==null?void 0:Z[0])==null?void 0:se.toUpperCase()})}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[(de=$.user)==null?void 0:de.name," ",(le=$.user)==null?void 0:le.lastName]})]}),I($.rating)]}),$.review&&n.jsx("p",{className:"text-sm text-gray-600",children:$.review}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date($.created_at).toLocaleDateString("uk-UA")})]},$.id)}):n.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"  "})})]})]})})]})]})})}const qw=[{value:"action",label:""},{value:"puzzle",label:""},{value:"strategy",label:""},{value:"arcade",label:""},{value:"adventure",label:""},{value:"simulation",label:""},{value:"sports",label:""},{value:"racing",label:""},{value:"other",label:""}];function Gw(){const[e,t]=p.useState([]),[r,s]=p.useState([]),[i,a]=p.useState([]),[l,o]=p.useState(!0),[c,d]=p.useState(""),[u,h]=p.useState(""),[f,v]=p.useState(!1),[j,N]=p.useState(null),[C,g]=p.useState("all");nr(),p.useEffect(()=>{m(),x(),k()},[]),p.useEffect(()=>{const A=setTimeout(()=>{m()},300);return()=>clearTimeout(A)},[c,u]);const m=async()=>{try{o(!0);const A=await vr.getAllGames(u,c);t(A)}catch(A){console.error("Error loading games:",A)}finally{o(!1)}},x=async()=>{try{const A=await vr.getPopularGames(6);s(A)}catch(A){console.error("Error loading popular games:",A)}},k=async()=>{try{const A=await vr.getTopRatedGames(6);a(A)}catch(A){console.error("Error loading top rated games:",A)}},O=async A=>{const F=await vr.createGame(A);F&&(t($=>[F,...$]),v(!1))},B=A=>{N(A)},I=()=>{switch(C){case"popular":return r;case"top-rated":return i;default:return e}};return n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(nt,{}),n.jsx("div",{className:"flex-1 ml-64 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(oh,{className:"h-8 w-8 text-blue-600 mr-3"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""})]}),n.jsxs("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Ts,{size:20,className:"mr-2"})," "]})]}),n.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg w-fit",children:[n.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${C==="all"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" "}),n.jsxs("button",{onClick:()=>g("popular"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${C==="popular"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(ju,{size:16,className:"mr-1"}),""]}),n.jsxs("button",{onClick:()=>g("top-rated"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${C==="top-rated"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(w0,{size:16,className:"mr-1"}),""]})]}),C==="all"&&n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(_n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:" ...",value:c,onChange:A=>d(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(V1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsxs("select",{value:u,onChange:A=>h(A.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[n.jsx("option",{value:"",children:" "}),qw.map(A=>n.jsx("option",{value:A.value,children:A.label},A.value))]})]})]}),l?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:" ..."})]}):I().length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I().map(A=>n.jsx(Iw,{game:A,onPlay:()=>B(A)},A.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(oh,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:c||u?"  ":" "}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c||u?"     ":"    "}),!c&&!u&&n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[n.jsx(Ts,{className:"-ml-1 mr-2 h-5 w-5"})," "]})})]})]})}),f&&n.jsx(Vw,{onClose:()=>v(!1),onSubmit:O}),j&&n.jsx(Bw,{game:j,onClose:()=>N(null)})]})}function Hw(){return p.useEffect(()=>{(async()=>{var r,s,i,a,l,o,c;const{data:{session:t}}=await K.auth.getSession();if(t!=null&&t.user){const{data:d}=await K.from("users").select("id").eq("email",t.user.email).single();d||await K.from("users").insert([{name:((r=t.user.user_metadata)==null?void 0:r.name)||((i=(s=t.user.user_metadata)==null?void 0:s.full_name)==null?void 0:i.split(" ")[0])||((a=t.user.email)==null?void 0:a.split("@")[0])||"User",lastName:((l=t.user.user_metadata)==null?void 0:l.lastName)||((c=(o=t.user.user_metadata)==null?void 0:o.full_name)==null?void 0:c.split(" ").slice(1).join(" "))||"",email:t.user.email,date:new Date().toISOString(),notifications:{email:!0,messages:!0,friendRequests:!0},privacy:{profileVisibility:"public",showBirthDate:!0,showEmail:!1}}])}})()},[]),null}function Ww(){return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Users,{className:"h-8 w-8 text-blue-600"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx(ki,{to:"/login",className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:""}),n.jsx(ki,{to:"/register",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200",children:""})]})]})})}),n.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-8",children:"    "}),n.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"    ,    ,      ."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",children:""}),n.jsx("p",{className:"text-gray-600",children:"      "})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",children:""}),n.jsx("p",{className:"text-gray-600",children:" ,    "})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",children:""}),n.jsx("p",{className:"text-gray-600",children:"      "})]})]})]})})]})}function Kw(){return n.jsxs(n.Fragment,{children:[n.jsx(Hw,{}),n.jsxs(Yx,{children:[n.jsx(Et,{path:"/",element:n.jsx(Ww,{})}),n.jsx(Et,{path:"/login",element:n.jsx(iw,{})}),n.jsx(Et,{path:"/register",element:n.jsx(aw,{})}),n.jsx(Et,{path:"/profile",element:n.jsx(Tw,{})}),n.jsx(Et,{path:"/reels",element:n.jsx(Rw,{})}),n.jsx(Et,{path:"/messages",element:n.jsx(Ow,{})}),n.jsx(Et,{path:"/friends",element:n.jsx(Aw,{})}),n.jsx(Et,{path:"/people",element:n.jsx(Dw,{})}),n.jsx(Et,{path:"/settings",element:n.jsx($w,{})}),n.jsx(Et,{path:"/groups",element:n.jsx(Mw,{})}),n.jsx(Et,{path:"/groups/:groupId",element:n.jsx(Uw,{})}),n.jsx(Et,{path:"/games",element:n.jsx(Gw,{})})]})]})}Mm(document.getElementById("root")).render(n.jsx(p.StrictMode,{children:n.jsx(ly,{basename:"/Nexus",children:n.jsx(Kw,{})})}));export{z0 as g};
