# –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Supabase –¥–ª—è –ø—Ä–æ–µ–∫—Ç—É Nexus

## –û–≥–ª—è–¥
–î–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö —Ç–∞ storage –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥–≤–∞ SQL —Å–∫—Ä–∏–ø—Ç–∏ –≤ Supabase Dashboard.

## –ö—Ä–æ–∫–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

### 1. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [Supabase Dashboard](https://supabase.com/dashboard)
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É Nexus
3. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ä–æ–∑–¥—ñ–ª **SQL Editor** –≤ –ª—ñ–≤–æ–º—É –º–µ–Ω—é
4. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –∑–∞–ø–∏—Ç (New Query)
5. –°–∫–æ–ø—ñ—é–π—Ç–µ –≤–µ—Å—å –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É `fix_database_issues.sql` —Ç–∞ –≤—Å—Ç–∞–≤—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
6. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Run** –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞

**–¶–µ–π —Å–∫—Ä–∏–ø—Ç –≤–∏–ø—Ä–∞–≤–∏—Ç—å:**
- ‚úÖ –û–±–º–µ–∂–µ–Ω–Ω—è gender_check —É —Ç–∞–±–ª–∏—Ü—ñ user_profiles
- ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—é media –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–¥—ñ–∞—Ñ–∞–π–ª—ñ–≤
- ‚úÖ –í–∏–ø—Ä–∞–≤–∏—Ç—å foreign key –∑–≤'—è–∑–∫–∏ –º—ñ–∂ —Ç–∞–±–ª–∏—Ü—è–º–∏
- ‚úÖ –î–æ–¥–∞—Å—Ç—å –æ–±—Ä–æ–±–∫—É –¥—É–±–ª—é–≤–∞–Ω–Ω—è —á–ª–µ–Ω—Å—Ç–≤–∞ –≤ –≥—Ä—É–ø–∞—Ö
- ‚úÖ –ù–∞–ª–∞—à—Ç—É—î RLS –ø–æ–ª—ñ—Ç–∏–∫–∏ –¥–ª—è –≤—Å—ñ—Ö —Ç–∞–±–ª–∏—Ü—å

### 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Storage Buckets

1. –í —Ç–æ–º—É –∂ SQL Editor —Å—Ç–≤–æ—Ä—ñ—Ç—å —â–µ –æ–¥–∏–Ω –Ω–æ–≤–∏–π –∑–∞–ø–∏—Ç
2. –°–∫–æ–ø—ñ—é–π—Ç–µ –≤–µ—Å—å –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É `create_storage_buckets.sql` —Ç–∞ –≤—Å—Ç–∞–≤—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Run** –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞

**–¶–µ–π —Å–∫—Ä–∏–ø—Ç —Å—Ç–≤–æ—Ä–∏—Ç—å:**
- ‚úÖ Bucket `avatar` –¥–ª—è –∞–≤–∞—Ç–∞—Ä—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–ª—ñ–º—ñ—Ç 5MB)
- ‚úÖ Bucket `media` –¥–ª—è –º–µ–¥—ñ–∞—Ñ–∞–π–ª—ñ–≤ –ø–æ—Å—Ç—ñ–≤ (–ª—ñ–º—ñ—Ç 50MB)
- ‚úÖ Bucket `reels` –¥–ª—è –≤—ñ–¥–µ–æ —Ä—ñ–ª—Å—ñ–≤ (–ª—ñ–º—ñ—Ç 100MB)
- ‚úÖ RLS –ø–æ–ª—ñ—Ç–∏–∫–∏ –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ —Ñ–∞–π–ª—ñ–≤

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—ñ–≤:

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–∞–±–ª–∏—Ü—ñ:**
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ —Ä–æ–∑–¥—ñ–ª—É **Table Editor**
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ç–∞–±–ª–∏—Ü—è `media` —Å—Ç–≤–æ—Ä–µ–Ω–∞
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –≤—Å—ñ foreign key –∑–≤'—è–∑–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Storage:**
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ —Ä–æ–∑–¥—ñ–ª—É **Storage**
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ buckets `avatar`, `media`, —Ç–∞ `reels` —Å—Ç–≤–æ—Ä–µ–Ω—ñ
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ–ª—ñ—Ç–∏–∫ –¥–æ—Å—Ç—É–ø—É

### 4. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ

–ü—ñ—Å–ª—è –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—ñ–≤:

1. **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä—ñ–≤** –ø–æ–≤–∏–Ω–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
2. **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–¥—ñ–∞ –≤ –ø–æ—Å—Ç–∞—Ö** –ø–æ–≤–∏–Ω–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏
3. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø —Ç–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —á–ª–µ–Ω—ñ–≤** –ø–æ–≤–∏–Ω–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏
4. **–ù–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –Ω–∞ –∫–∞—Ä—Ç–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤** –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ "–õ—é–¥–∏" —Ç–µ–ø–µ—Ä –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –¥–æ –ø—Ä–æ—Ñ—ñ–ª—é

## –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏

### ‚ùå –ü–æ–º–∏–ª–∫–∏, —è–∫—ñ –±—É–ª–∏:
- `Bucket not found` –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∞–≤–∞—Ç–∞—Ä—ñ–≤
- `404 Not Found` –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ —Ç–∞–±–ª–∏—Ü–µ—é media
- –ü—Ä–æ–±–ª–µ–º–∏ –∑ foreign key –∑–≤'—è–∑–∫–∞–º–∏
- –ù–∞—Ç–∏—Å–∫–∞–Ω–Ω—è —Ç—ñ–ª—å–∫–∏ –Ω–∞ –∞–≤–∞—Ç–∞—Ä –∑–∞–º—ñ—Å—Ç—å –≤—Å—ñ—î—ó –∫–∞—Ä—Ç–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### ‚úÖ –©–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:
- –°—Ç–≤–æ—Ä–µ–Ω—ñ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ storage buckets
- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ RLS –ø–æ–ª—ñ—Ç–∏–∫–∏
- –ü–æ–∫—Ä–∞—â–µ–Ω–∞ UX –≤–∑–∞—î–º–æ–¥—ñ—è –∑ –∫–∞—Ä—Ç–∫–∞–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

## –í–∞–∂–ª–∏–≤—ñ –ø—Ä–∏–º—ñ—Ç–∫–∏

‚ö†Ô∏è **–£–≤–∞–≥–∞:** –í–∏–∫–æ–Ω—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É:
1. –°–ø–æ—á–∞—Ç–∫—É `fix_database_issues.sql`
2. –ü–æ—Ç—ñ–º `create_storage_buckets.sql`

üí° **–ü–æ—Ä–∞–¥–∞:** –Ø–∫—â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
- –ß–∏ –º–∞—î—Ç–µ –≤–∏ –ø—Ä–∞–≤–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É
- –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–∏–π –≤–µ—Å—å –∫–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞
- –ß–∏ –Ω–µ–º–∞—î —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫ —É SQL

üîÑ **–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω.